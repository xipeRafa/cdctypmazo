(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function OA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gp={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT;function zC(){if(iT)return wc;iT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var sT;function jC(){return sT||(sT=1,Gp.exports=zC()),Gp.exports}var B=jC(),$p={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT;function qC(){if(aT)return De;aT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function E(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,z={};function O(M,oe,ve){this.props=M,this.context=oe,this.refs=z,this.updater=ve||S}O.prototype.isReactComponent={},O.prototype.setState=function(M,oe){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,oe,"setState")},O.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function H(){}H.prototype=O.prototype;function Z(M,oe,ve){this.props=M,this.context=oe,this.refs=z,this.updater=ve||S}var $=Z.prototype=new H;$.constructor=Z,D($,O.prototype),$.isPureReactComponent=!0;var ae=Array.isArray,ne={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function N(M,oe,ve,me,ge,Ve){return ve=Ve.ref,{$$typeof:n,type:M,key:oe,ref:ve!==void 0?ve:null,props:Ve}}function I(M,oe){return N(M.type,oe,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function x(M){var oe={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ve){return oe[ve]})}var P=/\/+/g;function j(M,oe){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):oe.toString(36)}function V(){}function Bt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(V,V):(M.status="pending",M.then(function(oe){M.status==="pending"&&(M.status="fulfilled",M.value=oe)},function(oe){M.status==="pending"&&(M.status="rejected",M.reason=oe)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Vt(M,oe,ve,me,ge){var Ve=typeof M;(Ve==="undefined"||Ve==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(Ve){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case n:case e:xe=!0;break;case _:return xe=M._init,Vt(xe(M._payload),oe,ve,me,ge)}}if(xe)return ge=ge(M),xe=me===""?"."+j(M,0):me,ae(ge)?(ve="",xe!=null&&(ve=xe.replace(P,"$&/")+"/"),Vt(ge,oe,ve,"",function(_t){return _t})):ge!=null&&(R(ge)&&(ge=I(ge,ve+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+xe)),oe.push(ge)),1;xe=0;var Nt=me===""?".":me+":";if(ae(M))for(var He=0;He<M.length;He++)me=M[He],Ve=Nt+j(me,He),xe+=Vt(me,oe,ve,Ve,ge);else if(He=E(M),typeof He=="function")for(M=He.call(M),He=0;!(me=M.next()).done;)me=me.value,Ve=Nt+j(me,He++),xe+=Vt(me,oe,ve,Ve,ge);else if(Ve==="object"){if(typeof M.then=="function")return Vt(Bt(M),oe,ve,me,ge);throw oe=String(M),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return xe}function fe(M,oe,ve){if(M==null)return M;var me=[],ge=0;return Vt(M,me,"","",function(Ve){return oe.call(ve,Ve,ge++)}),me}function Se(M){if(M._status===-1){var oe=M._result;oe=oe(),oe.then(function(ve){(M._status===0||M._status===-1)&&(M._status=1,M._result=ve)},function(ve){(M._status===0||M._status===-1)&&(M._status=2,M._result=ve)}),M._status===-1&&(M._status=0,M._result=oe)}if(M._status===1)return M._result.default;throw M._result}var Ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Xe(){}return De.Children={map:fe,forEach:function(M,oe,ve){fe(M,function(){oe.apply(this,arguments)},ve)},count:function(M){var oe=0;return fe(M,function(){oe++}),oe},toArray:function(M){return fe(M,function(oe){return oe})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},De.Component=O,De.Fragment=t,De.Profiler=a,De.PureComponent=Z,De.StrictMode=i,De.Suspense=m,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,De.act=function(){throw Error("act(...) is not supported in production builds of React.")},De.cache=function(M){return function(){return M.apply(null,arguments)}},De.cloneElement=function(M,oe,ve){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var me=D({},M.props),ge=M.key,Ve=void 0;if(oe!=null)for(xe in oe.ref!==void 0&&(Ve=void 0),oe.key!==void 0&&(ge=""+oe.key),oe)!ce.call(oe,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&oe.ref===void 0||(me[xe]=oe[xe]);var xe=arguments.length-2;if(xe===1)me.children=ve;else if(1<xe){for(var Nt=Array(xe),He=0;He<xe;He++)Nt[He]=arguments[He+2];me.children=Nt}return N(M.type,ge,void 0,void 0,Ve,me)},De.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},De.createElement=function(M,oe,ve){var me,ge={},Ve=null;if(oe!=null)for(me in oe.key!==void 0&&(Ve=""+oe.key),oe)ce.call(oe,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ge[me]=oe[me]);var xe=arguments.length-2;if(xe===1)ge.children=ve;else if(1<xe){for(var Nt=Array(xe),He=0;He<xe;He++)Nt[He]=arguments[He+2];ge.children=Nt}if(M&&M.defaultProps)for(me in xe=M.defaultProps,xe)ge[me]===void 0&&(ge[me]=xe[me]);return N(M,Ve,void 0,void 0,null,ge)},De.createRef=function(){return{current:null}},De.forwardRef=function(M){return{$$typeof:d,render:M}},De.isValidElement=R,De.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Se}},De.memo=function(M,oe){return{$$typeof:p,type:M,compare:oe===void 0?null:oe}},De.startTransition=function(M){var oe=ne.T,ve={};ne.T=ve;try{var me=M(),ge=ne.S;ge!==null&&ge(ve,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Xe,Ee)}catch(Ve){Ee(Ve)}finally{ne.T=oe}},De.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},De.use=function(M){return ne.H.use(M)},De.useActionState=function(M,oe,ve){return ne.H.useActionState(M,oe,ve)},De.useCallback=function(M,oe){return ne.H.useCallback(M,oe)},De.useContext=function(M){return ne.H.useContext(M)},De.useDebugValue=function(){},De.useDeferredValue=function(M,oe){return ne.H.useDeferredValue(M,oe)},De.useEffect=function(M,oe){return ne.H.useEffect(M,oe)},De.useId=function(){return ne.H.useId()},De.useImperativeHandle=function(M,oe,ve){return ne.H.useImperativeHandle(M,oe,ve)},De.useInsertionEffect=function(M,oe){return ne.H.useInsertionEffect(M,oe)},De.useLayoutEffect=function(M,oe){return ne.H.useLayoutEffect(M,oe)},De.useMemo=function(M,oe){return ne.H.useMemo(M,oe)},De.useOptimistic=function(M,oe){return ne.H.useOptimistic(M,oe)},De.useReducer=function(M,oe,ve){return ne.H.useReducer(M,oe,ve)},De.useRef=function(M){return ne.H.useRef(M)},De.useState=function(M){return ne.H.useState(M)},De.useSyncExternalStore=function(M,oe,ve){return ne.H.useSyncExternalStore(M,oe,ve)},De.useTransition=function(){return ne.H.useTransition()},De.version="19.0.0",De}var oT;function om(){return oT||(oT=1,$p.exports=qC()),$p.exports}var Q=om();const Ey=OA(Q);var Kp={exports:{}},vc={},Qp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function FC(){return lT||(lT=1,function(n){function e(fe,Se){var Ee=fe.length;fe.push(Se);e:for(;0<Ee;){var Xe=Ee-1>>>1,M=fe[Xe];if(0<a(M,Se))fe[Xe]=Se,fe[Ee]=M,Ee=Xe;else break e}}function t(fe){return fe.length===0?null:fe[0]}function i(fe){if(fe.length===0)return null;var Se=fe[0],Ee=fe.pop();if(Ee!==Se){fe[0]=Ee;e:for(var Xe=0,M=fe.length,oe=M>>>1;Xe<oe;){var ve=2*(Xe+1)-1,me=fe[ve],ge=ve+1,Ve=fe[ge];if(0>a(me,Ee))ge<M&&0>a(Ve,me)?(fe[Xe]=Ve,fe[ge]=Ee,Xe=ge):(fe[Xe]=me,fe[ve]=Ee,Xe=ve);else if(ge<M&&0>a(Ve,Ee))fe[Xe]=Ve,fe[ge]=Ee,Xe=ge;else break e}}return Se}function a(fe,Se){var Ee=fe.sortIndex-Se.sortIndex;return Ee!==0?Ee:fe.id-Se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],p=[],_=1,b=null,E=3,S=!1,D=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function $(fe){for(var Se=t(p);Se!==null;){if(Se.callback===null)i(p);else if(Se.startTime<=fe)i(p),Se.sortIndex=Se.expirationTime,e(m,Se);else break;Se=t(p)}}function ae(fe){if(z=!1,$(fe),!D)if(t(m)!==null)D=!0,Bt();else{var Se=t(p);Se!==null&&Vt(ae,Se.startTime-fe)}}var ne=!1,ce=-1,N=5,I=-1;function R(){return!(n.unstable_now()-I<N)}function x(){if(ne){var fe=n.unstable_now();I=fe;var Se=!0;try{e:{D=!1,z&&(z=!1,H(ce),ce=-1),S=!0;var Ee=E;try{t:{for($(fe),b=t(m);b!==null&&!(b.expirationTime>fe&&R());){var Xe=b.callback;if(typeof Xe=="function"){b.callback=null,E=b.priorityLevel;var M=Xe(b.expirationTime<=fe);if(fe=n.unstable_now(),typeof M=="function"){b.callback=M,$(fe),Se=!0;break t}b===t(m)&&i(m),$(fe)}else i(m);b=t(m)}if(b!==null)Se=!0;else{var oe=t(p);oe!==null&&Vt(ae,oe.startTime-fe),Se=!1}}break e}finally{b=null,E=Ee,S=!1}Se=void 0}}finally{Se?P():ne=!1}}}var P;if(typeof Z=="function")P=function(){Z(x)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,V=j.port2;j.port1.onmessage=x,P=function(){V.postMessage(null)}}else P=function(){O(x,0)};function Bt(){ne||(ne=!0,P())}function Vt(fe,Se){ce=O(function(){fe(n.unstable_now())},Se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(fe){fe.callback=null},n.unstable_continueExecution=function(){D||S||(D=!0,Bt())},n.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<fe?Math.floor(1e3/fe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(fe){switch(E){case 1:case 2:case 3:var Se=3;break;default:Se=E}var Ee=E;E=Se;try{return fe()}finally{E=Ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(fe,Se){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ee=E;E=fe;try{return Se()}finally{E=Ee}},n.unstable_scheduleCallback=function(fe,Se,Ee){var Xe=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Xe+Ee:Xe):Ee=Xe,fe){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Ee+M,fe={id:_++,callback:Se,priorityLevel:fe,startTime:Ee,expirationTime:M,sortIndex:-1},Ee>Xe?(fe.sortIndex=Ee,e(p,fe),t(m)===null&&fe===t(p)&&(z?(H(ce),ce=-1):z=!0,Vt(ae,Ee-Xe))):(fe.sortIndex=M,e(m,fe),D||S||(D=!0,Bt())),fe},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(fe){var Se=E;return function(){var Ee=E;E=Se;try{return fe.apply(this,arguments)}finally{E=Ee}}}}(Yp)),Yp}var uT;function HC(){return uT||(uT=1,Qp.exports=FC()),Qp.exports}var Xp={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function GC(){if(cT)return dn;cT=1;var n=om();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:m,containerInfo:p,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,_)},dn.flushSync=function(m){var p=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=_,i.d.f()}},dn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},dn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},dn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,b=d(_,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:S}):_==="script"&&i.d.X(m,{crossOrigin:b,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},dn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=d(_,p.crossOrigin);i.d.L(m,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dn.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},dn.requestFormReset=function(m){i.d.r(m)},dn.unstable_batchedUpdates=function(m,p){return m(p)},dn.useFormState=function(m,p,_){return c.H.useFormState(m,p,_)},dn.useFormStatus=function(){return c.H.useHostTransitionStatus()},dn.version="19.0.0",dn}var hT;function $C(){if(hT)return Xp.exports;hT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=GC(),Xp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fT;function KC(){if(fT)return vc;fT=1;var n=HC(),e=om(),t=$C();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ae=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ce(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var N=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===N?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case d:return"Portal";case _:return"Profiler";case p:return"StrictMode";case z:return"Suspense";case O:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case S:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case D:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case Z:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,P,j;function V(r){if(P===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);P=s&&s[1]||"",j=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+r+j}var Bt=!1;function Vt(r,s){if(!r||Bt)return"";Bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var K=J}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(J){K=J}r.call(ie.prototype)}}else{try{throw Error()}catch(J){K=J}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),v=g[0],T=g[1];if(v&&T){var C=v.split(`
`),L=T.split(`
`);for(f=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(u===C.length||f===L.length)for(u=C.length-1,f=L.length-1;1<=u&&0<=f&&C[u]!==L[f];)f--;for(;1<=u&&0<=f;u--,f--)if(C[u]!==L[f]){if(u!==1||f!==1)do if(u--,f--,0>f||C[u]!==L[f]){var ee=`
`+C[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Bt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?V(o):""}function fe(r){switch(r.tag){case 26:case 27:case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 15:return r=Vt(r.type,!1),r;case 11:return r=Vt(r.type.render,!1),r;case 1:return r=Vt(r.type,!0),r;default:return""}}function Se(r){try{var s="";do s+=fe(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ee(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Xe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function M(r){if(Ee(r)!==r)throw Error(i(188))}function oe(r){var s=r.alternate;if(!s){if(s=Ee(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return M(f),r;if(g===u)return M(f),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var v=!1,T=f.child;T;){if(T===o){v=!0,o=f,u=g;break}if(T===u){v=!0,u=f,o=g;break}T=T.sibling}if(!v){for(T=g.child;T;){if(T===o){v=!0,o=g,u=f;break}if(T===u){v=!0,u=g,o=f;break}T=T.sibling}if(!v)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function ve(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=ve(r),s!==null)return s;r=r.sibling}return null}var me=Array.isArray,ge=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},xe=[],Nt=-1;function He(r){return{current:r}}function _t(r){0>Nt||(r.current=xe[Nt],xe[Nt]=null,Nt--)}function Ze(r,s){Nt++,xe[Nt]=r.current,r.current=s}var wn=He(null),ri=He(null),Zn=He(null),Hi=He(null);function Gi(r,s){switch(Ze(Zn,s),Ze(ri,r),Ze(wn,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?OE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=OE(r),s=PE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}_t(wn),Ze(wn,s)}function ii(){_t(wn),_t(ri),_t(Zn)}function mu(r){r.memoizedState!==null&&Ze(Hi,r);var s=wn.current,o=PE(s,r.type);s!==o&&(Ze(ri,r),Ze(wn,o))}function bo(r){ri.current===r&&(_t(wn),_t(ri)),Hi.current===r&&(_t(Hi),mc._currentValue=Ve)}var Eo=Object.prototype.hasOwnProperty,ia=n.unstable_scheduleCallback,To=n.unstable_cancelCallback,Km=n.unstable_shouldYield,gu=n.unstable_requestPaint,Vn=n.unstable_now,Nh=n.unstable_getCurrentPriorityLevel,Ut=n.unstable_ImmediatePriority,$t=n.unstable_UserBlockingPriority,si=n.unstable_NormalPriority,Oh=n.unstable_LowPriority,pu=n.unstable_IdlePriority,Qm=n.log,sa=n.unstable_setDisableYieldValue,$i=null,hn=null;function yu(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}function Cr(r){if(typeof Qm=="function"&&sa(r),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode($i,r)}catch{}}var vn=Math.clz32?Math.clz32:Mh,_u=Math.log,Ph=Math.LN2;function Mh(r){return r>>>=0,r===0?32:31-(_u(r)/Ph|0)|0}var xr=128,Ki=4194304;function _r(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Jn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,f=r.suspendedLanes,g=r.pingedLanes,v=r.warmLanes;r=r.finishedLanes!==0;var T=o&134217727;return T!==0?(o=T&~f,o!==0?u=_r(o):(g&=T,g!==0?u=_r(g):r||(v=T&~v,v!==0&&(u=_r(v))))):(T=o&~f,T!==0?u=_r(T):g!==0?u=_r(g):r||(v=o&~v,v!==0&&(u=_r(v)))),u===0?0:s!==0&&s!==u&&!(s&f)&&(f=u&-u,v=s&-s,f>=v||f===32&&(v&4194176)!==0)?s:u}function Qi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ao(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var r=xr;return xr<<=1,!(xr&4194176)&&(xr=128),r}function Yi(){var r=Ki;return Ki<<=1,!(Ki&62914560)&&(Ki=4194304),r}function So(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function At(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function kh(r,s,o,u,f,g){var v=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,C=r.expirationTimes,L=r.hiddenUpdates;for(o=v&~o;0<o;){var ee=31-vn(o),ie=1<<ee;T[ee]=0,C[ee]=-1;var K=L[ee];if(K!==null)for(L[ee]=null,ee=0;ee<K.length;ee++){var J=K[ee];J!==null&&(J.lane&=-536870913)}o&=~ie}u!==0&&Xi(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(v&~s))}function Xi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-vn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Wi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-vn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Lh(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function Bh(){var r=ge.p;return r!==0?r:(r=window.event,r===void 0?32:ZE(r.type))}function Zi(r,s){var o=ge.p;try{return ge.p=r,s()}finally{ge.p=o}}var Dr=Math.random().toString(36).slice(2),Kt="__reactFiber$"+Dr,zt="__reactProps$"+Dr,ai="__reactContainer$"+Dr,aa="__reactEvents$"+Dr,Ro="__reactListeners$"+Dr,Vr="__reactHandles$"+Dr,vu="__reactResources$"+Dr,Ji="__reactMarker$"+Dr;function oa(r){delete r[Kt],delete r[zt],delete r[aa],delete r[Ro],delete r[Vr]}function wr(r){var s=r[Kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ai]||o[Kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=LE(r);r!==null;){if(o=r[Kt])return o;r=LE(r)}return s}r=o,o=r.parentNode}return null}function oi(r){if(r=r[Kt]||r[ai]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function es(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ts(r){var s=r[vu];return s||(s=r[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function mt(r){r[Ji]=!0}var bu=new Set,Io={};function Bn(r,s){Nn(r,s),Nn(r+"Capture",s)}function Nn(r,s){for(Io[r]=s,r=0;r<s.length;r++)bu.add(s[r])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},Tu={};function Uh(r){return Eo.call(Tu,r)?!0:Eo.call(Eu,r)?!1:Ym.test(r)?Tu[r]=!0:(Eu[r]=!0,!1)}function ns(r,s,o){if(Uh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function rs(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function er(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function bn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function zh(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Xm(r){var s=zh(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function la(r){r._valueTracker||(r._valueTracker=Xm(r))}function Au(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=zh(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Co(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var li=/[\n"\\]/g;function wt(r){return r.replace(li,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function is(r,s,o,u,f,g,v,T){r.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?r.type=v:r.removeAttribute("type"),s!=null?v==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+bn(s)):r.value!==""+bn(s)&&(r.value=""+bn(s)):v!=="submit"&&v!=="reset"||r.removeAttribute("value"),s!=null?xo(r,v,bn(s)):o!=null?xo(r,v,bn(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+bn(T):r.removeAttribute("name")}function ua(r,s,o,u,f,g,v,T){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+bn(o):"",s=s!=null?""+bn(s):o,T||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=T?r.checked:!!u,r.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.name=v)}function xo(r,s,o){s==="number"&&Co(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ge(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+bn(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ca(r,s,o){if(s!=null&&(s=""+bn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+bn(o):""}function ss(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(me(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=bn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function tr(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Wm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Wm.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function jh(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Su(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Su(r,g,s[g])}function Ru(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(r){return Jm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var nr=null;function Do(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,ci=null;function hi(r){var s=oi(r);if(s&&(r=s.stateNode)){var o=r[zt]||null;e:switch(r=s.stateNode,s.type){case"input":if(is(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[zt]||null;if(!f)throw Error(i(90));is(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Au(u)}break e;case"textarea":ca(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ge(r,!!o.multiple,s,!1)}}}var Iu=!1;function qh(r,s,o){if(Iu)return r(s,o);Iu=!0;try{var u=r(s);return u}finally{if(Iu=!1,(ui!==null||ci!==null)&&(Pf(),ui&&(s=ui,r=ci,ci=ui=null,hi(s),r)))for(s=0;s<r.length;s++)hi(r[s])}}function ha(r,s){var o=r.stateNode;if(o===null)return null;var u=o[zt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var rr=!1;if(Un)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){rr=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{rr=!1}var Or=null,as=null,fi=null;function Cu(){if(fi)return fi;var r,s=as,o=s.length,u,f="value"in Or?Or.value:Or.textContent,g=f.length;for(r=0;r<o&&s[r]===f[r];r++);var v=o-r;for(u=1;u<=v&&s[o-u]===f[g-u];u++);return fi=f.slice(r,1<u?1-u:void 0)}function Pr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function xu(){return!1}function Qt(r){function s(o,u,f,g,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(g):g[T]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Mr:xu,this.isPropagationStopped=xu,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),s}var We={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Qt(We),da=x({},We,{view:0,detail:0}),Fh=Qt(da),No,Oo,kr,ma=x({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ya,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==kr&&(kr&&r.type==="mousemove"?(No=r.screenX-kr.screenX,Oo=r.screenY-kr.screenY):Oo=No=0,kr=r),No)},movementY:function(r){return"movementY"in r?r.movementY:Oo}}),ir=Qt(ma),Hh=x({},ma,{dataTransfer:0}),eg=Qt(Hh),ga=x({},da,{relatedTarget:0}),Po=Qt(ga),Du=x({},We,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=Qt(Du),Gh=x({},We,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ko=Qt(Gh),tg=x({},We,{data:0}),Vu=Qt(tg),pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Kh[r])?!!s[r]:!1}function ya(){return Nu}var Qh=x({},da,{key:function(r){if(r.key){var s=pa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Pr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$h[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ya,charCode:function(r){return r.type==="keypress"?Pr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Pr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Lo=Qt(Qh),Yh=x({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=Qt(Yh),di=x({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ya}),Xh=Qt(di),Wh=x({},We,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zh=Qt(Wh),Jh=x({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Bo=Qt(Jh),En=x({},We,{newState:0,oldState:0}),ef=Qt(En),tf=[9,13,27,32],Lr=Un&&"CompositionEvent"in window,h=null;Un&&"documentMode"in document&&(h=document.documentMode);var y=Un&&"TextEvent"in window&&!h,w=Un&&(!Lr||h&&8<h&&11>=h),A=" ",q=!1;function X(r,s){switch(r){case"keyup":return tf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ue=!1;function jt(r,s){switch(r){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return r=s.data,r===A&&q?null:r;default:return null}}function ze(r,s){if(Ue)return r==="compositionend"||!Lr&&X(r,s)?(r=Cu(),fi=as=Or=null,Ue=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Yt[r.type]:s==="textarea"}function mi(r,s,o,u){ui?ci?ci.push(u):ci=[u]:ui=u,s=Uf(s,"onChange"),0<s.length&&(o=new Vo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var nn=null,Br=null;function Pu(r){CE(r,0)}function nf(r){var s=es(r);if(Au(s))return r}function rv(r,s){if(r==="change")return s}var iv=!1;if(Un){var ng;if(Un){var rg="oninput"in document;if(!rg){var sv=document.createElement("div");sv.setAttribute("oninput","return;"),rg=typeof sv.oninput=="function"}ng=rg}else ng=!1;iv=ng&&(!document.documentMode||9<document.documentMode)}function av(){nn&&(nn.detachEvent("onpropertychange",ov),Br=nn=null)}function ov(r){if(r.propertyName==="value"&&nf(Br)){var s=[];mi(s,Br,r,Do(r)),qh(Pu,s)}}function pI(r,s,o){r==="focusin"?(av(),nn=s,Br=o,nn.attachEvent("onpropertychange",ov)):r==="focusout"&&av()}function yI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nf(Br)}function _I(r,s){if(r==="click")return nf(s)}function wI(r,s){if(r==="input"||r==="change")return nf(s)}function vI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:vI;function Mu(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Eo.call(s,f)||!zn(r[f],s[f]))return!1}return!0}function lv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function uv(r,s){var o=lv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=lv(o)}}function cv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?cv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function hv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Co(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Co(r.document)}return s}function ig(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function bI(r,s){var o=hv(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&cv(s.ownerDocument.documentElement,s)){if(u!==null&&ig(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var f=s.textContent.length,g=Math.min(u.start,f);u=u.end===void 0?g:Math.min(u.end,f),!o.extend&&g>u&&(f=u,u=g,g=f),f=uv(s,g);var v=uv(s,u);f&&v&&(o.rangeCount!==1||o.anchorNode!==f.node||o.anchorOffset!==f.offset||o.focusNode!==v.node||o.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),o.removeAllRanges(),g>u?(o.addRange(r),o.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var EI=Un&&"documentMode"in document&&11>=document.documentMode,Uo=null,sg=null,ku=null,ag=!1;function fv(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ag||Uo==null||Uo!==Co(u)||(u=Uo,"selectionStart"in u&&ig(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ku&&Mu(ku,u)||(ku=u,u=Uf(sg,"onSelect"),0<u.length&&(s=new Vo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Uo)))}function _a(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var zo={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},og={},dv={};Un&&(dv=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function wa(r){if(og[r])return og[r];if(!zo[r])return r;var s=zo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in dv)return og[r]=s[o];return r}var mv=wa("animationend"),gv=wa("animationiteration"),pv=wa("animationstart"),TI=wa("transitionrun"),AI=wa("transitionstart"),SI=wa("transitioncancel"),yv=wa("transitionend"),_v=new Map,wv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vr(r,s){_v.set(r,s),Bn(s,[r])}var sr=[],jo=0,lg=0;function rf(){for(var r=jo,s=lg=jo=0;s<r;){var o=sr[s];sr[s++]=null;var u=sr[s];sr[s++]=null;var f=sr[s];sr[s++]=null;var g=sr[s];if(sr[s++]=null,u!==null&&f!==null){var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}g!==0&&vv(o,f,g)}}function sf(r,s,o,u){sr[jo++]=r,sr[jo++]=s,sr[jo++]=o,sr[jo++]=u,lg|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function ug(r,s,o,u){return sf(r,s,o,u),af(r)}function os(r,s){return sf(r,null,null,s),af(r)}function vv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;f&&s!==null&&r.tag===3&&(g=r.stateNode,f=31-vn(o),g=g.hiddenUpdates,r=g[f],r===null?g[f]=[s]:r.push(s),s.lane=o|536870912)}function af(r){if(50<oc)throw oc=0,gp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var qo={},bv=new WeakMap;function ar(r,s){if(typeof r=="object"&&r!==null){var o=bv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Se(s)},bv.set(r,s),s)}return{value:r,source:s,stack:Se(s)}}var Fo=[],Ho=0,of=null,lf=0,or=[],lr=0,va=null,gi=1,pi="";function ba(r,s){Fo[Ho++]=lf,Fo[Ho++]=of,of=r,lf=s}function Ev(r,s,o){or[lr++]=gi,or[lr++]=pi,or[lr++]=va,va=r;var u=gi;r=pi;var f=32-vn(u)-1;u&=~(1<<f),o+=1;var g=32-vn(s)+f;if(30<g){var v=f-f%5;g=(u&(1<<v)-1).toString(32),u>>=v,f-=v,gi=1<<32-vn(s)+f|o<<f|u,pi=g+r}else gi=1<<g|o<<f|u,pi=r}function cg(r){r.return!==null&&(ba(r,1),Ev(r,1,0))}function hg(r){for(;r===of;)of=Fo[--Ho],Fo[Ho]=null,lf=Fo[--Ho],Fo[Ho]=null;for(;r===va;)va=or[--lr],or[lr]=null,pi=or[--lr],or[lr]=null,gi=or[--lr],or[lr]=null}var Tn=null,rn=null,$e=!1,br=null,Ur=!1,fg=Error(i(519));function Ea(r){var s=Error(i(418,""));throw Uu(ar(s,r)),fg}function Tv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Kt]=r,s[zt]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<uc.length;o++)Le(uc[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),ua(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),la(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ss(s,u.value,u.defaultValue,u.children),la(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||NE(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=zf),s=!0):s=!1,s||Ea(r)}function Av(r){for(Tn=r.return;Tn;)switch(Tn.tag){case 3:case 27:Ur=!0;return;case 5:case 13:Ur=!1;return;default:Tn=Tn.return}}function Lu(r){if(r!==Tn)return!1;if(!$e)return Av(r),$e=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Np(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&rn&&Ea(r),Av(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){rn=Tr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}rn=null}}else rn=Tn?Tr(r.stateNode.nextSibling):null;return!0}function Bu(){rn=Tn=null,$e=!1}function Uu(r){br===null?br=[r]:br.push(r)}var zu=Error(i(460)),Sv=Error(i(474)),dg={then:function(){}};function Rv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function uf(){}function Iv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(uf,uf),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===zu?Error(i(483)):r;default:if(typeof s.status=="string")s.then(uf,uf);else{if(r=it,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===zu?Error(i(483)):r}throw ju=s,zu}}var ju=null;function Cv(){if(ju===null)throw Error(i(459));var r=ju;return ju=null,r}var Go=null,qu=0;function cf(r){var s=qu;return qu+=1,Go===null&&(Go=[]),Iv(Go,r,s)}function Fu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function hf(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function xv(r){var s=r._init;return s(r._payload)}function Dv(r){function s(U,k){if(r){var G=U.deletions;G===null?(U.deletions=[k],U.flags|=16):G.push(k)}}function o(U,k){if(!r)return null;for(;k!==null;)s(U,k),k=k.sibling;return null}function u(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function f(U,k){return U=ws(U,k),U.index=0,U.sibling=null,U}function g(U,k,G){return U.index=G,r?(G=U.alternate,G!==null?(G=G.index,G<k?(U.flags|=33554434,k):G):(U.flags|=33554434,k)):(U.flags|=1048576,k)}function v(U){return r&&U.alternate===null&&(U.flags|=33554434),U}function T(U,k,G,te){return k===null||k.tag!==6?(k=op(G,U.mode,te),k.return=U,k):(k=f(k,G),k.return=U,k)}function C(U,k,G,te){var pe=G.type;return pe===m?ee(U,k,G.props.children,te,G.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&xv(pe)===k.type)?(k=f(k,G.props),Fu(k,G),k.return=U,k):(k=xf(G.type,G.key,G.props,null,U.mode,te),Fu(k,G),k.return=U,k)}function L(U,k,G,te){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=lp(G,U.mode,te),k.return=U,k):(k=f(k,G.children||[]),k.return=U,k)}function ee(U,k,G,te,pe){return k===null||k.tag!==7?(k=Na(G,U.mode,te,pe),k.return=U,k):(k=f(k,G),k.return=U,k)}function ie(U,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=op(""+k,U.mode,G),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c:return G=xf(k.type,k.key,k.props,null,U.mode,G),Fu(G,k),G.return=U,G;case d:return k=lp(k,U.mode,G),k.return=U,k;case Z:var te=k._init;return k=te(k._payload),ie(U,k,G)}if(me(k)||ce(k))return k=Na(k,U.mode,G,null),k.return=U,k;if(typeof k.then=="function")return ie(U,cf(k),G);if(k.$$typeof===S)return ie(U,Rf(U,k),G);hf(U,k)}return null}function K(U,k,G,te){var pe=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pe!==null?null:T(U,k,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case c:return G.key===pe?C(U,k,G,te):null;case d:return G.key===pe?L(U,k,G,te):null;case Z:return pe=G._init,G=pe(G._payload),K(U,k,G,te)}if(me(G)||ce(G))return pe!==null?null:ee(U,k,G,te,null);if(typeof G.then=="function")return K(U,k,cf(G),te);if(G.$$typeof===S)return K(U,k,Rf(U,G),te);hf(U,G)}return null}function J(U,k,G,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(G)||null,T(k,U,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case c:return U=U.get(te.key===null?G:te.key)||null,C(k,U,te,pe);case d:return U=U.get(te.key===null?G:te.key)||null,L(k,U,te,pe);case Z:var Oe=te._init;return te=Oe(te._payload),J(U,k,G,te,pe)}if(me(te)||ce(te))return U=U.get(G)||null,ee(k,U,te,pe,null);if(typeof te.then=="function")return J(U,k,G,cf(te),pe);if(te.$$typeof===S)return J(U,k,G,Rf(k,te),pe);hf(k,te)}return null}function _e(U,k,G,te){for(var pe=null,Oe=null,be=k,Ae=k=0,Zt=null;be!==null&&Ae<G.length;Ae++){be.index>Ae?(Zt=be,be=null):Zt=be.sibling;var Ke=K(U,be,G[Ae],te);if(Ke===null){be===null&&(be=Zt);break}r&&be&&Ke.alternate===null&&s(U,be),k=g(Ke,k,Ae),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke,be=Zt}if(Ae===G.length)return o(U,be),$e&&ba(U,Ae),pe;if(be===null){for(;Ae<G.length;Ae++)be=ie(U,G[Ae],te),be!==null&&(k=g(be,k,Ae),Oe===null?pe=be:Oe.sibling=be,Oe=be);return $e&&ba(U,Ae),pe}for(be=u(be);Ae<G.length;Ae++)Zt=J(be,U,Ae,G[Ae],te),Zt!==null&&(r&&Zt.alternate!==null&&be.delete(Zt.key===null?Ae:Zt.key),k=g(Zt,k,Ae),Oe===null?pe=Zt:Oe.sibling=Zt,Oe=Zt);return r&&be.forEach(function(Rs){return s(U,Rs)}),$e&&ba(U,Ae),pe}function Ie(U,k,G,te){if(G==null)throw Error(i(151));for(var pe=null,Oe=null,be=k,Ae=k=0,Zt=null,Ke=G.next();be!==null&&!Ke.done;Ae++,Ke=G.next()){be.index>Ae?(Zt=be,be=null):Zt=be.sibling;var Rs=K(U,be,Ke.value,te);if(Rs===null){be===null&&(be=Zt);break}r&&be&&Rs.alternate===null&&s(U,be),k=g(Rs,k,Ae),Oe===null?pe=Rs:Oe.sibling=Rs,Oe=Rs,be=Zt}if(Ke.done)return o(U,be),$e&&ba(U,Ae),pe;if(be===null){for(;!Ke.done;Ae++,Ke=G.next())Ke=ie(U,Ke.value,te),Ke!==null&&(k=g(Ke,k,Ae),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return $e&&ba(U,Ae),pe}for(be=u(be);!Ke.done;Ae++,Ke=G.next())Ke=J(be,U,Ae,Ke.value,te),Ke!==null&&(r&&Ke.alternate!==null&&be.delete(Ke.key===null?Ae:Ke.key),k=g(Ke,k,Ae),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return r&&be.forEach(function(UC){return s(U,UC)}),$e&&ba(U,Ae),pe}function Et(U,k,G,te){if(typeof G=="object"&&G!==null&&G.type===m&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case c:e:{for(var pe=G.key;k!==null;){if(k.key===pe){if(pe=G.type,pe===m){if(k.tag===7){o(U,k.sibling),te=f(k,G.props.children),te.return=U,U=te;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&xv(pe)===k.type){o(U,k.sibling),te=f(k,G.props),Fu(te,G),te.return=U,U=te;break e}o(U,k);break}else s(U,k);k=k.sibling}G.type===m?(te=Na(G.props.children,U.mode,te,G.key),te.return=U,U=te):(te=xf(G.type,G.key,G.props,null,U.mode,te),Fu(te,G),te.return=U,U=te)}return v(U);case d:e:{for(pe=G.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){o(U,k.sibling),te=f(k,G.children||[]),te.return=U,U=te;break e}else{o(U,k);break}else s(U,k);k=k.sibling}te=lp(G,U.mode,te),te.return=U,U=te}return v(U);case Z:return pe=G._init,G=pe(G._payload),Et(U,k,G,te)}if(me(G))return _e(U,k,G,te);if(ce(G)){if(pe=ce(G),typeof pe!="function")throw Error(i(150));return G=pe.call(G),Ie(U,k,G,te)}if(typeof G.then=="function")return Et(U,k,cf(G),te);if(G.$$typeof===S)return Et(U,k,Rf(U,G),te);hf(U,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(o(U,k.sibling),te=f(k,G),te.return=U,U=te):(o(U,k),te=op(G,U.mode,te),te.return=U,U=te),v(U)):o(U,k)}return function(U,k,G,te){try{qu=0;var pe=Et(U,k,G,te);return Go=null,pe}catch(be){if(be===zu)throw be;var Oe=fr(29,be,null,U.mode);return Oe.lanes=te,Oe.return=U,Oe}finally{}}}var Ta=Dv(!0),Vv=Dv(!1),$o=He(null),ff=He(0);function Nv(r,s){r=Ii,Ze(ff,r),Ze($o,s),Ii=r|s.baseLanes}function mg(){Ze(ff,Ii),Ze($o,$o.current)}function gg(){Ii=ff.current,_t($o),_t(ff)}var ur=He(null),zr=null;function ls(r){var s=r.alternate;Ze(Ft,Ft.current&1),Ze(ur,r),zr===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(zr=r)}function Ov(r){if(r.tag===22){if(Ze(Ft,Ft.current),Ze(ur,r),zr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(zr=r)}}else us()}function us(){Ze(Ft,Ft.current),Ze(ur,ur.current)}function yi(r){_t(ur),zr===r&&(zr=null),_t(Ft)}var Ft=He(0);function df(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var RI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},II=n.unstable_scheduleCallback,CI=n.unstable_NormalPriority,Ht={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pg(){return{controller:new RI,data:new Map,refCount:0}}function Hu(r){r.refCount--,r.refCount===0&&II(CI,function(){r.controller.abort()})}var Gu=null,yg=0,Ko=0,Qo=null;function xI(r,s){if(Gu===null){var o=Gu=[];yg=0,Ko=Tp(),Qo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return yg++,s.then(Pv,Pv),s}function Pv(){if(--yg===0&&Gu!==null){Qo!==null&&(Qo.status="fulfilled");var r=Gu;Gu=null,Ko=0,Qo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function DI(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Mv=R.S;R.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xI(r,s),Mv!==null&&Mv(r,s)};var Aa=He(null);function _g(){var r=Aa.current;return r!==null?r:it.pooledCache}function mf(r,s){s===null?Ze(Aa,Aa.current):Ze(Aa,s.pool)}function kv(){var r=_g();return r===null?null:{parent:Ht._currentValue,pool:r}}var cs=0,Ne=null,tt=null,Ot=null,gf=!1,Yo=!1,Sa=!1,pf=0,$u=0,Xo=null,VI=0;function St(){throw Error(i(321))}function wg(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!zn(r[o],s[o]))return!1;return!0}function vg(r,s,o,u,f,g){return cs=g,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,R.H=r===null||r.memoizedState===null?Ra:hs,Sa=!1,g=o(u,f),Sa=!1,Yo&&(g=Bv(s,o,u,f)),Lv(r),g}function Lv(r){R.H=jr;var s=tt!==null&&tt.next!==null;if(cs=0,Ot=tt=Ne=null,gf=!1,$u=0,Xo=null,s)throw Error(i(300));r===null||Xt||(r=r.dependencies,r!==null&&Sf(r)&&(Xt=!0))}function Bv(r,s,o,u){Ne=r;var f=0;do{if(Yo&&(Xo=null),$u=0,Yo=!1,25<=f)throw Error(i(301));if(f+=1,Ot=tt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=Ia,g=s(o,u)}while(Yo);return g}function NI(){var r=R.H,s=r.useState()[0];return s=typeof s.then=="function"?Ku(s):s,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(Ne.flags|=1024),s}function bg(){var r=pf!==0;return pf=0,r}function Eg(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Tg(r){if(gf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}cs=0,Ot=tt=Ne=null,Yo=!1,$u=pf=0,Xo=null}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function Pt(){if(tt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var s=Ot===null?Ne.memoizedState:Ot.next;if(s!==null)Ot=s,tt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}var yf;yf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ku(r){var s=$u;return $u+=1,Xo===null&&(Xo=[]),r=Iv(Xo,r,s),s=Ne,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,R.H=s===null||s.memoizedState===null?Ra:hs),r}function _f(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ku(r);if(r.$$typeof===S)return fn(r)}throw Error(i(438,String(r)))}function Ag(r){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=yf(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=ae;return s.index++,o}function _i(r,s){return typeof s=="function"?s(r):s}function wf(r){var s=Pt();return Sg(s,tt,r)}function Sg(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var v=f.next;f.next=g.next,g.next=v}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var T=v=null,C=null,L=s,ee=!1;do{var ie=L.lane&-536870913;if(ie!==L.lane?(je&ie)===ie:(cs&ie)===ie){var K=L.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ie===Ko&&(ee=!0);else if((cs&K)===K){L=L.next,K===Ko&&(ee=!0);continue}else ie={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=ie,v=g):C=C.next=ie,Ne.lanes|=K,vs|=K;ie=L.action,Sa&&o(g,ie),g=L.hasEagerState?L.eagerState:o(g,ie)}else K={lane:ie,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=K,v=g):C=C.next=K,Ne.lanes|=ie,vs|=ie;L=L.next}while(L!==null&&L!==s);if(C===null?v=g:C.next=T,!zn(g,r.memoizedState)&&(Xt=!0,ee&&(o=Qo,o!==null)))throw o;r.memoizedState=g,r.baseState=v,r.baseQueue=C,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Rg(r){var s=Pt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do g=r(g,v.action),v=v.next;while(v!==f);zn(g,s.memoizedState)||(Xt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function Uv(r,s,o){var u=Ne,f=Pt(),g=$e;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var v=!zn((tt||f).memoizedState,o);if(v&&(f.memoizedState=o,Xt=!0),f=f.queue,xg(qv.bind(null,u,f,r),[r]),f.getSnapshot!==s||v||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Wo(9,jv.bind(null,u,f,o,s),{destroy:void 0},null),it===null)throw Error(i(349));g||cs&60||zv(u,s,o)}return o}function zv(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=yf(),Ne.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function jv(r,s,o,u){s.value=o,s.getSnapshot=u,Fv(s)&&Hv(r)}function qv(r,s,o){return o(function(){Fv(s)&&Hv(r)})}function Fv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!zn(r,o)}catch{return!0}}function Hv(r){var s=os(r,2);s!==null&&An(s,r,2)}function Ig(r){var s=On();if(typeof r=="function"){var o=r;if(r=o(),Sa){Cr(!0);try{o()}finally{Cr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:r},s}function Gv(r,s,o,u){return r.baseState=o,Sg(r,tt,typeof u=="function"?u:_i)}function OI(r,s,o,u,f){if(Ef(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};R.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,$v(s,g)):(g.next=o.next,s.pending=o.next=g)}}function $v(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=R.T,v={};R.T=v;try{var T=o(f,u),C=R.S;C!==null&&C(v,T),Kv(r,s,T)}catch(L){Cg(r,s,L)}finally{R.T=g}}else try{g=o(f,u),Kv(r,s,g)}catch(L){Cg(r,s,L)}}function Kv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qv(r,s,u)},function(u){return Cg(r,s,u)}):Qv(r,s,o)}function Qv(r,s,o){s.status="fulfilled",s.value=o,Yv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,$v(r,o)))}function Cg(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Yv(s),s=s.next;while(s!==u)}r.action=null}function Yv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Xv(r,s){return s}function Wv(r,s){if($e){var o=it.formState;if(o!==null){e:{var u=Ne;if($e){if(rn){t:{for(var f=rn,g=Ur;f.nodeType!==8;){if(!g){f=null;break t}if(f=Tr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){rn=Tr(f.nextSibling),u=f.data==="F!";break e}}Ea(u)}u=!1}u&&(s=o[0])}}return o=On(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:s},o.queue=u,o=gb.bind(null,Ne,u),u.dispatch=o,u=Ig(!1),g=Pg.bind(null,Ne,!1,u.queue),u=On(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=OI.bind(null,Ne,f,g,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function Zv(r){var s=Pt();return Jv(s,tt,r)}function Jv(r,s,o){s=Sg(r,s,Xv)[0],r=wf(_i)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ku(s):s;var u=Pt(),f=u.queue,g=f.dispatch;return o!==u.memoizedState&&(Ne.flags|=2048,Wo(9,PI.bind(null,f,o),{destroy:void 0},null)),[s,g,r]}function PI(r,s){r.action=s}function eb(r){var s=Pt(),o=tt;if(o!==null)return Jv(s,o,r);Pt(),s=s.memoizedState,o=Pt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Wo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Ne.updateQueue,s===null&&(s=yf(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function tb(){return Pt().memoizedState}function vf(r,s,o,u){var f=On();Ne.flags|=r,f.memoizedState=Wo(1|s,o,{destroy:void 0},u===void 0?null:u)}function bf(r,s,o,u){var f=Pt();u=u===void 0?null:u;var g=f.memoizedState.inst;tt!==null&&u!==null&&wg(u,tt.memoizedState.deps)?f.memoizedState=Wo(s,o,g,u):(Ne.flags|=r,f.memoizedState=Wo(1|s,o,g,u))}function nb(r,s){vf(8390656,8,r,s)}function xg(r,s){bf(2048,8,r,s)}function rb(r,s){return bf(4,2,r,s)}function ib(r,s){return bf(4,4,r,s)}function sb(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ab(r,s,o){o=o!=null?o.concat([r]):null,bf(4,4,sb.bind(null,s,r),o)}function Dg(){}function ob(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&wg(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function lb(r,s){var o=Pt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&wg(s,u[1]))return u[0];if(u=r(),Sa){Cr(!0);try{r()}finally{Cr(!1)}}return o.memoizedState=[u,s],u}function Vg(r,s,o){return o===void 0||cs&1073741824?r.memoizedState=s:(r.memoizedState=o,r=cE(),Ne.lanes|=r,vs|=r,o)}function ub(r,s,o,u){return zn(o,s)?o:$o.current!==null?(r=Vg(r,o,u),zn(r,s)||(Xt=!0),r):cs&42?(r=cE(),Ne.lanes|=r,vs|=r,s):(Xt=!0,r.memoizedState=o)}function cb(r,s,o,u,f){var g=ge.p;ge.p=g!==0&&8>g?g:8;var v=R.T,T={};R.T=T,Pg(r,!1,s,o);try{var C=f(),L=R.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var ee=DI(C,u);Qu(r,s,ee,Hn(r))}else Qu(r,s,u,Hn(r))}catch(ie){Qu(r,s,{then:function(){},status:"rejected",reason:ie},Hn())}finally{ge.p=g,R.T=v}}function MI(){}function Ng(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=hb(r).queue;cb(r,f,s,Ve,o===null?MI:function(){return fb(r),o(u)})}function hb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ve},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function fb(r){var s=hb(r).next.queue;Qu(r,s,{},Hn())}function Og(){return fn(mc)}function db(){return Pt().memoizedState}function mb(){return Pt().memoizedState}function kI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();r=ms(o);var u=gs(s,r,o);u!==null&&(An(u,s,o),Wu(u,s,o)),s={cache:pg()},r.payload=s;return}s=s.return}}function LI(r,s,o){var u=Hn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(r)?pb(s,o):(o=ug(r,s,o,u),o!==null&&(An(o,r,u),yb(o,s,u)))}function gb(r,s,o){var u=Hn();Qu(r,s,o,u)}function Qu(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(r))pb(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,T=g(v,o);if(f.hasEagerState=!0,f.eagerState=T,zn(T,v))return sf(r,s,f,0),it===null&&rf(),!1}catch{}finally{}if(o=ug(r,s,f,u),o!==null)return An(o,r,u),yb(o,s,u),!0}return!1}function Pg(r,s,o,u){if(u={lane:2,revertLane:Tp(),action:u,hasEagerState:!1,eagerState:null,next:null},Ef(r)){if(s)throw Error(i(479))}else s=ug(r,o,u,2),s!==null&&An(s,r,2)}function Ef(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function pb(r,s){Yo=gf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function yb(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Wi(r,o)}}var jr={readContext:fn,use:_f,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St};jr.useCacheRefresh=St,jr.useMemoCache=St,jr.useHostTransitionStatus=St,jr.useFormState=St,jr.useActionState=St,jr.useOptimistic=St;var Ra={readContext:fn,use:_f,useCallback:function(r,s){return On().memoizedState=[r,s===void 0?null:s],r},useContext:fn,useEffect:nb,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,vf(4194308,4,sb.bind(null,s,r),o)},useLayoutEffect:function(r,s){return vf(4194308,4,r,s)},useInsertionEffect:function(r,s){vf(4,2,r,s)},useMemo:function(r,s){var o=On();s=s===void 0?null:s;var u=r();if(Sa){Cr(!0);try{r()}finally{Cr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=On();if(o!==void 0){var f=o(s);if(Sa){Cr(!0);try{o(s)}finally{Cr(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=LI.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var s=On();return r={current:r},s.memoizedState=r},useState:function(r){r=Ig(r);var s=r.queue,o=gb.bind(null,Ne,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Dg,useDeferredValue:function(r,s){var o=On();return Vg(o,r,s)},useTransition:function(){var r=Ig(!1);return r=cb.bind(null,Ne,r.queue,!0,!1),On().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ne,f=On();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),it===null)throw Error(i(349));je&60||zv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,nb(qv.bind(null,u,g,r),[r]),u.flags|=2048,Wo(9,jv.bind(null,u,g,o,s),{destroy:void 0},null),o},useId:function(){var r=On(),s=it.identifierPrefix;if($e){var o=pi,u=gi;o=(u&~(1<<32-vn(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=pf++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=VI++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return On().memoizedState=kI.bind(null,Ne)}};Ra.useMemoCache=Ag,Ra.useHostTransitionStatus=Og,Ra.useFormState=Wv,Ra.useActionState=Wv,Ra.useOptimistic=function(r){var s=On();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Pg.bind(null,Ne,!0,o),o.dispatch=s,[r,s]};var hs={readContext:fn,use:_f,useCallback:ob,useContext:fn,useEffect:xg,useImperativeHandle:ab,useInsertionEffect:rb,useLayoutEffect:ib,useMemo:lb,useReducer:wf,useRef:tb,useState:function(){return wf(_i)},useDebugValue:Dg,useDeferredValue:function(r,s){var o=Pt();return ub(o,tt.memoizedState,r,s)},useTransition:function(){var r=wf(_i)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Ku(r),s]},useSyncExternalStore:Uv,useId:db};hs.useCacheRefresh=mb,hs.useMemoCache=Ag,hs.useHostTransitionStatus=Og,hs.useFormState=Zv,hs.useActionState=Zv,hs.useOptimistic=function(r,s){var o=Pt();return Gv(o,tt,r,s)};var Ia={readContext:fn,use:_f,useCallback:ob,useContext:fn,useEffect:xg,useImperativeHandle:ab,useInsertionEffect:rb,useLayoutEffect:ib,useMemo:lb,useReducer:Rg,useRef:tb,useState:function(){return Rg(_i)},useDebugValue:Dg,useDeferredValue:function(r,s){var o=Pt();return tt===null?Vg(o,r,s):ub(o,tt.memoizedState,r,s)},useTransition:function(){var r=Rg(_i)[0],s=Pt().memoizedState;return[typeof r=="boolean"?r:Ku(r),s]},useSyncExternalStore:Uv,useId:db};Ia.useCacheRefresh=mb,Ia.useMemoCache=Ag,Ia.useHostTransitionStatus=Og,Ia.useFormState=eb,Ia.useActionState=eb,Ia.useOptimistic=function(r,s){var o=Pt();return tt!==null?Gv(o,tt,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Mg(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:x({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var kg={isMounted:function(r){return(r=r._reactInternals)?Ee(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Hn(),f=ms(u);f.payload=s,o!=null&&(f.callback=o),s=gs(r,f,u),s!==null&&(An(s,r,u),Wu(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Hn(),f=ms(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=gs(r,f,u),s!==null&&(An(s,r,u),Wu(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Hn(),u=ms(o);u.tag=2,s!=null&&(u.callback=s),s=gs(r,u,o),s!==null&&(An(s,r,o),Wu(s,r,o))}};function _b(r,s,o,u,f,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,v):s.prototype&&s.prototype.isPureReactComponent?!Mu(o,u)||!Mu(f,g):!0}function wb(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&kg.enqueueReplaceState(s,s.state,null)}function Ca(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=x({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Tf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function vb(r){Tf(r)}function bb(r){console.error(r)}function Eb(r){Tf(r)}function Af(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Tb(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Lg(r,s,o){return o=ms(o),o.tag=3,o.payload={element:null},o.callback=function(){Af(r,s)},o}function Ab(r){return r=ms(r),r.tag=3,r}function Sb(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){Tb(s,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(r.callback=function(){Tb(s,o,u),typeof f!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function BI(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Xu(s,o,f,!0),o=ur.current,o!==null){switch(o.tag){case 13:return zr===null?_p():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===dg?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),vp(r,u,f)),!1;case 22:return o.flags|=65536,u===dg?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),vp(r,u,f)),!1}throw Error(i(435,o.tag))}return vp(r,u,f),_p(),!1}if($e)return s=ur.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==fg&&(r=Error(i(422),{cause:u}),Uu(ar(r,o)))):(u!==fg&&(s=Error(i(423),{cause:u}),Uu(ar(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=ar(u,o),f=Lg(r.stateNode,u,f),Zg(r,f),bt!==4&&(bt=2)),!1;var g=Error(i(520),{cause:u});if(g=ar(g,o),sc===null?sc=[g]:sc.push(g),bt!==4&&(bt=2),s===null)return!0;u=ar(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Lg(o.stateNode,u,r),Zg(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bs===null||!bs.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Ab(f),Sb(f,r,o,u),Zg(o,f),!1}o=o.return}while(o!==null);return!1}var Rb=Error(i(461)),Xt=!1;function sn(r,s,o,u){s.child=r===null?Vv(s,null,o,u):Ta(s,r.child,o,u)}function Ib(r,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return Da(s),u=vg(r,s,o,v,g,f),T=bg(),r!==null&&!Xt?(Eg(r,s,f),wi(r,s,f)):($e&&T&&cg(s),s.flags|=1,sn(r,s,u,f),s.child)}function Cb(r,s,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!ap(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,xb(r,s,g,u,f)):(r=xf(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!$g(r,f)){var v=g.memoizedProps;if(o=o.compare,o=o!==null?o:Mu,o(v,u)&&r.ref===s.ref)return wi(r,s,f)}return s.flags|=1,r=ws(g,u),r.ref=s.ref,r.return=s,s.child=r}function xb(r,s,o,u,f){if(r!==null){var g=r.memoizedProps;if(Mu(g,u)&&r.ref===s.ref)if(Xt=!1,s.pendingProps=u=g,$g(r,f))r.flags&131072&&(Xt=!0);else return s.lanes=r.lanes,wi(r,s,f)}return Bg(r,s,o,u,f)}function Db(r,s,o){var u=s.pendingProps,f=u.children,g=(s.stateNode._pendingVisibility&2)!==0,v=r!==null?r.memoizedState:null;if(Yu(r,s),u.mode==="hidden"||g){if(s.flags&128){if(u=v!==null?v.baseLanes|o:o,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Vb(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&mf(s,v!==null?v.cachePool:null),v!==null?Nv(s,v):mg(),Ov(s);else return s.lanes=s.childLanes=536870912,Vb(r,s,v!==null?v.baseLanes|o:o,o)}else v!==null?(mf(s,v.cachePool),Nv(s,v),us(),s.memoizedState=null):(r!==null&&mf(s,null),mg(),us());return sn(r,s,f,o),s.child}function Vb(r,s,o,u){var f=_g();return f=f===null?null:{parent:Ht._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&mf(s,null),mg(),Ov(s),r!==null&&Xu(r,s,u,!0),null}function Yu(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Bg(r,s,o,u,f){return Da(s),o=vg(r,s,o,u,void 0,f),u=bg(),r!==null&&!Xt?(Eg(r,s,f),wi(r,s,f)):($e&&u&&cg(s),s.flags|=1,sn(r,s,o,f),s.child)}function Nb(r,s,o,u,f,g){return Da(s),s.updateQueue=null,o=Bv(s,u,o,f),Lv(r),u=bg(),r!==null&&!Xt?(Eg(r,s,g),wi(r,s,g)):($e&&u&&cg(s),s.flags|=1,sn(r,s,o,g),s.child)}function Ob(r,s,o,u,f){if(Da(s),s.stateNode===null){var g=qo,v=o.contextType;typeof v=="object"&&v!==null&&(g=fn(v)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=kg,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Xg(s),v=o.contextType,g.context=typeof v=="object"&&v!==null?fn(v):qo,g.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Mg(s,o,v,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&kg.enqueueReplaceState(g,g.state,null),Ju(s,u,g,f),Zu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var T=s.memoizedProps,C=Ca(o,T);g.props=C;var L=g.context,ee=o.contextType;v=qo,typeof ee=="object"&&ee!==null&&(v=fn(ee));var ie=o.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T||L!==v)&&wb(s,g,u,v),ds=!1;var K=s.memoizedState;g.state=K,Ju(s,u,g,f),Zu(),L=s.memoizedState,T||K!==L||ds?(typeof ie=="function"&&(Mg(s,o,ie,u),L=s.memoizedState),(C=ds||_b(s,o,C,u,K,L,v))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),g.props=u,g.state=L,g.context=v,u=C):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Wg(r,s),v=s.memoizedProps,ee=Ca(o,v),g.props=ee,ie=s.pendingProps,K=g.context,L=o.contextType,C=qo,typeof L=="object"&&L!==null&&(C=fn(L)),T=o.getDerivedStateFromProps,(L=typeof T=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==ie||K!==C)&&wb(s,g,u,C),ds=!1,K=s.memoizedState,g.state=K,Ju(s,u,g,f),Zu();var J=s.memoizedState;v!==ie||K!==J||ds||r!==null&&r.dependencies!==null&&Sf(r.dependencies)?(typeof T=="function"&&(Mg(s,o,T,u),J=s.memoizedState),(ee=ds||_b(s,o,ee,u,K,J,C)||r!==null&&r.dependencies!==null&&Sf(r.dependencies))?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,C)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=C,u=ee):(typeof g.componentDidUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,Yu(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Ta(s,r.child,null,f),s.child=Ta(s,null,o,f)):sn(r,s,o,f),s.memoizedState=g.state,r=s.child):r=wi(r,s,f),r}function Pb(r,s,o,u){return Bu(),s.flags|=256,sn(r,s,o,u),s.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function zg(r){return{baseLanes:r,cachePool:kv()}}function jg(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=dr),r}function Mb(r,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,v;if((v=g)||(v=r!==null&&r.memoizedState===null?!1:(Ft.current&2)!==0),v&&(f=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(f?ls(s):us(),$e){var T=rn,C;if(C=T){e:{for(C=T,T=Ur;C.nodeType!==8;){if(!T){T=null;break e}if(C=Tr(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(s.memoizedState={dehydrated:T,treeContext:va!==null?{id:gi,overflow:pi}:null,retryLane:536870912},C=fr(18,null,null,0),C.stateNode=T,C.return=s,s.child=C,Tn=s,rn=null,C=!0):C=!1}C||Ea(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?s.lanes=16:s.lanes=536870912,null;yi(s)}return T=u.children,u=u.fallback,f?(us(),f=s.mode,T=Fg({mode:"hidden",children:T},f),u=Na(u,f,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,f=s.child,f.memoizedState=zg(o),f.childLanes=jg(r,v,o),s.memoizedState=Ug,u):(ls(s),qg(s,T))}if(C=r.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(g)s.flags&256?(ls(s),s.flags&=-257,s=Hg(r,s,o)):s.memoizedState!==null?(us(),s.child=r.child,s.flags|=128,s=null):(us(),f=u.fallback,T=s.mode,u=Fg({mode:"visible",children:u.children},T),f=Na(f,T,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ta(s,r.child,null,o),u=s.child,u.memoizedState=zg(o),u.childLanes=jg(r,v,o),s.memoizedState=Ug,s=f);else if(ls(s),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,u=Error(i(419)),u.stack="",u.digest=v,Uu({value:u,source:null,stack:null}),s=Hg(r,s,o)}else if(Xt||Xu(r,s,o,!1),v=(o&r.childLanes)!==0,Xt||v){if(v=it,v!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(v.suspendedLanes|o)?0:u,u!==0&&u!==C.retryLane)throw C.retryLane=u,os(r,u),An(v,r,u),Rb}T.data==="$?"||_p(),s=Hg(r,s,o)}else T.data==="$?"?(s.flags|=128,s.child=r.child,s=JI.bind(null,r),T._reactRetry=s,s=null):(r=C.treeContext,rn=Tr(T.nextSibling),Tn=s,$e=!0,br=null,Ur=!1,r!==null&&(or[lr++]=gi,or[lr++]=pi,or[lr++]=va,gi=r.id,pi=r.overflow,va=s),s=qg(s,u.children),s.flags|=4096);return s}return f?(us(),f=u.fallback,T=s.mode,C=r.child,L=C.sibling,u=ws(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&31457280,L!==null?f=ws(L,f):(f=Na(f,T,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,T=r.child.memoizedState,T===null?T=zg(o):(C=T.cachePool,C!==null?(L=Ht._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=kv(),T={baseLanes:T.baseLanes|o,cachePool:C}),f.memoizedState=T,f.childLanes=jg(r,v,o),s.memoizedState=Ug,u):(ls(s),o=r.child,r=o.sibling,o=ws(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(v=s.deletions,v===null?(s.deletions=[r],s.flags|=16):v.push(r)),s.child=o,s.memoizedState=null,o)}function qg(r,s){return s=Fg({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Fg(r,s){return oE(r,s,0,null)}function Hg(r,s,o){return Ta(s,r.child,null,o),r=qg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function kb(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Qg(r.return,s,o)}function Gg(r,s,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Lb(r,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(sn(r,s,u.children,o),u=Ft.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kb(r,o,s);else if(r.tag===19)kb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Ze(Ft,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&df(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Gg(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&df(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Gg(s,!0,o,null,g);break;case"together":Gg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function wi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,!(o&s.childLanes))if(r!==null){if(Xu(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ws(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ws(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function $g(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&Sf(r)))}function UI(r,s,o){switch(s.tag){case 3:Gi(s,s.stateNode.containerInfo),fs(s,Ht,r.memoizedState.cache),Bu();break;case 27:case 5:mu(s);break;case 4:Gi(s,s.stateNode.containerInfo);break;case 10:fs(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ls(s),s.flags|=128,null):o&s.child.childLanes?Mb(r,s,o):(ls(s),r=wi(r,s,o),r!==null?r.sibling:null);ls(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Xu(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Lb(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ze(Ft,Ft.current),u)break;return null;case 22:case 23:return s.lanes=0,Db(r,s,o);case 24:fs(s,Ht,r.memoizedState.cache)}return wi(r,s,o)}function Bb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Xt=!0;else{if(!$g(r,o)&&!(s.flags&128))return Xt=!1,UI(r,s,o);Xt=!!(r.flags&131072)}else Xt=!1,$e&&s.flags&1048576&&Ev(s,lf,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")ap(u)?(r=Ca(u,r),s.tag=1,s=Ob(null,s,u,r,o)):(s.tag=0,s=Bg(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===D){s.tag=11,s=Ib(null,s,u,r,o);break e}else if(f===H){s.tag=14,s=Cb(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Bg(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ca(u,s.pendingProps),Ob(r,s,u,f,o);case 3:e:{if(Gi(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var g=s.pendingProps;f=s.memoizedState,u=f.element,Wg(r,s),Ju(s,g,null,o);var v=s.memoizedState;if(g=v.cache,fs(s,Ht,g),g!==f.cache&&Yg(s,[Ht],o,!0),Zu(),g=v.element,f.isDehydrated)if(f={element:g,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Pb(r,s,g,o);break e}else if(g!==u){u=ar(Error(i(424)),s),Uu(u),s=Pb(r,s,g,o);break e}else for(rn=Tr(s.stateNode.containerInfo.firstChild),Tn=s,$e=!0,br=null,Ur=!0,o=Vv(s,null,g,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Bu(),g===u){s=wi(r,s,o);break e}sn(r,s,g,o)}s=s.child}return s;case 26:return Yu(r,s),r===null?(o=jE(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,r=s.pendingProps,u=jf(Zn.current).createElement(o),u[Kt]=s,u[zt]=r,an(u,o,r),mt(u),s.stateNode=u):s.memoizedState=jE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return mu(s),r===null&&$e&&(u=s.stateNode=BE(s.type,s.pendingProps,Zn.current),Tn=s,Ur=!0,rn=Tr(u.firstChild)),u=s.pendingProps.children,r!==null||$e?sn(r,s,u,o):s.child=Ta(s,null,u,o),Yu(r,s),s.child;case 5:return r===null&&$e&&((f=u=rn)&&(u=gC(u,s.type,s.pendingProps,Ur),u!==null?(s.stateNode=u,Tn=s,rn=Tr(u.firstChild),Ur=!1,f=!0):f=!1),f||Ea(s)),mu(s),f=s.type,g=s.pendingProps,v=r!==null?r.memoizedProps:null,u=g.children,Np(f,g)?u=null:v!==null&&Np(f,v)&&(s.flags|=32),s.memoizedState!==null&&(f=vg(r,s,NI,null,null,o),mc._currentValue=f),Yu(r,s),sn(r,s,u,o),s.child;case 6:return r===null&&$e&&((r=o=rn)&&(o=pC(o,s.pendingProps,Ur),o!==null?(s.stateNode=o,Tn=s,rn=null,r=!0):r=!1),r||Ea(s)),null;case 13:return Mb(r,s,o);case 4:return Gi(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ta(s,null,u,o):sn(r,s,u,o),s.child;case 11:return Ib(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,fs(s,s.type,u.value),sn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Da(s),f=fn(f),u=u(f),s.flags|=1,sn(r,s,u,o),s.child;case 14:return Cb(r,s,s.type,s.pendingProps,o);case 15:return xb(r,s,s.type,s.pendingProps,o);case 19:return Lb(r,s,o);case 22:return Db(r,s,o);case 24:return Da(s),u=fn(Ht),r===null?(f=_g(),f===null&&(f=it,g=pg(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Xg(s),fs(s,Ht,f)):(r.lanes&o&&(Wg(r,s),Ju(s,null,null,o),Zu()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),fs(s,Ht,u)):(u=g.cache,fs(s,Ht,u),u!==f.cache&&Yg(s,[Ht],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Kg=He(null),xa=null,vi=null;function fs(r,s,o){Ze(Kg,s._currentValue),s._currentValue=o}function bi(r){r._currentValue=Kg.current,_t(Kg)}function Qg(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Yg(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var v=f.child;g=g.firstContext;e:for(;g!==null;){var T=g;g=f;for(var C=0;C<s.length;C++)if(T.context===s[C]){g.lanes|=o,T=g.alternate,T!==null&&(T.lanes|=o),Qg(g.return,o,r),u||(v=null);break e}g=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(i(341));v.lanes|=o,g=v.alternate,g!==null&&(g.lanes|=o),Qg(v,o,r),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Xu(r,s,o,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var T=f.type;zn(f.pendingProps.value,v.value)||(r!==null?r.push(T):r=[T])}}else if(f===Hi.current){if(v=f.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(mc):r=[mc])}f=f.return}r!==null&&Yg(s,r,o,u),s.flags|=262144}function Sf(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Da(r){xa=r,vi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function fn(r){return Ub(xa,r)}function Rf(r,s){return xa===null&&Da(r),Ub(r,s)}function Ub(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vi===null){if(r===null)throw Error(i(308));vi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else vi=vi.next=s;return o}var ds=!1;function Xg(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ms(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function gs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,pt&2){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=af(r),vv(r,null,o),s}return sf(r,u,s,o),af(r)}function Wu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Wi(r,o)}}function Zg(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=v:g=g.next=v,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Jg=!1;function Zu(){if(Jg){var r=Qo;if(r!==null)throw r}}function Ju(r,s,o,u){Jg=!1;var f=r.updateQueue;ds=!1;var g=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,L=C.next;C.next=null,v===null?g=L:v.next=L,v=C;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==v&&(T===null?ee.firstBaseUpdate=L:T.next=L,ee.lastBaseUpdate=C))}if(g!==null){var ie=f.baseState;v=0,ee=L=C=null,T=g;do{var K=T.lane&-536870913,J=K!==T.lane;if(J?(je&K)===K:(u&K)===K){K!==0&&K===Ko&&(Jg=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=r,Ie=T;K=s;var Et=o;switch(Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){ie=_e.call(Et,ie,K);break e}ie=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,K=typeof _e=="function"?_e.call(Et,ie,K):_e,K==null)break e;ie=x({},ie,K);break e;case 2:ds=!0}}K=T.callback,K!==null&&(r.flags|=64,J&&(r.flags|=8192),J=f.callbacks,J===null?f.callbacks=[K]:J.push(K))}else J={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(L=ee=J,C=ie):ee=ee.next=J,v|=K;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;J=T,T=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(C=ie),f.baseState=C,f.firstBaseUpdate=L,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),vs|=v,r.lanes=v,r.memoizedState=ie}}function zb(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function jb(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)zb(o[r],s)}function ec(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,v=o.inst;u=g(),v.destroy=u}o=o.next}while(o!==f)}}catch(T){rt(s,s.return,T)}}function ps(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=s;var C=o;try{T()}catch(L){rt(f,C,L)}}}u=u.next}while(u!==g)}}catch(L){rt(s,s.return,L)}}function qb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{jb(s,o)}catch(u){rt(r,r.return,u)}}}function Fb(r,s,o){o.props=Ca(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){rt(r,s,u)}}function Va(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof o=="function"?r.refCleanup=o(f):o.current=f}}catch(g){rt(r,s,g)}}function jn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){rt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){rt(r,s,f)}else o.current=null}function Hb(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){rt(r,r.return,f)}}function Gb(r,s,o){try{var u=r.stateNode;cC(u,r.type,o,s),u[zt]=s}catch(f){rt(r,r.return,f)}}function $b(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$b(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=zf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(tp(r,s,o),r=r.sibling;r!==null;)tp(r,s,o),r=r.sibling}function If(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(If(r,s,o),r=r.sibling;r!==null;)If(r,s,o),r=r.sibling}var Ei=!1,vt=!1,np=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,Wt=null,Qb=!1;function zI(r,s){if(r=r.containerInfo,Dp=Kf,r=hv(r),ig(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var v=0,T=-1,C=-1,L=0,ee=0,ie=r,K=null;t:for(;;){for(var J;ie!==o||f!==0&&ie.nodeType!==3||(T=v+f),ie!==g||u!==0&&ie.nodeType!==3||(C=v+u),ie.nodeType===3&&(v+=ie.nodeValue.length),(J=ie.firstChild)!==null;)K=ie,ie=J;for(;;){if(ie===r)break t;if(K===o&&++L===f&&(T=v),K===g&&++ee===u&&(C=v),(J=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=J}o=T===-1||C===-1?null:{start:T,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vp={focusedElem:r,selectionRange:o},Kf=!1,Wt=s;Wt!==null;)if(s=Wt,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Wt=r;else for(;Wt!==null;){switch(s=Wt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&g!==null){r=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var _e=Ca(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(_e,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ie){rt(o,o.return,Ie)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Mp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Mp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Wt=r;break}Wt=s.return}return _e=Qb,Qb=!1,_e}function Yb(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ai(r,o),u&4&&ec(5,o);break;case 1:if(Ai(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){rt(o,o.return,T)}else{var f=Ca(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(o,o.return,T)}}u&64&&qb(o),u&512&&Va(o,o.return);break;case 3:if(Ai(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{jb(u,r)}catch(T){rt(o,o.return,T)}}break;case 26:Ai(r,o),u&512&&Va(o,o.return);break;case 27:case 5:Ai(r,o),s===null&&u&4&&Hb(o),u&512&&Va(o,o.return);break;case 12:Ai(r,o);break;case 13:Ai(r,o),u&4&&Zb(r,o);break;case 22:if(f=o.memoizedState!==null||Ei,!f){s=s!==null&&s.memoizedState!==null||vt;var g=Ei,v=vt;Ei=f,(vt=s)&&!v?ys(r,o,(o.subtreeFlags&8772)!==0):Ai(r,o),Ei=g,vt=v}u&512&&(o.memoizedProps.mode==="manual"?Va(o,o.return):jn(o,o.return));break;default:Ai(r,o)}}function Xb(r){var s=r.alternate;s!==null&&(r.alternate=null,Xb(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&oa(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,qn=!1;function Ti(r,s,o){for(o=o.child;o!==null;)Wb(r,s,o),o=o.sibling}function Wb(r,s,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount($i,o)}catch{}switch(o.tag){case 26:vt||jn(o,s),Ti(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||jn(o,s);var u=Mt,f=qn;for(Mt=o.stateNode,Ti(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);oa(o),Mt=u,qn=f;break;case 5:vt||jn(o,s);case 6:f=Mt;var g=qn;if(Mt=null,Ti(r,s,o),Mt=f,qn=g,Mt!==null)if(qn)try{r=Mt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(v){rt(o,s,v)}else try{Mt.removeChild(o.stateNode)}catch(v){rt(o,s,v)}break;case 18:Mt!==null&&(qn?(s=Mt,o=o.stateNode,s.nodeType===8?Pp(s.parentNode,o):s.nodeType===1&&Pp(s,o),_c(s)):Pp(Mt,o.stateNode));break;case 4:u=Mt,f=qn,Mt=o.stateNode.containerInfo,qn=!0,Ti(r,s,o),Mt=u,qn=f;break;case 0:case 11:case 14:case 15:vt||ps(2,o,s),vt||ps(4,o,s),Ti(r,s,o);break;case 1:vt||(jn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Fb(o,s,u)),Ti(r,s,o);break;case 21:Ti(r,s,o);break;case 22:vt||jn(o,s),vt=(u=vt)||o.memoizedState!==null,Ti(r,s,o),vt=u;break;default:Ti(r,s,o)}}function Zb(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_c(r)}catch(o){rt(s,s.return,o)}}function jI(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Kb),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Kb),s;default:throw Error(i(435,r.tag))}}function rp(r,s){var o=jI(r);s.forEach(function(u){var f=eC.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function cr(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,v=s,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:Mt=T.stateNode,qn=!1;break e;case 3:Mt=T.stateNode.containerInfo,qn=!0;break e;case 4:Mt=T.stateNode.containerInfo,qn=!0;break e}T=T.return}if(Mt===null)throw Error(i(160));Wb(g,v,f),Mt=null,qn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Jb(s,r),s=s.sibling}var Er=null;function Jb(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:cr(s,r),hr(r),u&4&&(ps(3,r,r.return),ec(3,r),ps(5,r,r.return));break;case 1:cr(s,r),hr(r),u&512&&(vt||o===null||jn(o,o.return)),u&64&&Ei&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Er;if(cr(s,r),hr(r),u&512&&(vt||o===null||jn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ji]||g[Kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),an(g,u,o),g[Kt]=r,mt(g),u=g;break e;case"link":var v=HE("link","href",f).get(u+(o.href||""));if(v){for(var T=0;T<v.length;T++)if(g=v[T],g.getAttribute("href")===(o.href==null?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(T,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;case"meta":if(v=HE("meta","content",f).get(u+(o.content||""))){for(T=0;T<v.length;T++)if(g=v[T],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(T,1);break t}}g=f.createElement(u),an(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[Kt]=r,mt(g),u=g}r.stateNode=u}else GE(f,r.type,r.stateNode);else r.stateNode=FE(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?GE(f,r.type,r.stateNode):FE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Gb(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){f=r.stateNode,g=r.memoizedProps;try{for(var C=f.firstChild;C;){var L=C.nextSibling,ee=C.nodeName;C[Ji]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=L}for(var ie=r.type,K=f.attributes;K.length;)f.removeAttributeNode(K[0]);an(f,ie,g),f[Kt]=r,f[zt]=g}catch(_e){rt(r,r.return,_e)}}case 5:if(cr(s,r),hr(r),u&512&&(vt||o===null||jn(o,o.return)),r.flags&32){f=r.stateNode;try{tr(f,"")}catch(_e){rt(r,r.return,_e)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Gb(r,f,o!==null?o.memoizedProps:f)),u&1024&&(np=!0);break;case 6:if(cr(s,r),hr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(_e){rt(r,r.return,_e)}}break;case 3:if(Hf=null,f=Er,Er=qf(s.containerInfo),cr(s,r),Er=f,hr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_c(s.containerInfo)}catch(_e){rt(r,r.return,_e)}np&&(np=!1,eE(r));break;case 4:u=Er,Er=qf(r.stateNode.containerInfo),cr(s,r),hr(r),Er=u;break;case 12:cr(s,r),hr(r);break;case 13:cr(s,r),hr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(fp=Vn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rp(r,u)));break;case 22:if(u&512&&(vt||o===null||jn(o,o.return)),C=r.memoizedState!==null,L=o!==null&&o.memoizedState!==null,ee=Ei,ie=vt,Ei=ee||C,vt=ie||L,cr(s,r),vt=ie,Ei=ee,hr(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=C?s._visibility&-2:s._visibility|1,C&&(s=Ei||vt,o===null||L||s||Zo(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){L=o=s;try{if(f=L.stateNode,C)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=L.stateNode,T=L.memoizedProps.style;var J=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(_e){rt(L,L.return,_e)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(_e){rt(L,L.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,rp(r,o))));break;case 19:cr(s,r),hr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,rp(r,u)));break;case 21:break;default:cr(s,r),hr(r)}}function hr(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if($b(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var f=u.stateNode,g=ep(r);If(r,g,f);break;case 5:var v=u.stateNode;u.flags&32&&(tr(v,""),u.flags&=-33);var T=ep(r);If(r,T,v);break;case 3:case 4:var C=u.stateNode.containerInfo,L=ep(r);tp(r,L,C);break;default:throw Error(i(161))}}}catch(ee){rt(r,r.return,ee)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function eE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;eE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ai(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Yb(r,s.alternate,s),s=s.sibling}function Zo(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Zo(s);break;case 1:jn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Fb(s,s.return,o),Zo(s);break;case 26:case 27:case 5:jn(s,s.return),Zo(s);break;case 22:jn(s,s.return),s.memoizedState===null&&Zo(s);break;default:Zo(s)}r=r.sibling}}function ys(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,v=g.flags;switch(g.tag){case 0:case 11:case 15:ys(f,g,o),ec(4,g);break;case 1:if(ys(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){rt(u,u.return,L)}if(u=g,f=u.updateQueue,f!==null){var T=u.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)zb(C[f],T)}catch(L){rt(u,u.return,L)}}o&&v&64&&qb(g),Va(g,g.return);break;case 26:case 27:case 5:ys(f,g,o),o&&u===null&&v&4&&Hb(g),Va(g,g.return);break;case 12:ys(f,g,o);break;case 13:ys(f,g,o),o&&v&4&&Zb(f,g);break;case 22:g.memoizedState===null&&ys(f,g,o),Va(g,g.return);break;default:ys(f,g,o)}s=s.sibling}}function ip(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Hu(o))}function sp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hu(r))}function _s(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tE(r,s,o,u),s=s.sibling}function tE(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:_s(r,s,o,u),f&2048&&ec(9,s);break;case 3:_s(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Hu(r)));break;case 12:if(f&2048){_s(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,v=g.id,T=g.onPostCommit;typeof T=="function"&&T(v,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(C){rt(s,s.return,C)}}else _s(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,s.memoizedState!==null?g._visibility&4?_s(r,s,o,u):tc(r,s):g._visibility&4?_s(r,s,o,u):(g._visibility|=4,Jo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&ip(s.alternate,s);break;case 24:_s(r,s,o,u),f&2048&&sp(s.alternate,s);break;default:_s(r,s,o,u)}}function Jo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,v=s,T=o,C=u,L=v.flags;switch(v.tag){case 0:case 11:case 15:Jo(g,v,T,C,f),ec(8,v);break;case 23:break;case 22:var ee=v.stateNode;v.memoizedState!==null?ee._visibility&4?Jo(g,v,T,C,f):tc(g,v):(ee._visibility|=4,Jo(g,v,T,C,f)),f&&L&2048&&ip(v.alternate,v);break;case 24:Jo(g,v,T,C,f),f&&L&2048&&sp(v.alternate,v);break;default:Jo(g,v,T,C,f)}s=s.sibling}}function tc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:tc(o,u),f&2048&&ip(u.alternate,u);break;case 24:tc(o,u),f&2048&&sp(u.alternate,u);break;default:tc(o,u)}s=s.sibling}}var nc=8192;function el(r){if(r.subtreeFlags&nc)for(r=r.child;r!==null;)nE(r),r=r.sibling}function nE(r){switch(r.tag){case 26:el(r),r.flags&nc&&r.memoizedState!==null&&xC(Er,r.memoizedState,r.memoizedProps);break;case 5:el(r);break;case 3:case 4:var s=Er;Er=qf(r.stateNode.containerInfo),el(r),Er=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=nc,nc=16777216,el(r),nc=s):el(r));break;default:el(r)}}function rE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function rc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Wt=u,sE(u,r)}rE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iE(r),r=r.sibling}function iE(r){switch(r.tag){case 0:case 11:case 15:rc(r),r.flags&2048&&ps(9,r,r.return);break;case 3:rc(r);break;case 12:rc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Cf(r)):rc(r);break;default:rc(r)}}function Cf(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Wt=u,sE(u,r)}rE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Cf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Cf(s));break;default:Cf(s)}r=r.sibling}}function sE(r,s){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Wt=u;else e:for(o=r;Wt!==null;){u=Wt;var f=u.sibling,g=u.return;if(Xb(u),u===o){Wt=null;break e}if(f!==null){f.return=g,Wt=f;break e}Wt=g}}}function qI(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(r,s,o,u){return new qI(r,s,o,u)}function ap(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ws(r,s){var o=r.alternate;return o===null?(o=fr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function aE(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function xf(r,s,o,u,f,g){var v=0;if(u=r,typeof r=="function")ap(r)&&(v=1);else if(typeof r=="string")v=IC(r,o,wn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return Na(o.children,f,g,s);case p:v=8,f|=24;break;case _:return r=fr(12,o,s,f|2),r.elementType=_,r.lanes=g,r;case z:return r=fr(13,o,s,f),r.elementType=z,r.lanes=g,r;case O:return r=fr(19,o,s,f),r.elementType=O,r.lanes=g,r;case $:return oE(o,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:case S:v=10;break e;case E:v=9;break e;case D:v=11;break e;case H:v=14;break e;case Z:v=16,u=null;break e}v=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=fr(v,o,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function Na(r,s,o,u){return r=fr(7,r,u,s),r.lanes=o,r}function oE(r,s,o,u){r=fr(22,r,u,s),r.elementType=$,r.lanes=o;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var g=f._current;if(g===null)throw Error(i(456));if(!(f._pendingVisibility&2)){var v=os(g,2);v!==null&&(f._pendingVisibility|=2,An(v,g,2))}},attach:function(){var g=f._current;if(g===null)throw Error(i(456));if(f._pendingVisibility&2){var v=os(g,2);v!==null&&(f._pendingVisibility&=-3,An(v,g,2))}}};return r.stateNode=f,r}function op(r,s,o){return r=fr(6,r,null,s),r.lanes=o,r}function lp(r,s,o){return s=fr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Si(r){r.flags|=4}function lE(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!$E(s)){if(s=ur.current,s!==null&&((je&4194176)===je?zr!==null:(je&62914560)!==je&&!(je&536870912)||s!==zr))throw ju=dg,Sv;r.flags|=8192}}function Df(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Yi():536870912,r.lanes|=s,nl|=s)}function ic(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function FI(r,s,o){var u=s.pendingProps;switch(hg(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),bi(Ht),ii(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Lu(s)?Si(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,br!==null&&(pp(br),br=null))),gt(s),null;case 26:return o=s.memoizedState,r===null?(Si(s),o!==null?(gt(s),lE(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Si(s),gt(s),lE(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Si(s),gt(s),s.flags&=-16777217),null;case 27:bo(s),o=Zn.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=wn.current,Lu(s)?Tv(s):(r=BE(f,u,o),s.stateNode=r,Si(s))}return gt(s),null;case 5:if(bo(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=wn.current,Lu(s))Tv(s);else{switch(f=jf(Zn.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Kt]=s,r[zt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(an(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Si(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Si(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Zn.current,Lu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Tn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||NE(r.nodeValue,o)),r||Ea(s)}else r=jf(r).createTextNode(u),r[Kt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Lu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Kt]=s}else Bu(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else br!==null&&(pp(br),br=null),f=!0;if(!f)return s.flags&256?(yi(s),s):(yi(s),null)}if(yi(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Df(s,s.updateQueue),gt(s),null;case 4:return ii(),r===null&&Ip(s.stateNode.containerInfo),gt(s),null;case 10:return bi(s.type),gt(s),null;case 19:if(_t(Ft),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)ic(f,!1);else{if(bt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=df(r),g!==null){for(s.flags|=128,ic(f,!1),r=g.updateQueue,s.updateQueue=r,Df(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)aE(o,r),o=o.sibling;return Ze(Ft,Ft.current&1|2),s.child}r=r.sibling}f.tail!==null&&Vn()>Vf&&(s.flags|=128,u=!0,ic(f,!1),s.lanes=4194304)}else{if(!u)if(r=df(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Df(s,r),ic(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!$e)return gt(s),null}else 2*Vn()-f.renderingStartTime>Vf&&o!==536870912&&(s.flags|=128,u=!0,ic(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Vn(),s.sibling=null,r=Ft.current,Ze(Ft,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return yi(s),gg(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Df(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&_t(Aa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),bi(Ht),gt(s),null;case 25:return null}throw Error(i(156,s.tag))}function HI(r,s){switch(hg(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return bi(Ht),ii(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return bo(s),null;case 13:if(yi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Bu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return _t(Ft),null;case 4:return ii(),null;case 10:return bi(s.type),null;case 22:case 23:return yi(s),gg(),r!==null&&_t(Aa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return bi(Ht),null;case 25:return null;default:return null}}function uE(r,s){switch(hg(s),s.tag){case 3:bi(Ht),ii();break;case 26:case 27:case 5:bo(s);break;case 4:ii();break;case 13:yi(s);break;case 19:_t(Ft);break;case 10:bi(s.type);break;case 22:case 23:yi(s),gg(),r!==null&&_t(Aa);break;case 24:bi(Ht)}}var GI={getCacheForType:function(r){var s=fn(Ht),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},$I=typeof WeakMap=="function"?WeakMap:Map,pt=0,it=null,Pe=null,je=0,st=0,Fn=null,Ri=!1,tl=!1,up=!1,Ii=0,bt=0,vs=0,Oa=0,cp=0,dr=0,nl=0,sc=null,qr=null,hp=!1,fp=0,Vf=1/0,Nf=null,bs=null,Of=!1,Pa=null,ac=0,dp=0,mp=null,oc=0,gp=null;function Hn(){if(pt&2&&je!==0)return je&-je;if(R.T!==null){var r=Ko;return r!==0?r:Tp()}return Bh()}function cE(){dr===0&&(dr=!(je&536870912)||$e?wu():536870912);var r=ur.current;return r!==null&&(r.flags|=32),dr}function An(r,s,o){(r===it&&st===2||r.cancelPendingCommit!==null)&&(rl(r,0),Ci(r,je,dr,!1)),At(r,o),(!(pt&2)||r!==it)&&(r===it&&(!(pt&2)&&(Oa|=o),bt===4&&Ci(r,je,dr,!1)),Fr(r))}function hE(r,s,o){if(pt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Qi(r,s),f=u?YI(r,s):wp(r,s,!0),g=u;do{if(f===0){tl&&!u&&Ci(r,s,0,!1);break}else if(f===6)Ci(r,s,0,!Ri);else{if(o=r.current.alternate,g&&!KI(o)){f=wp(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var v=0;else v=r.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var T=r;f=sc;var C=T.current.memoizedState.isDehydrated;if(C&&(rl(T,v).flags|=256),v=wp(T,v,!1),v!==2){if(up&&!C){T.errorRecoveryDisabledLanes|=g,Oa|=g,f=4;break e}g=qr,qr=f,g!==null&&pp(g)}f=v}if(g=!1,f!==2)continue}}if(f===1){rl(r,0),Ci(r,s,0,!0);break}e:{switch(u=r,f){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){Ci(u,s,dr,!Ri);break e}break;case 2:qr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(g=fp+300-Vn(),10<g)){if(Ci(u,s,dr,!Ri),Jn(u,0)!==0)break e;u.timeoutHandle=ME(fE.bind(null,u,o,qr,Nf,hp,s,dr,Oa,nl,Ri,2,-0,0),g);break e}fE(u,o,qr,Nf,hp,s,dr,Oa,nl,Ri,0,-0,0)}}break}while(!0);Fr(r)}function pp(r){qr===null?qr=r:qr.push.apply(qr,r)}function fE(r,s,o,u,f,g,v,T,C,L,ee,ie,K){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(dc={stylesheets:null,count:0,unsuspend:CC},nE(s),s=DC(),s!==null)){r.cancelPendingCommit=s(wE.bind(null,r,o,u,f,v,T,C,1,ie,K)),Ci(r,g,v,!L);return}wE(r,o,u,f,v,T,C,ee,ie,K)}function KI(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!zn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(r,s,o,u){s&=~cp,s&=~Oa,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-vn(f),v=1<<g;u[g]=-1,f&=~v}o!==0&&Xi(r,o,s)}function Pf(){return pt&6?!0:(lc(0),!1)}function yp(){if(Pe!==null){if(st===0)var r=Pe.return;else r=Pe,vi=xa=null,Tg(r),Go=null,qu=0,r=Pe;for(;r!==null;)uE(r.alternate,r),r=r.return;Pe=null}}function rl(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,fC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),yp(),it=r,Pe=o=ws(r.current,null),je=s,st=0,Fn=null,Ri=!1,tl=Qi(r,s),up=!1,nl=dr=cp=Oa=vs=bt=0,qr=sc=null,hp=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-vn(u),g=1<<f;s|=r[f],u&=~g}return Ii=s,rf(),o}function dE(r,s){Ne=null,R.H=jr,s===zu?(s=Cv(),st=3):s===Sv?(s=Cv(),st=4):st=s===Rb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,Pe===null&&(bt=1,Af(r,ar(s,r.current)))}function mE(){var r=R.H;return R.H=jr,r===null?jr:r}function gE(){var r=R.A;return R.A=GI,r}function _p(){bt=4,Ri||(je&4194176)!==je&&ur.current!==null||(tl=!0),!(vs&134217727)&&!(Oa&134217727)||it===null||Ci(it,je,dr,!1)}function wp(r,s,o){var u=pt;pt|=2;var f=mE(),g=gE();(it!==r||je!==s)&&(Nf=null,rl(r,s)),s=!1;var v=bt;e:do try{if(st!==0&&Pe!==null){var T=Pe,C=Fn;switch(st){case 8:yp(),v=6;break e;case 3:case 2:case 6:ur.current===null&&(s=!0);var L=st;if(st=0,Fn=null,il(r,T,C,L),o&&tl){v=0;break e}break;default:L=st,st=0,Fn=null,il(r,T,C,L)}}QI(),v=bt;break}catch(ee){dE(r,ee)}while(!0);return s&&r.shellSuspendCounter++,vi=xa=null,pt=u,R.H=f,R.A=g,Pe===null&&(it=null,je=0,rf()),v}function QI(){for(;Pe!==null;)pE(Pe)}function YI(r,s){var o=pt;pt|=2;var u=mE(),f=gE();it!==r||je!==s?(Nf=null,Vf=Vn()+500,rl(r,s)):tl=Qi(r,s);e:do try{if(st!==0&&Pe!==null){s=Pe;var g=Fn;t:switch(st){case 1:st=0,Fn=null,il(r,s,g,1);break;case 2:if(Rv(g)){st=0,Fn=null,yE(s);break}s=function(){st===2&&it===r&&(st=7),Fr(r)},g.then(s,s);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Rv(g)?(st=0,Fn=null,yE(s)):(st=0,Fn=null,il(r,s,g,7));break;case 5:var v=null;switch(Pe.tag){case 26:v=Pe.memoizedState;case 5:case 27:var T=Pe;if(!v||$E(v)){st=0,Fn=null;var C=T.sibling;if(C!==null)Pe=C;else{var L=T.return;L!==null?(Pe=L,Mf(L)):Pe=null}break t}}st=0,Fn=null,il(r,s,g,5);break;case 6:st=0,Fn=null,il(r,s,g,6);break;case 8:yp(),bt=6;break e;default:throw Error(i(462))}}XI();break}catch(ee){dE(r,ee)}while(!0);return vi=xa=null,R.H=u,R.A=f,pt=o,Pe!==null?0:(it=null,je=0,rf(),bt)}function XI(){for(;Pe!==null&&!Km();)pE(Pe)}function pE(r){var s=Bb(r.alternate,r,Ii);r.memoizedProps=r.pendingProps,s===null?Mf(r):Pe=s}function yE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Nb(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=Nb(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Tg(s);default:uE(o,s),s=Pe=aE(s,Ii),s=Bb(o,s,Ii)}r.memoizedProps=r.pendingProps,s===null?Mf(r):Pe=s}function il(r,s,o,u){vi=xa=null,Tg(s),Go=null,qu=0;var f=s.return;try{if(BI(r,f,s,o,je)){bt=1,Af(r,ar(o,r.current)),Pe=null;return}}catch(g){if(f!==null)throw Pe=f,g;bt=1,Af(r,ar(o,r.current)),Pe=null;return}s.flags&32768?($e||u===1?r=!0:tl||je&536870912?r=!1:(Ri=r=!0,(u===2||u===3||u===6)&&(u=ur.current,u!==null&&u.tag===13&&(u.flags|=16384))),_E(s,r)):Mf(s)}function Mf(r){var s=r;do{if(s.flags&32768){_E(s,Ri);return}r=s.return;var o=FI(s.alternate,s,Ii);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=r}while(s!==null);bt===0&&(bt=5)}function _E(r,s){do{var o=HI(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);bt=6,Pe=null}function wE(r,s,o,u,f,g,v,T,C,L){var ee=R.T,ie=ge.p;try{ge.p=2,R.T=null,WI(r,s,o,u,ie,f,g,v,T,C,L)}finally{R.T=ee,ge.p=ie}}function WI(r,s,o,u,f,g,v,T){do sl();while(Pa!==null);if(pt&6)throw Error(i(327));var C=r.finishedWork;if(u=r.finishedLanes,C===null)return null;if(r.finishedWork=null,r.finishedLanes=0,C===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=lg,kh(r,u,L,g,v,T),r===it&&(Pe=it=null,je=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Of||(Of=!0,dp=L,mp=o,tC(si,function(){return sl(),null})),o=(C.flags&15990)!==0,C.subtreeFlags&15990||o?(o=R.T,R.T=null,g=ge.p,ge.p=2,v=pt,pt|=4,zI(r,C),Jb(C,r),bI(Vp,r.containerInfo),Kf=!!Dp,Vp=Dp=null,r.current=C,Yb(r,C.alternate,C),gu(),pt=v,ge.p=g,R.T=o):r.current=C,Of?(Of=!1,Pa=r,ac=u):vE(r,L),L=r.pendingLanes,L===0&&(bs=null),yu(C.stateNode),Fr(r),s!==null)for(f=r.onRecoverableError,C=0;C<s.length;C++)L=s[C],f(L.value,{componentStack:L.stack});return ac&3&&sl(),L=r.pendingLanes,u&4194218&&L&42?r===gp?oc++:(oc=0,gp=r):oc=0,lc(0),null}function vE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Hu(s)))}function sl(){if(Pa!==null){var r=Pa,s=dp;dp=0;var o=Lh(ac),u=R.T,f=ge.p;try{if(ge.p=32>o?32:o,R.T=null,Pa===null)var g=!1;else{o=mp,mp=null;var v=Pa,T=ac;if(Pa=null,ac=0,pt&6)throw Error(i(331));var C=pt;if(pt|=4,iE(v.current),tE(v,v.current,T,o),pt=C,lc(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot($i,v)}catch{}g=!0}return g}finally{ge.p=f,R.T=u,vE(r,s)}}return!1}function bE(r,s,o){s=ar(o,s),s=Lg(r.stateNode,s,2),r=gs(r,s,2),r!==null&&(At(r,2),Fr(r))}function rt(r,s,o){if(r.tag===3)bE(r,r,o);else for(;s!==null;){if(s.tag===3){bE(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(bs===null||!bs.has(u))){r=ar(o,r),o=Ab(2),u=gs(s,o,2),u!==null&&(Sb(o,u,s,r),At(u,2),Fr(u));break}}s=s.return}}function vp(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new $I;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(up=!0,f.add(o),r=ZI.bind(null,r,s,o),s.then(r,r))}function ZI(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,it===r&&(je&o)===o&&(bt===4||bt===3&&(je&62914560)===je&&300>Vn()-fp?!(pt&2)&&rl(r,0):cp|=o,nl===je&&(nl=0)),Fr(r)}function EE(r,s){s===0&&(s=Yi()),r=os(r,s),r!==null&&(At(r,s),Fr(r))}function JI(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),EE(r,o)}function eC(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),EE(r,o)}function tC(r,s){return ia(r,s)}var kf=null,al=null,bp=!1,Lf=!1,Ep=!1,Ma=0;function Fr(r){r!==al&&r.next===null&&(al===null?kf=al=r:al=al.next=r),Lf=!0,bp||(bp=!0,rC(nC))}function lc(r,s){if(!Ep&&Lf){Ep=!0;do for(var o=!1,u=kf;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var v=u.suspendedLanes,T=u.pingedLanes;g=(1<<31-vn(42|r)+1)-1,g&=f&~(v&~T),g=g&201326677?g&201326677|1:g?g|2:0}g!==0&&(o=!0,SE(u,g))}else g=je,g=Jn(u,u===it?g:0),!(g&3)||Qi(u,g)||(o=!0,SE(u,g));u=u.next}while(o);Ep=!1}}function nC(){Lf=bp=!1;var r=0;Ma!==0&&(hC()&&(r=Ma),Ma=0);for(var s=Vn(),o=null,u=kf;u!==null;){var f=u.next,g=TE(u,s);g===0?(u.next=null,o===null?kf=f:o.next=f,f===null&&(al=o)):(o=u,(r!==0||g&3)&&(Lf=!0)),u=f}lc(r)}function TE(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var v=31-vn(g),T=1<<v,C=f[v];C===-1?(!(T&o)||T&u)&&(f[v]=Ao(T,s)):C<=s&&(r.expiredLanes|=T),g&=~T}if(s=it,o=je,o=Jn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&st===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&To(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||Qi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&To(u),Lh(o)){case 2:case 8:o=$t;break;case 32:o=si;break;case 268435456:o=pu;break;default:o=si}return u=AE.bind(null,r),o=ia(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&To(u),r.callbackPriority=2,r.callbackNode=null,2}function AE(r,s){var o=r.callbackNode;if(sl()&&r.callbackNode!==o)return null;var u=je;return u=Jn(r,r===it?u:0),u===0?null:(hE(r,u,s),TE(r,Vn()),r.callbackNode!=null&&r.callbackNode===o?AE.bind(null,r):null)}function SE(r,s){if(sl())return null;hE(r,s,!0)}function rC(r){dC(function(){pt&6?ia(Ut,r):r()})}function Tp(){return Ma===0&&(Ma=wu()),Ma}function RE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Nr(""+r)}function IE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function iC(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=RE((f[zt]||null).action),v=u.submitter;v&&(s=(s=v[zt]||null)?RE(s.formAction):v.getAttribute("formAction"),s!==null&&(g=s,v=null));var T=new Vo("action","action",null,u,f);r.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ma!==0){var C=v?IE(f,v):new FormData(f);Ng(o,{pending:!0,data:C,method:f.method,action:g},null,C)}}else typeof g=="function"&&(T.preventDefault(),C=v?IE(f,v):new FormData(f),Ng(o,{pending:!0,data:C,method:f.method,action:g},g,C))},currentTarget:f}]})}}for(var Ap=0;Ap<wv.length;Ap++){var Sp=wv[Ap],sC=Sp.toLowerCase(),aC=Sp[0].toUpperCase()+Sp.slice(1);vr(sC,"on"+aC)}vr(mv,"onAnimationEnd"),vr(gv,"onAnimationIteration"),vr(pv,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(TI,"onTransitionRun"),vr(AI,"onTransitionStart"),vr(SI,"onTransitionCancel"),vr(yv,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function CE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var v=u.length-1;0<=v;v--){var T=u[v],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=L;try{g(f)}catch(ee){Tf(ee)}f.currentTarget=null,g=C}else for(v=0;v<u.length;v++){if(T=u[v],C=T.instance,L=T.currentTarget,T=T.listener,C!==g&&f.isPropagationStopped())break e;g=T,f.currentTarget=L;try{g(f)}catch(ee){Tf(ee)}f.currentTarget=null,g=C}}}}function Le(r,s){var o=s[aa];o===void 0&&(o=s[aa]=new Set);var u=r+"__bubble";o.has(u)||(xE(s,r,2,!1),o.add(u))}function Rp(r,s,o){var u=0;s&&(u|=4),xE(o,r,u,s)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function Ip(r){if(!r[Bf]){r[Bf]=!0,bu.forEach(function(o){o!=="selectionchange"&&(oC.has(o)||Rp(o,!1,r),Rp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Bf]||(s[Bf]=!0,Rp("selectionchange",!1,s))}}function xE(r,s,o,u){switch(ZE(s)){case 2:var f=OC;break;case 8:f=PC;break;default:f=zp}o=f.bind(null,s,o,r),f=void 0,!rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function Cp(r,s,o,u,f){var g=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;v=v.return}for(;T!==null;){if(v=wr(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){u=g=v;continue e}T=T.parentNode}}u=u.return}qh(function(){var L=g,ee=Do(o),ie=[];e:{var K=_v.get(r);if(K!==void 0){var J=Vo,_e=r;switch(r){case"keypress":if(Pr(o)===0)break e;case"keydown":case"keyup":J=Lo;break;case"focusin":_e="focus",J=Po;break;case"focusout":_e="blur",J=Po;break;case"beforeblur":case"afterblur":J=Po;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Xh;break;case mv:case gv:case pv:J=Mo;break;case yv:J=Zh;break;case"scroll":case"scrollend":J=Fh;break;case"wheel":J=Bo;break;case"copy":case"cut":case"paste":J=ko;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ou;break;case"toggle":case"beforetoggle":J=ef}var Ie=(s&4)!==0,Et=!Ie&&(r==="scroll"||r==="scrollend"),U=Ie?K!==null?K+"Capture":null:K;Ie=[];for(var k=L,G;k!==null;){var te=k;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||U===null||(te=ha(k,U),te!=null&&Ie.push(cc(k,te,G))),Et)break;k=k.return}0<Ie.length&&(K=new J(K,_e,null,o,ee),ie.push({event:K,listeners:Ie}))}}if(!(s&7)){e:{if(K=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",K&&o!==nr&&(_e=o.relatedTarget||o.fromElement)&&(wr(_e)||_e[ai]))break e;if((J||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,J?(_e=o.relatedTarget||o.toElement,J=L,_e=_e?wr(_e):null,_e!==null&&(Et=Ee(_e),Ie=_e.tag,_e!==Et||Ie!==5&&Ie!==27&&Ie!==6)&&(_e=null)):(J=null,_e=L),J!==_e)){if(Ie=ir,te="onMouseLeave",U="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=Ou,te="onPointerLeave",U="onPointerEnter",k="pointer"),Et=J==null?K:es(J),G=_e==null?K:es(_e),K=new Ie(te,k+"leave",J,o,ee),K.target=Et,K.relatedTarget=G,te=null,wr(ee)===L&&(Ie=new Ie(U,k+"enter",_e,o,ee),Ie.target=G,Ie.relatedTarget=Et,te=Ie),Et=te,J&&_e)t:{for(Ie=J,U=_e,k=0,G=Ie;G;G=ol(G))k++;for(G=0,te=U;te;te=ol(te))G++;for(;0<k-G;)Ie=ol(Ie),k--;for(;0<G-k;)U=ol(U),G--;for(;k--;){if(Ie===U||U!==null&&Ie===U.alternate)break t;Ie=ol(Ie),U=ol(U)}Ie=null}else Ie=null;J!==null&&DE(ie,K,J,Ie,!1),_e!==null&&Et!==null&&DE(ie,Et,_e,Ie,!0)}}e:{if(K=L?es(L):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var pe=rv;else if(qt(K))if(iv)pe=wI;else{pe=yI;var Oe=pI}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?L&&Ru(L.elementType)&&(pe=rv):pe=_I;if(pe&&(pe=pe(r,L))){mi(ie,pe,o,ee);break e}Oe&&Oe(r,K,L),r==="focusout"&&L&&K.type==="number"&&L.memoizedProps.value!=null&&xo(K,"number",K.value)}switch(Oe=L?es(L):window,r){case"focusin":(qt(Oe)||Oe.contentEditable==="true")&&(Uo=Oe,sg=L,ku=null);break;case"focusout":ku=sg=Uo=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,fv(ie,o,ee);break;case"selectionchange":if(EI)break;case"keydown":case"keyup":fv(ie,o,ee)}var be;if(Lr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ue?X(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(w&&o.locale!=="ko"&&(Ue||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ue&&(be=Cu()):(Or=ee,as="value"in Or?Or.value:Or.textContent,Ue=!0)),Oe=Uf(L,Ae),0<Oe.length&&(Ae=new Vu(Ae,r,null,o,ee),ie.push({event:Ae,listeners:Oe}),be?Ae.data=be:(be=le(o),be!==null&&(Ae.data=be)))),(be=y?jt(r,o):ze(r,o))&&(Ae=Uf(L,"onBeforeInput"),0<Ae.length&&(Oe=new Vu("onBeforeInput","beforeinput",null,o,ee),ie.push({event:Oe,listeners:Ae}),Oe.data=be)),iC(ie,r,L,o,ee)}CE(ie,s)})}function cc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Uf(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ha(r,o),f!=null&&u.unshift(cc(r,f,g)),f=ha(r,s),f!=null&&u.push(cc(r,f,g))),r=r.return}return u}function ol(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function DE(r,s,o,u,f){for(var g=s._reactName,v=[];o!==null&&o!==u;){var T=o,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===u)break;T!==5&&T!==26&&T!==27||L===null||(C=L,f?(L=ha(o,g),L!=null&&v.unshift(cc(o,L,C))):f||(L=ha(o,g),L!=null&&v.push(cc(o,L,C)))),o=o.return}v.length!==0&&r.push({event:s,listeners:v})}var lC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function VE(r){return(typeof r=="string"?r:""+r).replace(lC,`
`).replace(uC,"")}function NE(r,s){return s=VE(s),VE(r)===s}function zf(){}function nt(r,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||tr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&tr(r,""+u);break;case"className":rs(r,"class",u);break;case"tabIndex":rs(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(r,o,u);break;case"style":jh(r,u,g);break;case"data":if(s!=="object"){rs(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Nr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&nt(r,s,"name",f.name,f,null),nt(r,s,"formEncType",f.formEncType,f,null),nt(r,s,"formMethod",f.formMethod,f,null),nt(r,s,"formTarget",f.formTarget,f,null)):(nt(r,s,"encType",f.encType,f,null),nt(r,s,"method",f.method,f,null),nt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Nr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=zf);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Nr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),ns(r,"popover",u);break;case"xlinkActuate":er(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":er(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":er(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":er(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":er(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":er(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":er(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":er(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":er(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ns(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zm.get(o)||o,ns(r,o,u))}}function xp(r,s,o,u,f,g){switch(o){case"style":jh(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?tr(r,u):(typeof u=="number"||typeof u=="bigint")&&tr(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=r[zt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):ns(r,o,u)}}}function an(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var v=o[g];if(v!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,g,v,o,null)}}f&&nt(r,s,"srcSet",o.srcSet,o,null),u&&nt(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var T=g=v=f=null,C=null,L=null;for(u in o)if(o.hasOwnProperty(u)){var ee=o[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":v=ee;break;case"checked":C=ee;break;case"defaultChecked":L=ee;break;case"value":g=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:nt(r,s,u,ee,o,null)}}ua(r,g,T,C,L,v,f,!1),la(r);return;case"select":Le("invalid",r),u=v=g=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":g=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:nt(r,s,f,T,o,null)}s=g,o=v,r.multiple=!!u,s!=null?Ge(r,!!u,s,!1):o!=null&&Ge(r,!!u,o,!0);return;case"textarea":Le("invalid",r),g=f=u=null;for(v in o)if(o.hasOwnProperty(v)&&(T=o[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":f=T;break;case"children":g=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:nt(r,s,v,T,o,null)}ss(r,u,f,g),la(r);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(r,s,C,u,o,null)}return;case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<uc.length;u++)Le(uc[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:nt(r,s,L,u,o,null)}return;default:if(Ru(s)){for(ee in o)o.hasOwnProperty(ee)&&(u=o[ee],u!==void 0&&xp(r,s,ee,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&nt(r,s,T,u,o,null))}function cC(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,v=null,T=null,C=null,L=null,ee=null;for(J in o){var ie=o[J];if(o.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":C=ie;default:u.hasOwnProperty(J)||nt(r,s,J,null,u,ie)}}for(var K in u){var J=u[K];if(ie=o[K],u.hasOwnProperty(K)&&(J!=null||ie!=null))switch(K){case"type":g=J;break;case"name":f=J;break;case"checked":L=J;break;case"defaultChecked":ee=J;break;case"value":v=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==ie&&nt(r,s,K,J,u,ie)}}is(r,v,T,C,L,ee,g,f);return;case"select":J=v=T=K=null;for(g in o)if(C=o[g],o.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":J=C;default:u.hasOwnProperty(g)||nt(r,s,g,null,u,C)}for(f in u)if(g=u[f],C=o[f],u.hasOwnProperty(f)&&(g!=null||C!=null))switch(f){case"value":K=g;break;case"defaultValue":T=g;break;case"multiple":v=g;default:g!==C&&nt(r,s,f,g,u,C)}s=T,o=v,u=J,K!=null?Ge(r,!!o,K,!1):!!u!=!!o&&(s!=null?Ge(r,!!o,s,!0):Ge(r,!!o,o?[]:"",!1));return;case"textarea":J=K=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(r,s,T,null,u,f)}for(v in u)if(f=u[v],g=o[v],u.hasOwnProperty(v)&&(f!=null||g!=null))switch(v){case"value":K=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&nt(r,s,v,f,u,g)}ca(r,K,J);return;case"option":for(var _e in o)if(K=o[_e],o.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":r.selected=!1;break;default:nt(r,s,_e,null,u,K)}for(C in u)if(K=u[C],J=o[C],u.hasOwnProperty(C)&&K!==J&&(K!=null||J!=null))switch(C){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:nt(r,s,C,K,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)K=o[Ie],o.hasOwnProperty(Ie)&&K!=null&&!u.hasOwnProperty(Ie)&&nt(r,s,Ie,null,u,K);for(L in u)if(K=u[L],J=o[L],u.hasOwnProperty(L)&&K!==J&&(K!=null||J!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:nt(r,s,L,K,u,J)}return;default:if(Ru(s)){for(var Et in o)K=o[Et],o.hasOwnProperty(Et)&&K!==void 0&&!u.hasOwnProperty(Et)&&xp(r,s,Et,void 0,u,K);for(ee in u)K=u[ee],J=o[ee],!u.hasOwnProperty(ee)||K===J||K===void 0&&J===void 0||xp(r,s,ee,K,u,J);return}}for(var U in o)K=o[U],o.hasOwnProperty(U)&&K!=null&&!u.hasOwnProperty(U)&&nt(r,s,U,null,u,K);for(ie in u)K=u[ie],J=o[ie],!u.hasOwnProperty(ie)||K===J||K==null&&J==null||nt(r,s,ie,K,u,J)}var Dp=null,Vp=null;function jf(r){return r.nodeType===9?r:r.ownerDocument}function OE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Np(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Op=null;function hC(){var r=window.event;return r&&r.type==="popstate"?r===Op?!1:(Op=r,!0):(Op=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(r){return kE.resolve(null).then(r).catch(mC)}:ME;function mC(r){setTimeout(function(){throw r})}function Pp(r,s){var o=s,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){r.removeChild(f),_c(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);_c(s)}function Mp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mp(o),oa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function gC(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ji])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Tr(r.nextSibling),r===null)break}return null}function pC(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Tr(r.nextSibling),r===null))return null;return r}function Tr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function LE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function BE(r,s,o){switch(s=jf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var mr=new Map,UE=new Set;function qf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var xi=ge.d;ge.d={f:yC,r:_C,D:wC,C:vC,L:bC,m:EC,X:AC,S:TC,M:SC};function yC(){var r=xi.f(),s=Pf();return r||s}function _C(r){var s=oi(r);s!==null&&s.tag===5&&s.type==="form"?fb(s):xi.r(r)}var ll=typeof document>"u"?null:document;function zE(r,s,o){var u=ll;if(u&&typeof s=="string"&&s){var f=wt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),UE.has(f)||(UE.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),an(s,"link",r),mt(s),u.head.appendChild(s)))}}function wC(r){xi.D(r),zE("dns-prefetch",r,null)}function vC(r,s){xi.C(r,s),zE("preconnect",r,s)}function bC(r,s,o){xi.L(r,s,o);var u=ll;if(u&&r&&s){var f='link[rel="preload"][as="'+wt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wt(o.imageSizes)+'"]')):f+='[href="'+wt(r)+'"]';var g=f;switch(s){case"style":g=ul(r);break;case"script":g=cl(r)}mr.has(g)||(r=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),mr.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(hc(g))||s==="script"&&u.querySelector(fc(g))||(s=u.createElement("link"),an(s,"link",r),mt(s),u.head.appendChild(s)))}}function EC(r,s){xi.m(r,s);var o=ll;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+wt(u)+'"][href="'+wt(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=cl(r)}if(!mr.has(g)&&(r=x({rel:"modulepreload",href:r},s),mr.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(fc(g)))return}u=o.createElement("link"),an(u,"link",r),mt(u),o.head.appendChild(u)}}}function TC(r,s,o){xi.S(r,s,o);var u=ll;if(u&&r){var f=ts(u).hoistableStyles,g=ul(r);s=s||"default";var v=f.get(g);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(hc(g)))T.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},o),(o=mr.get(g))&&kp(r,o);var C=v=u.createElement("link");mt(C),an(C,"link",r),C._p=new Promise(function(L,ee){C.onload=L,C.onerror=ee}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ff(v,s,u)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(g,v)}}}function AC(r,s){xi.X(r,s);var o=ll;if(o&&r){var u=ts(o).hoistableScripts,f=cl(r),g=u.get(f);g||(g=o.querySelector(fc(f)),g||(r=x({src:r,async:!0},s),(s=mr.get(f))&&Lp(r,s),g=o.createElement("script"),mt(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function SC(r,s){xi.M(r,s);var o=ll;if(o&&r){var u=ts(o).hoistableScripts,f=cl(r),g=u.get(f);g||(g=o.querySelector(fc(f)),g||(r=x({src:r,async:!0,type:"module"},s),(s=mr.get(f))&&Lp(r,s),g=o.createElement("script"),mt(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function jE(r,s,o,u){var f=(f=Zn.current)?qf(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ul(o.href),o=ts(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ul(o.href);var g=ts(f).hoistableStyles,v=g.get(r);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,v),(g=f.querySelector(hc(r)))&&!g._p&&(v.instance=g,v.state.loading=5),mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},mr.set(r,o),g||RC(f,r,o,v.state))),s&&u===null)throw Error(i(528,""));return v}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=cl(o),o=ts(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ul(r){return'href="'+wt(r)+'"'}function hc(r){return'link[rel="stylesheet"]['+r+"]"}function qE(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function RC(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),an(s,"link",o),mt(s),r.head.appendChild(s))}function cl(r){return'[src="'+wt(r)+'"]'}function fc(r){return"script[async]"+r}function FE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+wt(o.href)+'"]');if(u)return s.instance=u,mt(u),u;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),mt(u),an(u,"style",f),Ff(u,o.precedence,r),s.instance=u;case"stylesheet":f=ul(o.href);var g=r.querySelector(hc(f));if(g)return s.state.loading|=4,s.instance=g,mt(g),g;u=qE(o),(f=mr.get(f))&&kp(u,f),g=(r.ownerDocument||r).createElement("link"),mt(g);var v=g;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),an(g,"link",u),s.state.loading|=4,Ff(g,o.precedence,r),s.instance=g;case"script":return g=cl(o.src),(f=r.querySelector(fc(g)))?(s.instance=f,mt(f),f):(u=o,(f=mr.get(g))&&(u=x({},o),Lp(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),mt(f),an(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,Ff(u,o.precedence,r));return s.instance}function Ff(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===s)g=T;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function kp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Lp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Hf=null;function HE(r,s,o){if(Hf===null){var u=new Map,f=Hf=new Map;f.set(o,u)}else f=Hf,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[Ji]||g[Kt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(s)||"";v=r+v;var T=u.get(v);T?T.push(g):u.set(v,[g])}}return u}function GE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function IC(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $E(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var dc=null;function CC(){}function xC(r,s,o){if(dc===null)throw Error(i(475));var u=dc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var f=ul(o.href),g=r.querySelector(hc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Gf.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,mt(g);return}g=r.ownerDocument||r,o=qE(o),(f=mr.get(f))&&kp(o,f),g=g.createElement("link"),mt(g);var v=g;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),an(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=Gf.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function DC(){if(dc===null)throw Error(i(475));var r=dc;return r.stylesheets&&r.count===0&&Bp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Bp(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Gf(){if(this.count--,this.count===0){if(this.stylesheets)Bp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $f=null;function Bp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$f=new Map,s.forEach(VC,r),$f=null,Gf.call(r))}function VC(r,s){if(!(s.state.loading&4)){var o=$f.get(r);if(o)var u=o.get(null);else{o=new Map,$f.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var v=f[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}f=s.instance,v=f.getAttribute("data-precedence"),g=o.get(v)||u,g===u&&o.set(null,f),o.set(v,f),this.count++,u=Gf.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var mc={$$typeof:S,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function NC(r,s,o,u,f,g,v,T){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=So(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.hiddenUpdates=So(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function KE(r,s,o,u,f,g,v,T,C,L,ee,ie){return r=new NC(r,s,o,v,T,C,L,ie),s=1,g===!0&&(s|=24),g=fr(3,null,null,s),r.current=g,g.stateNode=r,s=pg(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Xg(g),r}function QE(r){return r?(r=qo,r):qo}function YE(r,s,o,u,f,g){f=QE(f),u.context===null?u.context=f:u.pendingContext=f,u=ms(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=gs(r,u,s),o!==null&&(An(o,r,s),Wu(o,r,s))}function XE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Up(r,s){XE(r,s),(r=r.alternate)&&XE(r,s)}function WE(r){if(r.tag===13){var s=os(r,67108864);s!==null&&An(s,r,67108864),Up(r,67108864)}}var Kf=!0;function OC(r,s,o,u){var f=R.T;R.T=null;var g=ge.p;try{ge.p=2,zp(r,s,o,u)}finally{ge.p=g,R.T=f}}function PC(r,s,o,u){var f=R.T;R.T=null;var g=ge.p;try{ge.p=8,zp(r,s,o,u)}finally{ge.p=g,R.T=f}}function zp(r,s,o,u){if(Kf){var f=jp(u);if(f===null)Cp(r,s,u,Qf,o),JE(r,u);else if(kC(f,r,s,o,u))u.stopPropagation();else if(JE(r,u),s&4&&-1<MC.indexOf(r)){for(;f!==null;){var g=oi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=_r(g.pendingLanes);if(v!==0){var T=g;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-vn(v);T.entanglements[1]|=C,v&=~C}Fr(g),!(pt&6)&&(Vf=Vn()+500,lc(0))}}break;case 13:T=os(g,2),T!==null&&An(T,g,2),Pf(),Up(g,2)}if(g=jp(u),g===null&&Cp(r,s,u,Qf,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Cp(r,s,u,null,o)}}function jp(r){return r=Do(r),qp(r)}var Qf=null;function qp(r){if(Qf=null,r=wr(r),r!==null){var s=Ee(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Xe(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Qf=r,null}function ZE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nh()){case Ut:return 2;case $t:return 8;case si:case Oh:return 32;case pu:return 268435456;default:return 32}default:return 32}}var Fp=!1,Es=null,Ts=null,As=null,gc=new Map,pc=new Map,Ss=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function JE(r,s){switch(r){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":gc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(s.pointerId)}}function yc(r,s,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=oi(s),s!==null&&WE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function kC(r,s,o,u,f){switch(s){case"focusin":return Es=yc(Es,r,s,o,u,f),!0;case"dragenter":return Ts=yc(Ts,r,s,o,u,f),!0;case"mouseover":return As=yc(As,r,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return gc.set(g,yc(gc.get(g)||null,r,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,pc.set(g,yc(pc.get(g)||null,r,s,o,u,f)),!0}return!1}function eT(r){var s=wr(r.target);if(s!==null){var o=Ee(s);if(o!==null){if(s=o.tag,s===13){if(s=Xe(o),s!==null){r.blockedOn=s,Zi(r.priority,function(){if(o.tag===13){var u=Hn(),f=os(o,u);f!==null&&An(f,o,u),Up(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Yf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=jp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);nr=u,o.target.dispatchEvent(u),nr=null}else return s=oi(o),s!==null&&WE(s),r.blockedOn=o,!1;s.shift()}return!0}function tT(r,s,o){Yf(r)&&o.delete(s)}function LC(){Fp=!1,Es!==null&&Yf(Es)&&(Es=null),Ts!==null&&Yf(Ts)&&(Ts=null),As!==null&&Yf(As)&&(As=null),gc.forEach(tT),pc.forEach(tT)}function Xf(r,s){r.blockedOn===s&&(r.blockedOn=null,Fp||(Fp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,LC)))}var Wf=null;function nT(r){Wf!==r&&(Wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wf===r&&(Wf=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(qp(u||o)===null)continue;break}var g=oi(o);g!==null&&(r.splice(s,3),s-=3,Ng(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function _c(r){function s(C){return Xf(C,r)}Es!==null&&Xf(Es,r),Ts!==null&&Xf(Ts,r),As!==null&&Xf(As,r),gc.forEach(s),pc.forEach(s);for(var o=0;o<Ss.length;o++){var u=Ss[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ss.length&&(o=Ss[0],o.blockedOn===null);)eT(o),o.blockedOn===null&&Ss.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],v=f[zt]||null;if(typeof g=="function")v||nT(o);else if(v){var T=null;if(g&&g.hasAttribute("formAction")){if(f=g,v=g[zt]||null)T=v.formAction;else if(qp(f)!==null)continue}else T=v.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),nT(o)}}}function Hp(r){this._internalRoot=r}Zf.prototype.render=Hp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();YE(o,u,r,s,null,null)},Zf.prototype.unmount=Hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&sl(),YE(r.current,2,null,r,null,null),Pf(),s[ai]=null}};function Zf(r){this._internalRoot=r}Zf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Ss.length&&s!==0&&s<Ss[o].priority;o++);Ss.splice(o,0,r),o===0&&eT(r)}};var rT=e.version;if(rT!=="19.0.0")throw Error(i(527,rT,"19.0.0"));ge.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=oe(s),r=r!==null?ve(r):null,r=r===null?null:r.stateNode,r};var BC={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:wr,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{$i=Jf.inject(BC),hn=Jf}catch{}}return vc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=vb,g=bb,v=Eb,T=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=KE(r,1,!1,null,null,o,u,f,g,v,T,null),r[ai]=s.current,Ip(r.nodeType===8?r.parentNode:r),new Hp(s)},vc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",g=vb,v=bb,T=Eb,C=null,L=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(L=o.formState)),s=KE(r,1,!0,s,o??null,u,f,g,v,T,C,L),s.context=QE(null),o=s.current,u=Hn(),f=ms(u),f.callback=null,gs(o,f,u),s.current.lanes=u,At(s,u),Fr(s),r[ai]=s.current,Ip(r),new Zf(s)},vc.version="19.0.0",vc}var dT;function QC(){if(dT)return Kp.exports;dT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kp.exports=KC(),Kp.exports}var YC=QC();const XC=OA(YC);var Wp={exports:{}},Zp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function WC(){if(mT)return Zp;mT=1;var n=om();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Zp.useSyncExternalStoreWithSelector=function(m,p,_,b,E){var S=a(null);if(S.current===null){var D={hasValue:!1,value:null};S.current=D}else D=S.current;S=c(function(){function O(ne){if(!H){if(H=!0,Z=ne,ne=b(ne),E!==void 0&&D.hasValue){var ce=D.value;if(E(ce,ne))return $=ce}return $=ne}if(ce=$,t(Z,ne))return ce;var N=b(ne);return E!==void 0&&E(ce,N)?(Z=ne,ce):(Z=ne,$=N)}var H=!1,Z,$,ae=_===void 0?null:_;return[function(){return O(p())},ae===null?void 0:function(){return O(ae())}]},[p,_,b,E]);var z=i(m,S[0],S[1]);return l(function(){D.hasValue=!0,D.value=z},[z]),d(z),z},Zp}var gT;function ZC(){return gT||(gT=1,Wp.exports=WC()),Wp.exports}var JC=ZC();function ex(n){n()}function tx(){let n=null,e=null;return{clear(){n=null,e=null},notify(){ex(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var pT={notify(){},get:()=>[]};function nx(n,e){let t,i=pT,a=0,l=!1;function c(z){_();const O=i.subscribe(z);let H=!1;return()=>{H||(H=!0,O(),b())}}function d(){i.notify()}function m(){D.onStateChange&&D.onStateChange()}function p(){return l}function _(){a++,t||(t=n.subscribe(m),i=tx())}function b(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=pT)}function E(){l||(l=!0,_())}function S(){l&&(l=!1,b())}const D={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return D}var rx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ix=rx(),sx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ax=sx(),ox=()=>ix||ax?Q.useLayoutEffect:Q.useEffect,lx=ox(),Jp=Symbol.for("react-redux-context"),ey=typeof globalThis<"u"?globalThis:{};function ux(){if(!Q.createContext)return{};const n=ey[Jp]??(ey[Jp]=new Map);let e=n.get(Q.createContext);return e||(e=Q.createContext(null),n.set(Q.createContext,e)),e}var zs=ux();function cx(n){const{children:e,context:t,serverState:i,store:a}=n,l=Q.useMemo(()=>{const m=nx(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=Q.useMemo(()=>a.getState(),[a]);lx(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||zs;return Q.createElement(d.Provider,{value:l},e)}var hx=cx;function h_(n=zs){return function(){return Q.useContext(n)}}var PA=h_();function MA(n=zs){const e=n===zs?PA:h_(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var fx=MA();function dx(n=zs){const e=n===zs?fx:MA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var kA=dx(),mx=(n,e)=>n===e;function gx(n=zs){const e=n===zs?PA:h_(n),t=(i,a={})=>{const{equalityFn:l=mx}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:p}=c;Q.useRef(!0);const _=Q.useCallback({[i.name](E){return i(E)}}[i.name],[i]),b=JC.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,p||d.getState,_,l);return Q.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var Ty=gx(),bc={},yT;function px(){if(yT)return bc;yT=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.parse=c,bc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const D=new l,z=E.length;if(z<2)return D;const O=(S==null?void 0:S.decode)||_;let H=0;do{const Z=E.indexOf("=",H);if(Z===-1)break;const $=E.indexOf(";",H),ae=$===-1?z:$;if(Z>ae){H=E.lastIndexOf(";",Z-1)+1;continue}const ne=d(E,H,Z),ce=m(E,Z,ne),N=E.slice(ne,ce);if(D[N]===void 0){let I=d(E,Z+1,ae),R=m(E,ae,I);const x=O(E.slice(I,R));D[N]=x}H=ae+1}while(H<z);return D}function d(E,S,D){do{const z=E.charCodeAt(S);if(z!==32&&z!==9)return S}while(++S<D);return D}function m(E,S,D){for(;S>D;){const z=E.charCodeAt(--S);if(z!==32&&z!==9)return S+1}return D}function p(E,S,D){const z=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const O=z(S);if(!e.test(O))throw new TypeError(`argument val is invalid: ${S}`);let H=E+"="+O;if(!D)return H;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);H+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);H+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);H+="; Path="+D.path}if(D.expires){if(!b(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);H+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(H+="; HttpOnly"),D.secure&&(H+="; Secure"),D.partitioned&&(H+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return H}function _(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function b(E){return a.call(E)==="[object Date]"}return bc}px();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _T="popstate";function yx(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Ay("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:zc(a)}return wx(e,t,null,n)}function ft(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Rr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _x(){return Math.random().toString(36).substring(2,10)}function wT(n,e){return{usr:n.state,key:n.key,idx:e}}function Ay(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:t,key:e&&e.key||i||_x()}}function zc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function wx(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,p=_();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function _(){return(c.state||{idx:null}).idx}function b(){d="POP";let O=_(),H=O==null?null:O-p;p=O,m&&m({action:d,location:z.location,delta:H})}function E(O,H){d="PUSH";let Z=Ay(z.location,O,H);p=_()+1;let $=wT(Z,p),ae=z.createHref(Z);try{c.pushState($,"",ae)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(ae)}l&&m&&m({action:d,location:z.location,delta:1})}function S(O,H){d="REPLACE";let Z=Ay(z.location,O,H);p=_();let $=wT(Z,p),ae=z.createHref(Z);c.replaceState($,"",ae),l&&m&&m({action:d,location:z.location,delta:0})}function D(O){let H=a.location.origin!=="null"?a.location.origin:a.location.href,Z=typeof O=="string"?O:zc(O);return Z=Z.replace(/ $/,"%20"),ft(H,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,H)}let z={get action(){return d},get location(){return n(a,c)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(_T,b),m=O,()=>{a.removeEventListener(_T,b),m=null}},createHref(O){return e(a,O)},createURL:D,encodeLocation(O){let H=D(O);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:S,go(O){return c.go(O)}};return z}function LA(n,e,t="/"){return vx(n,e,t,!1)}function vx(n,e,t,i){let a=typeof e=="string"?Jl(e):e,l=js(a.pathname||"/",t);if(l==null)return null;let c=BA(n);bx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=Nx(l);d=Dx(c[m],p,i)}return d}function BA(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=Vi([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(ft(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),BA(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:Cx(p,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of UA(l.path))a(l,c,m)}),e}function UA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=UA(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function bx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xx(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Ex=/^:[\w-]+$/,Tx=3,Ax=2,Sx=1,Rx=10,Ix=-2,vT=n=>n==="*";function Cx(n,e){let t=n.split("/"),i=t.length;return t.some(vT)&&(i+=Ix),e&&(i+=Ax),t.filter(a=>!vT(a)).reduce((a,l)=>a+(Ex.test(l)?Tx:l===""?Sx:Rx),i)}function xx(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function Dx(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",b=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},_),E=m.route;if(!b&&p&&t&&!i[i.length-1].route.index&&(b=Ed({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Vi([l,b.pathname]),pathnameBase:kx(Vi([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=Vi([l,b.pathnameBase]))}return c}function Ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Vx(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((p,{paramName:_,isOptional:b},E)=>{if(_==="*"){let D=d[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=d[E];return b&&!S?p[_]=void 0:p[_]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function Vx(n,e=!1,t=!0){Rr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function Nx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function js(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Ox(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Jl(n):n;return{pathname:t?t.startsWith("/")?t:Px(t,e):e,search:Lx(i),hash:Bx(a)}}function Px(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function ty(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function f_(n){let e=Mx(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function d_(n,e,t,i=!1){let a;typeof n=="string"?a=Jl(n):(a={...n},ft(!a.pathname||!a.pathname.includes("?"),ty("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),ty("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),ty("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}d=b>=0?e[b]:"/"}let m=Ox(a,d),p=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||_)&&(m.pathname+="/"),m}var Vi=n=>n.join("/").replace(/\/\/+/g,"/"),kx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Lx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Ux(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var zx=["GET",...zA];new Set(zx);var eu=Q.createContext(null);eu.displayName="DataRouter";var lm=Q.createContext(null);lm.displayName="DataRouterState";var jA=Q.createContext({isTransitioning:!1});jA.displayName="ViewTransition";var jx=Q.createContext(new Map);jx.displayName="Fetchers";var qx=Q.createContext(null);qx.displayName="Await";var Ir=Q.createContext(null);Ir.displayName="Navigation";var uh=Q.createContext(null);uh.displayName="Location";var ti=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var m_=Q.createContext(null);m_.displayName="RouteError";function Fx(n,{relative:e}={}){ft(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=Q.useContext(Ir),{hash:a,pathname:l,search:c}=ch(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Vi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function tu(){return Q.useContext(uh)!=null}function ni(){return ft(tu(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(uh).location}var qA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FA(n){Q.useContext(Ir).static||Q.useLayoutEffect(n)}function HA(){let{isDataRoute:n}=Q.useContext(ti);return n?nD():Hx()}function Hx(){ft(tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(eu),{basename:e,navigator:t}=Q.useContext(Ir),{matches:i}=Q.useContext(ti),{pathname:a}=ni(),l=JSON.stringify(f_(i)),c=Q.useRef(!1);return FA(()=>{c.current=!0}),Q.useCallback((m,p={})=>{if(Rr(c.current,qA),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=d_(m,JSON.parse(l),a,p.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vi([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,a,n])}Q.createContext(null);function ch(n,{relative:e}={}){let{matches:t}=Q.useContext(ti),{pathname:i}=ni(),a=JSON.stringify(f_(t));return Q.useMemo(()=>d_(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function Gx(n,e){return GA(n,e)}function GA(n,e,t,i){var Z;ft(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=Q.useContext(Ir),{matches:c}=Q.useContext(ti),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",_=d?d.pathnameBase:"/",b=d&&d.route;{let $=b&&b.path||"";$A(p,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=ni(),S;if(e){let $=typeof e=="string"?Jl(e):e;ft(_==="/"||((Z=$.pathname)==null?void 0:Z.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=E;let D=S.pathname||"/",z=D;if(_!=="/"){let $=_.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:LA(n,{pathname:z});Rr(b||O!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Rr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=Xx(O&&O.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:Vi([_,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Vi([_,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&H?Q.createElement(uh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},H):H}function $x(){let n=tD(),e=Ux(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:l},"ErrorBoundary")," or"," ",Q.createElement("code",{style:l},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:a},t):null,c)}var Kx=Q.createElement($x,null),Qx=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?Q.createElement(ti.Provider,{value:this.props.routeContext},Q.createElement(m_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yx({routeContext:n,match:e,children:t}){let i=Q.useContext(eu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(ti.Provider,{value:n},t)}function Xx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:_,errors:b}=t,E=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,p,_)=>{let b,E=!1,S=null,D=null;t&&(b=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||Kx,c&&(d<0&&_===0?($A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,D=null):d===_&&(E=!0,D=p.route.hydrateFallbackElement||null)));let z=e.concat(a.slice(0,_+1)),O=()=>{let H;return b?H=S:E?H=D:p.route.Component?H=Q.createElement(p.route.Component,null):p.route.element?H=p.route.element:H=m,Q.createElement(Yx,{match:p,routeContext:{outlet:m,matches:z,isDataRoute:t!=null},children:H})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?Q.createElement(Qx,{location:t.location,revalidation:t.revalidation,component:S,error:b,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function g_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wx(n){let e=Q.useContext(eu);return ft(e,g_(n)),e}function Zx(n){let e=Q.useContext(lm);return ft(e,g_(n)),e}function Jx(n){let e=Q.useContext(ti);return ft(e,g_(n)),e}function p_(n){let e=Jx(n),t=e.matches[e.matches.length-1];return ft(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eD(){return p_("useRouteId")}function tD(){var i;let n=Q.useContext(m_),e=Zx("useRouteError"),t=p_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function nD(){let{router:n}=Wx("useNavigate"),e=p_("useNavigate"),t=Q.useRef(!1);return FA(()=>{t.current=!0}),Q.useCallback(async(a,l={})=>{Rr(t.current,qA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var bT={};function $A(n,e,t){!e&&!bT[n]&&(bT[n]=!0,Rr(!1,t))}Q.memo(rD);function rD({routes:n,future:e,state:t}){return GA(n,void 0,t,e)}function iD({to:n,replace:e,state:t,relative:i}){ft(tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Q.useContext(Ir);Rr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=Q.useContext(ti),{pathname:c}=ni(),d=HA(),m=d_(n,f_(l),c,i==="path"),p=JSON.stringify(m);return Q.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:i})},[d,p,i,e,t]),null}function yl(n){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sD({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){ft(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=Q.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Jl(t));let{pathname:m="/",search:p="",hash:_="",state:b=null,key:E="default"}=t,S=Q.useMemo(()=>{let D=js(m,c);return D==null?null:{location:{pathname:D,search:p,hash:_,state:b,key:E},navigationType:i}},[c,m,p,_,b,E,i]);return Rr(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Q.createElement(Ir.Provider,{value:d},Q.createElement(uh.Provider,{children:e,value:S}))}function aD({children:n,location:e}){return Gx(Sy(n),e)}function Sy(n,e=[]){let t=[];return Q.Children.forEach(n,(i,a)=>{if(!Q.isValidElement(i))return;let l=[...e,a];if(i.type===Q.Fragment){t.push.apply(t,Sy(i.props.children,l));return}ft(i.type===yl,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Sy(i.props.children,l)),t.push(c)}),t}var cd="get",hd="application/x-www-form-urlencoded";function um(n){return n!=null&&typeof n.tagName=="string"}function oD(n){return um(n)&&n.tagName.toLowerCase()==="button"}function lD(n){return um(n)&&n.tagName.toLowerCase()==="form"}function uD(n){return um(n)&&n.tagName.toLowerCase()==="input"}function cD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hD(n,e){return n.button===0&&(!e||e==="_self")&&!cD(n)}var ed=null;function fD(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var dD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ny(n){return n!=null&&!dD.has(n)?(Rr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hd}"`),null):n}function mD(n,e){let t,i,a,l,c;if(lD(n)){let d=n.getAttribute("action");i=d?js(d,e):null,t=n.getAttribute("method")||cd,a=ny(n.getAttribute("enctype"))||hd,l=new FormData(n)}else if(oD(n)||uD(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?js(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||cd,a=ny(n.getAttribute("formenctype"))||ny(d.getAttribute("enctype"))||hd,l=new FormData(d,n),!fD()){let{name:p,type:_,value:b}=n;if(_==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(um(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cd,i=null,a=hd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function y_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function gD(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pD(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yD(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await gD(l,t);return c.links?c.links():[]}return[]}));return bD(i.flat(1).filter(pD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ET(n,e,t,i,a,l){let c=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,d=(m,p)=>{var _;return t[p].pathname!==m.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{var b;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function _D(n,e){return wD(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function wD(n){return[...new Set(n)]}function vD(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function bD(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(vD(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function ED(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function TD(){let n=Q.useContext(eu);return y_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function AD(){let n=Q.useContext(lm);return y_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var __=Q.createContext(void 0);__.displayName="FrameworkContext";function KA(){let n=Q.useContext(__);return y_(n,"You must render this element inside a <HydratedRouter> element"),n}function SD(n,e){let t=Q.useContext(__),[i,a]=Q.useState(!1),[l,c]=Q.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:_,onTouchStart:b}=e,E=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let z=H=>{H.forEach(Z=>{c(Z.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[n]),Q.useEffect(()=>{if(i){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[i]);let S=()=>{a(!0)},D=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Ec(d,S),onBlur:Ec(m,D),onMouseEnter:Ec(p,S),onMouseLeave:Ec(_,D),onTouchStart:Ec(b,S)}]:[!1,E,{}]}function Ec(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function RD({page:n,...e}){let{router:t}=TD(),i=Q.useMemo(()=>LA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?Q.createElement(CD,{page:n,matches:i,...e}):null}function ID(n){let{manifest:e,routeModules:t}=KA(),[i,a]=Q.useState([]);return Q.useEffect(()=>{let l=!1;return yD(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function CD({page:n,matches:e,...t}){let i=ni(),{manifest:a,routeModules:l}=KA(),{loaderData:c,matches:d}=AD(),m=Q.useMemo(()=>ET(n,e,d,a,i,"data"),[n,e,d,a,i]),p=Q.useMemo(()=>ET(n,e,d,a,i,"assets"),[n,e,d,a,i]),_=Q.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,D=!1;if(e.forEach(O=>{var Z;let H=a.routes[O.route.id];!H||!H.hasLoader||(!m.some($=>$.route.id===O.route.id)&&O.route.id in c&&((Z=l[O.route.id])!=null&&Z.shouldRevalidate)||H.hasClientLoader?D=!0:S.add(O.route.id))}),S.size===0)return[];let z=ED(n);return D&&S.size>0&&z.searchParams.set("_routes",e.filter(O=>S.has(O.route.id)).map(O=>O.route.id).join(",")),[z.pathname+z.search]},[c,i,a,m,e,n,l]),b=Q.useMemo(()=>_D(p,a),[p,a]),E=ID(p);return Q.createElement(Q.Fragment,null,_.map(S=>Q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),b.map(S=>Q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:D})=>Q.createElement("link",{key:S,...D})))}function xD(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var QA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QA&&(window.__reactRouterVersion="7.1.5")}catch{}function DD({basename:n,children:e,window:t}){let i=Q.useRef();i.current==null&&(i.current=yx({window:t,v5Compat:!0}));let a=i.current,[l,c]=Q.useState({action:a.action,location:a.location}),d=Q.useCallback(m=>{Q.startTransition(()=>c(m))},[c]);return Q.useLayoutEffect(()=>a.listen(d),[a,d]),Q.createElement(sD,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var YA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Il=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:_,viewTransition:b,...E},S){let{basename:D}=Q.useContext(Ir),z=typeof p=="string"&&YA.test(p),O,H=!1;if(typeof p=="string"&&z&&(O=p,QA))try{let R=new URL(window.location.href),x=p.startsWith("//")?new URL(R.protocol+p):new URL(p),P=js(x.pathname,D);x.origin===R.origin&&P!=null?p=P+x.search+x.hash:H=!0}catch{Rr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=Fx(p,{relative:a}),[$,ae,ne]=SD(i,E),ce=PD(p,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:b});function N(R){e&&e(R),R.defaultPrevented||ce(R)}let I=Q.createElement("a",{...E,...ne,href:O||Z,onClick:H||l?e:N,ref:xD(S,ae),target:m,"data-discover":!z&&t==="render"?"true":void 0});return $&&!z?Q.createElement(Q.Fragment,null,I,Q.createElement(RD,{page:Z})):I});Il.displayName="Link";var VD=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},_){let b=ch(c,{relative:p.relative}),E=ni(),S=Q.useContext(lm),{navigator:D,basename:z}=Q.useContext(Ir),O=S!=null&&UD(b)&&d===!0,H=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,Z=E.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),$=$?$.toLowerCase():null,H=H.toLowerCase()),$&&z&&($=js($,z)||$);const ae=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ne=Z===H||!a&&Z.startsWith(H)&&Z.charAt(ae)==="/",ce=$!=null&&($===H||!a&&$.startsWith(H)&&$.charAt(H.length)==="/"),N={isActive:ne,isPending:ce,isTransitioning:O},I=ne?e:void 0,R;typeof i=="function"?R=i(N):R=[i,ne?"active":null,ce?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(N):l;return Q.createElement(Il,{...p,"aria-current":I,className:R,ref:_,style:x,to:c,viewTransition:d},typeof m=="function"?m(N):m)});VD.displayName="NavLink";var ND=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=cd,action:d,onSubmit:m,relative:p,preventScrollReset:_,viewTransition:b,...E},S)=>{let D=LD(),z=BD(d,{relative:p}),O=c.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&YA.test(d),Z=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let ae=$.nativeEvent.submitter,ne=(ae==null?void 0:ae.getAttribute("formmethod"))||c;D(ae||$.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:l,relative:p,preventScrollReset:_,viewTransition:b})};return Q.createElement("form",{ref:S,method:O,action:z,onSubmit:i?m:Z,...E,"data-discover":!H&&n==="render"?"true":void 0})});ND.displayName="Form";function OD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(n){let e=Q.useContext(eu);return ft(e,OD(n)),e}function PD(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=HA(),m=ni(),p=ch(n,{relative:l});return Q.useCallback(_=>{if(hD(_,e)){_.preventDefault();let b=t!==void 0?t:zc(m)===zc(p);d(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,t,i,e,n,a,l,c])}var MD=0,kD=()=>`__${String(++MD)}__`;function LD(){let{router:n}=XA("useSubmit"),{basename:e}=Q.useContext(Ir),t=eD();return Q.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=mD(i,e);if(a.navigate===!1){let _=a.fetcherKey||kD();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function BD(n,{relative:e}={}){let{basename:t}=Q.useContext(Ir),i=Q.useContext(ti);ft(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ch(n||".",{relative:e})},c=ni();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Vi([t,l.pathname])),zc(l)}function UD(n,e={}){let t=Q.useContext(jA);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XA("useViewTransitionState"),a=ch(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=js(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=js(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ed(a.pathname,c)!=null||Ed(a.pathname,l)!=null}new TextEncoder;function on(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var zD=typeof Symbol=="function"&&Symbol.observable||"@@observable",TT=zD,ry=()=>Math.random().toString(36).substring(7).split("").join("."),jD={INIT:`@@redux/INIT${ry()}`,REPLACE:`@@redux/REPLACE${ry()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ry()}`},Td=jD;function w_(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function WA(n,e,t){if(typeof n!="function")throw new Error(on(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(on(1));return t(WA)(n,e)}let i=n,a=e,l=new Map,c=l,d=0,m=!1;function p(){c===l&&(c=new Map,l.forEach((O,H)=>{c.set(H,O)}))}function _(){if(m)throw new Error(on(3));return a}function b(O){if(typeof O!="function")throw new Error(on(4));if(m)throw new Error(on(5));let H=!0;p();const Z=d++;return c.set(Z,O),function(){if(H){if(m)throw new Error(on(6));H=!1,p(),c.delete(Z),l=null}}}function E(O){if(!w_(O))throw new Error(on(7));if(typeof O.type>"u")throw new Error(on(8));if(typeof O.type!="string")throw new Error(on(17));if(m)throw new Error(on(9));try{m=!0,a=i(a,O)}finally{m=!1}return(l=c).forEach(Z=>{Z()}),O}function S(O){if(typeof O!="function")throw new Error(on(10));i=O,E({type:Td.REPLACE})}function D(){const O=b;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(on(11));function Z(){const ae=H;ae.next&&ae.next(_())}return Z(),{unsubscribe:O(Z)}},[TT](){return this}}}return E({type:Td.INIT}),{dispatch:E,subscribe:b,getState:_,replaceReducer:S,[TT]:D}}function qD(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Td.INIT})>"u")throw new Error(on(12));if(typeof t(void 0,{type:Td.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function FD(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let a;try{qD(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const p={};for(let _=0;_<i.length;_++){const b=i[_],E=t[b],S=c[b],D=E(S,d);if(typeof D>"u")throw d&&d.type,new Error(on(14));p[b]=D,m=m||D!==S}return m=m||i.length!==Object.keys(c).length,m?p:c}}function Ad(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function HD(...n){return e=>(t,i)=>{const a=e(t,i);let l=()=>{throw new Error(on(15))};const c={getState:a.getState,dispatch:(m,...p)=>l(m,...p)},d=n.map(m=>m(c));return l=Ad(...d)(a.dispatch),{...a,dispatch:l}}}function GD(n){return w_(n)&&"type"in n&&typeof n.type=="string"}var ZA=Symbol.for("immer-nothing"),AT=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function Sr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Cl=Object.getPrototypeOf;function Ja(n){return!!n&&!!n[$n]}function Mi(n){var e;return n?JA(n)||Array.isArray(n)||!!n[AT]||!!((e=n.constructor)!=null&&e[AT])||hm(n)||fm(n):!1}var $D=Object.prototype.constructor.toString();function JA(n){if(!n||typeof n!="object")return!1;const e=Cl(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===$D}function Sd(n,e){cm(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function cm(n){const e=n[$n];return e?e.type_:Array.isArray(n)?1:hm(n)?2:fm(n)?3:0}function Ry(n,e){return cm(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function eS(n,e,t){const i=cm(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function KD(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function hm(n){return n instanceof Map}function fm(n){return n instanceof Set}function Ua(n){return n.copy_||n.base_}function Iy(n,e){if(hm(n))return new Map(n);if(fm(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=JA(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[$n];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Cl(n),i)}else{const i=Cl(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function v_(n,e=!1){return dm(n)||Ja(n)||!Mi(n)||(cm(n)>1&&(n.set=n.add=n.clear=n.delete=QD),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>v_(i,!0))),n}function QD(){Sr(2)}function dm(n){return Object.isFrozen(n)}var YD={};function eo(n){const e=YD[n];return e||Sr(0,n),e}var jc;function tS(){return jc}function XD(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ST(n,e){e&&(eo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Cy(n){xy(n),n.drafts_.forEach(WD),n.drafts_=null}function xy(n){n===jc&&(jc=n.parent_)}function RT(n){return jc=XD(jc,n)}function WD(n){const e=n[$n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function IT(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[$n].modified_&&(Cy(e),Sr(4)),Mi(n)&&(n=Rd(e,n),e.parent_||Id(e,n)),e.patches_&&eo("Patches").generateReplacementPatches_(t[$n].base_,n,e.patches_,e.inversePatches_)):n=Rd(e,t,[]),Cy(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==ZA?n:void 0}function Rd(n,e,t){if(dm(e))return e;const i=e[$n];if(!i)return Sd(e,(a,l)=>CT(n,i,e,a,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Id(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Sd(l,(d,m)=>CT(n,i,a,d,m,t,c)),Id(n,a,!1),t&&n.patches_&&eo("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function CT(n,e,t,i,a,l,c){if(Ja(a)){const d=l&&e&&e.type_!==3&&!Ry(e.assigned_,i)?l.concat(i):void 0,m=Rd(n,a,d);if(eS(t,i,m),Ja(m))n.canAutoFreeze_=!1;else return}else c&&t.add(a);if(Mi(a)&&!dm(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Rd(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Id(n,a)}}function Id(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&v_(e,t)}function ZD(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:tS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=b_;t&&(a=[i],l=qc);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var b_={get(n,e){if(e===$n)return n;const t=Ua(n);if(!Ry(t,e))return JD(n,t,e);const i=t[e];return n.finalized_||!Mi(i)?i:i===iy(n.base_,e)?(sy(n),n.copy_[e]=Vy(i,n)):i},has(n,e){return e in Ua(n)},ownKeys(n){return Reflect.ownKeys(Ua(n))},set(n,e,t){const i=nS(Ua(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=iy(Ua(n),e),l=a==null?void 0:a[$n];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(KD(t,a)&&(t!==void 0||Ry(n.base_,e)))return!0;sy(n),Dy(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return iy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,sy(n),Dy(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Ua(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Sr(11)},getPrototypeOf(n){return Cl(n.base_)},setPrototypeOf(){Sr(12)}},qc={};Sd(b_,(n,e)=>{qc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});qc.deleteProperty=function(n,e){return qc.set.call(this,n,e,void 0)};qc.set=function(n,e,t){return b_.set.call(this,n[0],e,t,n[0])};function iy(n,e){const t=n[$n];return(t?Ua(t):n)[e]}function JD(n,e,t){var a;const i=nS(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function nS(n,e){if(!(e in n))return;let t=Cl(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Cl(t)}}function Dy(n){n.modified_||(n.modified_=!0,n.parent_&&Dy(n.parent_))}function sy(n){n.copy_||(n.copy_=Iy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var eV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(m=l,...p){return c.produce(m,_=>t.call(this,_,...p))}}typeof t!="function"&&Sr(6),i!==void 0&&typeof i!="function"&&Sr(7);let a;if(Mi(e)){const l=RT(this),c=Vy(e,void 0);let d=!0;try{a=t(c),d=!1}finally{d?Cy(l):xy(l)}return ST(l,i),IT(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===ZA&&(a=void 0),this.autoFreeze_&&v_(a,!0),i){const l=[],c=[];eo("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else Sr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,a;return[this.produce(e,t,(c,d)=>{i=c,a=d}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Mi(n)||Sr(8),Ja(n)&&(n=tV(n));const e=RT(this),t=Vy(n,void 0);return t[$n].isManual_=!0,xy(e),t}finishDraft(n,e){const t=n&&n[$n];(!t||!t.isManual_)&&Sr(9);const{scope_:i}=t;return ST(i,e),IT(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=eo("Patches").applyPatches_;return Ja(n)?i(n,e):this.produce(n,a=>i(a,e))}};function Vy(n,e){const t=hm(n)?eo("MapSet").proxyMap_(n,e):fm(n)?eo("MapSet").proxySet_(n,e):ZD(n,e);return(e?e.scope_:tS()).drafts_.push(t),t}function tV(n){return Ja(n)||Sr(10,n),rS(n)}function rS(n){if(!Mi(n)||dm(n))return n;const e=n[$n];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Iy(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Iy(n,!0);return Sd(t,(i,a)=>{eS(t,i,rS(a))}),e&&(e.finalized_=!1),t}var Kn=new eV,iS=Kn.produce;Kn.produceWithPatches.bind(Kn);Kn.setAutoFreeze.bind(Kn);Kn.setUseStrictShallowCopy.bind(Kn);Kn.applyPatches.bind(Kn);Kn.createDraft.bind(Kn);Kn.finishDraft.bind(Kn);function sS(n){return({dispatch:t,getState:i})=>a=>l=>typeof l=="function"?l(t,i,n):a(l)}var nV=sS(),rV=sS,iV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ad:Ad.apply(null,arguments)};function xT(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(Ni(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>GD(i)&&i.type===n,t}var aS=class Cc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Cc.prototype)}static get[Symbol.species](){return Cc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Cc(...e[0].concat(this)):new Cc(...e.concat(this))}};function DT(n){return Mi(n)?iS(n,()=>{}):n}function VT(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function sV(n){return typeof n=="boolean"}var aV=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new aS;return t&&(sV(t)?c.push(nV):c.push(rV(t.extraArgument))),c},oV="RTK_autoBatch",NT=n=>e=>{setTimeout(e,n)},lV=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:NT(10):n.type==="callback"?n.queueNotification:NT(n.timeout),p=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const b=()=>a&&_(),E=i.subscribe(b);return d.add(_),()=>{E(),d.delete(_)}},dispatch(_){var b;try{return a=!((b=_==null?void 0:_.meta)!=null&&b[oV]),l=!a,l&&(c||(c=!0,m(p))),i.dispatch(_)}finally{a=!0}}})},uV=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new aS(n);return i&&a.push(lV(typeof i=="object"?i:void 0)),a};function cV(n){const e=aV(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=n;let d;if(typeof t=="function")d=t;else if(w_(t))d=FD(t);else throw new Error(Ni(1));let m;typeof i=="function"?m=i(e):m=e();let p=Ad;a&&(p=iV({trace:!1,...typeof a=="object"&&a}));const _=HD(...m),b=uV(_);let E=typeof c=="function"?c(b):b();const S=p(...E);return WA(d,l,S)}function oS(n){const e={},t=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ni(28));if(d in e)throw new Error(Ni(29));return e[d]=c,a},addMatcher(l,c){return t.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return n(a),[e,t,i]}function hV(n){return typeof n=="function"}function fV(n,e){let[t,i,a]=oS(e),l;if(hV(n))l=()=>DT(n());else{const d=DT(n);l=()=>d}function c(d=l(),m){let p=[t[m.type],...i.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return p.filter(_=>!!_).length===0&&(p=[a]),p.reduce((_,b)=>{if(b)if(Ja(_)){const S=b(_,m);return S===void 0?_:S}else{if(Mi(_))return iS(_,E=>b(E,m));{const E=b(_,m);if(E===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return _},d)}return c.getInitialState=l,c}var dV=Symbol.for("rtk-slice-createasyncthunk");function mV(n,e){return`${n}/${e}`}function gV({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[dV];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Ni(11));const d=(typeof a.reducers=="function"?a.reducers(yV()):a.reducers)||{},m=Object.keys(d),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase($,ae){const ne=typeof $=="string"?$:$.type;if(!ne)throw new Error(Ni(12));if(ne in p.sliceCaseReducersByType)throw new Error(Ni(13));return p.sliceCaseReducersByType[ne]=ae,_},addMatcher($,ae){return p.sliceMatchers.push({matcher:$,reducer:ae}),_},exposeAction($,ae){return p.actionCreators[$]=ae,_},exposeCaseReducer($,ae){return p.sliceCaseReducersByName[$]=ae,_}};m.forEach($=>{const ae=d[$],ne={reducerName:$,type:mV(l,$),createNotation:typeof a.reducers=="function"};wV(ae)?bV(ne,ae,_,e):_V(ne,ae,_)});function b(){const[$={},ae=[],ne=void 0]=typeof a.extraReducers=="function"?oS(a.extraReducers):[a.extraReducers],ce={...$,...p.sliceCaseReducersByType};return fV(a.initialState,N=>{for(let I in ce)N.addCase(I,ce[I]);for(let I of p.sliceMatchers)N.addMatcher(I.matcher,I.reducer);for(let I of ae)N.addMatcher(I.matcher,I.reducer);ne&&N.addDefaultCase(ne)})}const E=$=>$,S=new Map;let D;function z($,ae){return D||(D=b()),D($,ae)}function O(){return D||(D=b()),D.getInitialState()}function H($,ae=!1){function ne(N){let I=N[$];return typeof I>"u"&&ae&&(I=O()),I}function ce(N=E){const I=VT(S,ae,()=>new WeakMap);return VT(I,N,()=>{const R={};for(const[x,P]of Object.entries(a.selectors??{}))R[x]=pV(P,N,O,ae);return R})}return{reducerPath:$,getSelectors:ce,get selectors(){return ce(ne)},selectSlice:ne}}const Z={name:l,reducer:z,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:O,...H(c),injectInto($,{reducerPath:ae,...ne}={}){const ce=ae??c;return $.inject({reducerPath:ce,reducer:z},ne),{...Z,...H(ce,!0)}}};return Z}}function pV(n,e,t,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return a.unwrapped=n,a}var hh=gV();function yV(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function _V({type:n,reducerName:e,createNotation:t},i,a){let l,c;if("reducer"in i){if(t&&!vV(i))throw new Error(Ni(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?xT(n,c):xT(n))}function wV(n){return n._reducerDefinitionType==="asyncThunk"}function vV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function bV({type:n,reducerName:e},t,i,a){if(!a)throw new Error(Ni(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:p,options:_}=t,b=a(n,l,_);i.exposeAction(e,b),c&&i.addCase(b.fulfilled,c),d&&i.addCase(b.pending,d),m&&i.addCase(b.rejected,m),p&&i.addMatcher(b.settled,p),i.exposeCaseReducer(e,{fulfilled:c||td,pending:d||td,rejected:m||td,settled:p||td})}function td(){}function Ni(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const lS=hh({name:"auth",initialState:{status:"checking",user:{}},reducers:{onChecking:n=>{n.status="checking",n.user={}},onLogin:(n,{payload:e})=>{console.log("payload",e),n.status="authenticated",n.user=e},onLogout:n=>{n.status="not-authenticated",n.user={}}}}),{onChecking:OT,onLogin:EV,onLogout:PT}=lS.actions,uS=hh({name:"users",initialState:{users:[],editMode:void 0},reducers:{usersDataPush:(n,{payload:e})=>{n.users=e},editUserView:(n,{payload:e})=>{n.editMode=e},defaultEditMode:n=>{n.editMode=void 0},userDeleteView:(n,{payload:e})=>{n.users=e},switchUserView:(n,{payload:e})=>{n.users=e}}}),{usersDataPush:ka,userDeleteView:LB,switchUserView:BB,editUserView:TV,defaultEditMode:MT}=uS.actions,AV=hh({name:"productos",initialState:{productos:[]},reducers:{productosDataPush:(n,{payload:e})=>{n.productos=e},productoDeleteView:(n,{payload:e})=>{n.productos=e},switchProductoView:(n,{payload:e})=>{n.productos=e}}}),SV=hh({name:"categorias",initialState:{categorias:[]},reducers:{categoriasDataPush:(n,{payload:e})=>{n.categorias=e},categoriaDeleteView:(n,{payload:e})=>{n.categorias=e},switchCategoriaView:(n,{payload:e})=>{n.categorias=e}}}),cS=hh({name:"alert",initialState:{sweetAlertMessage:void 0},reducers:{somethingWentRigth:(n,{payload:e})=>{n.sweetAlertMessage=e},somethingWentWrong:(n,{payload:e})=>{n.sweetAlertMessage=e},clearAlertMessage:n=>{n.sweetAlertMessage=void 0}}}),{clearAlertMessage:RV,somethingWentWrong:kT,somethingWentRigth:IV}=cS.actions,CV=cV({reducer:{authSlice:lS.reducer,usersSlice:uS.reducer,productosSlice:AV.reducer,categoriasSlice:SV.reducer,alertSlice:cS.reducer},middleware:n=>n({serializableCheck:!1})});/*!
* sweetalert2 v11.16.0
* Released under the MIT License.
*/function hS(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function xV(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LT(n,e){return n.get(hS(n,e))}function DV(n,e,t){xV(n,e),e.set(n,t)}function VV(n,e,t){return n.set(hS(n,e),t),t}const NV=100,Te={},OV=()=>{Te.previousActiveElement instanceof HTMLElement?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus()},PV=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;Te.restoreFocusTimeout=setTimeout(()=>{OV(),e()},NV),window.scrollTo(t,i)}),fS="swal2-",MV=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],W=MV.reduce((n,e)=>(n[e]=fS+e,n),{}),kV=["success","warning","info","question","error"],Cd=kV.reduce((n,e)=>(n[e]=fS+e,n),{}),dS="SweetAlert2:",E_=n=>n.charAt(0).toUpperCase()+n.slice(1),Cn=n=>{console.warn(`${dS} ${typeof n=="object"?n.join(" "):n}`)},mo=n=>{console.error(`${dS} ${n}`)},BT=[],LV=n=>{BT.includes(n)||(BT.push(n),Cn(n))},mS=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;LV(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},mm=n=>typeof n=="function"?n():n,T_=n=>n&&typeof n.toPromise=="function",fh=n=>T_(n)?n.toPromise():Promise.resolve(n),A_=n=>n&&Promise.resolve(n)===n,Dn=()=>document.body.querySelector(`.${W.container}`),dh=n=>{const e=Dn();return e?e.querySelector(n):null},Xn=n=>dh(`.${n}`),Qe=()=>Xn(W.popup),nu=()=>Xn(W.icon),BV=()=>Xn(W["icon-content"]),gS=()=>Xn(W.title),S_=()=>Xn(W["html-container"]),pS=()=>Xn(W.image),R_=()=>Xn(W["progress-steps"]),gm=()=>Xn(W["validation-message"]),Wr=()=>dh(`.${W.actions} .${W.confirm}`),ru=()=>dh(`.${W.actions} .${W.cancel}`),go=()=>dh(`.${W.actions} .${W.deny}`),UV=()=>Xn(W["input-label"]),iu=()=>dh(`.${W.loader}`),mh=()=>Xn(W.actions),yS=()=>Xn(W.footer),pm=()=>Xn(W["timer-progress-bar"]),I_=()=>Xn(W.close),zV=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,C_=()=>{const n=Qe();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((l,c)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),m=parseInt(c.getAttribute("tabindex")||"0");return d>m?1:d<m?-1:0}),i=n.querySelectorAll(zV),a=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(a))].filter(l=>Ln(l))},x_=()=>Oi(document.body,W.shown)&&!Oi(document.body,W["toast-shown"])&&!Oi(document.body,W["no-backdrop"]),ym=()=>{const n=Qe();return n?Oi(n,W.toast):!1},jV=()=>{const n=Qe();return n?n.hasAttribute("data-loading"):!1},Wn=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),a=i.querySelector("head");a&&Array.from(a.childNodes).forEach(c=>{n.appendChild(c)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},Oi=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},qV=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(W).includes(t)&&!Object.values(Cd).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Qn=(n,e,t)=>{if(qV(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){Cn(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}Fe(n,i)}},_m=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${W.popup} > .${W[e]}`);case"checkbox":return n.querySelector(`.${W.popup} > .${W.checkbox} input`);case"radio":return n.querySelector(`.${W.popup} > .${W.radio} input:checked`)||n.querySelector(`.${W.popup} > .${W.radio} input:first-child`);case"range":return n.querySelector(`.${W.popup} > .${W.range} input`);default:return n.querySelector(`.${W.popup} > .${W.input}`)}},_S=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},wS=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(a=>{t?a.classList.add(i):a.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},Fe=(n,e)=>{wS(n,e,!0)},yr=(n,e)=>{wS(n,e,!1)},Ns=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const a=t[i];if(a instanceof HTMLElement&&Oi(a,e))return a}},Wa=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},tn=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=e)},yn=n=>{n&&(n.style.display="none")},D_=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{gh(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},UT=(n,e,t,i)=>{const a=n.querySelector(e);a&&a.style.setProperty(t,i)},gh=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?tn(n,t):yn(n)},Ln=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),FV=()=>!Ln(Wr())&&!Ln(go())&&!Ln(ru()),zT=n=>n.scrollHeight>n.clientHeight,vS=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},V_=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=pm();t&&Ln(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},HV=()=>{const n=pm();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},GV=()=>typeof window>"u"||typeof document>"u",$V=`
 <div aria-labelledby="${W.title}" aria-describedby="${W["html-container"]}" class="${W.popup}" tabindex="-1">
   <button type="button" class="${W.close}"></button>
   <ul class="${W["progress-steps"]}"></ul>
   <div class="${W.icon}"></div>
   <img class="${W.image}" />
   <h2 class="${W.title}" id="${W.title}"></h2>
   <div class="${W["html-container"]}" id="${W["html-container"]}"></div>
   <input class="${W.input}" id="${W.input}" />
   <input type="file" class="${W.file}" />
   <div class="${W.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${W.select}" id="${W.select}"></select>
   <div class="${W.radio}"></div>
   <label class="${W.checkbox}">
     <input type="checkbox" id="${W.checkbox}" />
     <span class="${W.label}"></span>
   </label>
   <textarea class="${W.textarea}" id="${W.textarea}"></textarea>
   <div class="${W["validation-message"]}" id="${W["validation-message"]}"></div>
   <div class="${W.actions}">
     <div class="${W.loader}"></div>
     <button type="button" class="${W.confirm}"></button>
     <button type="button" class="${W.deny}"></button>
     <button type="button" class="${W.cancel}"></button>
   </div>
   <div class="${W.footer}"></div>
   <div class="${W["timer-progress-bar-container"]}">
     <div class="${W["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),KV=()=>{const n=Dn();return n?(n.remove(),yr([document.documentElement,document.body],[W["no-backdrop"],W["toast-shown"],W["has-column"]]),!0):!1},La=()=>{Te.currentInstance.resetValidationMessage()},QV=()=>{const n=Qe(),e=Ns(n,W.input),t=Ns(n,W.file),i=n.querySelector(`.${W.range} input`),a=n.querySelector(`.${W.range} output`),l=Ns(n,W.select),c=n.querySelector(`.${W.checkbox} input`),d=Ns(n,W.textarea);e.oninput=La,t.onchange=La,l.onchange=La,c.onchange=La,d.oninput=La,i.oninput=()=>{La(),a.value=i.value},i.onchange=()=>{La(),a.value=i.value}},YV=n=>typeof n=="string"?document.querySelector(n):n,XV=n=>{const e=Qe();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},WV=n=>{window.getComputedStyle(n).direction==="rtl"&&Fe(Dn(),W.rtl)},ZV=n=>{const e=KV();if(GV()){mo("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=W.container,e&&Fe(t,W["no-transition"]),Wn(t,$V),t.dataset.swal2Theme=n.theme;const i=YV(n.target);i.appendChild(t),XV(n),WV(i),QV()},N_=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?JV(n,e):n&&Wn(e,n)},JV=(n,e)=>{n.jquery?eN(e,n):Wn(e,n.toString())},eN=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},tN=(n,e)=>{const t=mh(),i=iu();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?yn(t):tn(t),Qn(t,e,"actions"),nN(t,i,e),Wn(i,e.loaderHtml||""),Qn(i,e,"loader"))};function nN(n,e,t){const i=Wr(),a=go(),l=ru();!i||!a||!l||(ay(i,"confirm",t),ay(a,"deny",t),ay(l,"cancel",t),rN(i,a,l,t),t.reverseButtons&&(t.toast?(n.insertBefore(l,i),n.insertBefore(a,i)):(n.insertBefore(l,e),n.insertBefore(a,e),n.insertBefore(i,e))))}function rN(n,e,t,i){if(!i.buttonsStyling){yr([n,e,t],W.styled);return}Fe([n,e,t],W.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Fe(n,W["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,Fe(e,W["default-outline"])),i.cancelButtonColor&&(t.style.backgroundColor=i.cancelButtonColor,Fe(t,W["default-outline"]))}function ay(n,e,t){const i=E_(e);gh(n,t[`show${i}Button`],"inline-block"),Wn(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=W[e],Qn(n,t,`${e}Button`)}const iN=(n,e)=>{const t=I_();t&&(Wn(t,e.closeButtonHtml||""),Qn(t,e,"closeButton"),gh(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},sN=(n,e)=>{const t=Dn();t&&(aN(t,e.backdrop),oN(t,e.position),lN(t,e.grow),Qn(t,e,"container"))};function aN(n,e){typeof e=="string"?n.style.background=e:e||Fe([document.documentElement,document.body],W["no-backdrop"])}function oN(n,e){e&&(e in W?Fe(n,W[e]):(Cn('The "position" parameter is not valid, defaulting to "center"'),Fe(n,W.center)))}function lN(n,e){e&&Fe(n,W[`grow-${e}`])}var at={innerParams:new WeakMap,domCache:new WeakMap};const uN=["input","file","range","select","radio","checkbox","textarea"],cN=(n,e)=>{const t=Qe();if(!t)return;const i=at.innerParams.get(n),a=!i||e.input!==i.input;uN.forEach(l=>{const c=Ns(t,W[l]);c&&(dN(l,e.inputAttributes),c.className=W[l],a&&yn(c))}),e.input&&(a&&hN(e),mN(e))},hN=n=>{if(!n.input)return;if(!Rt[n.input]){mo(`Unexpected type of input! Expected ${Object.keys(Rt).join(" | ")}, got "${n.input}"`);return}const e=bS(n.input);if(!e)return;const t=Rt[n.input](e,n);tn(e),n.inputAutoFocus&&setTimeout(()=>{_S(t)})},fN=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},dN=(n,e)=>{const t=Qe();if(!t)return;const i=_m(t,n);if(i){fN(i);for(const a in e)i.setAttribute(a,e[a])}},mN=n=>{if(!n.input)return;const e=bS(n.input);e&&Qn(e,n,"input")},O_=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},ph=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),a=W["input-label"];i.setAttribute("for",n.id),i.className=a,typeof t.customClass=="object"&&Fe(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},bS=n=>{const e=Qe();if(e)return Ns(e,W[n]||W.input)},xd=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:A_(e)||Cn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=Rt.search=Rt.date=Rt["datetime-local"]=Rt.time=Rt.week=Rt.month=(n,e)=>(xd(n,e.inputValue),ph(n,n,e),O_(n,e),n.type=e.input,n);Rt.file=(n,e)=>(ph(n,n,e),O_(n,e),n);Rt.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return xd(t,e.inputValue),t.type=e.input,xd(i,e.inputValue),ph(t,n,e),n};Rt.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Wn(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return ph(n,n,e),n};Rt.radio=n=>(n.textContent="",n);Rt.checkbox=(n,e)=>{const t=_m(Qe(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Wn(i,e.inputPlaceholder||e.inputLabel),t};Rt.textarea=(n,e)=>{xd(n,e.inputValue),O_(n,e),ph(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Qe()).width),a=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+t(n);l>i?Qe().style.width=`${l}px`:Wa(Qe(),"width",e.width)};new MutationObserver(a).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const gN=(n,e)=>{const t=S_();t&&(D_(t),Qn(t,e,"htmlContainer"),e.html?(N_(e.html,t),tn(t,"block")):e.text?(t.textContent=e.text,tn(t,"block")):yn(t),cN(n,e))},pN=(n,e)=>{const t=yS();t&&(D_(t),gh(t,e.footer,"block"),e.footer&&N_(e.footer,t),Qn(t,e,"footer"))},yN=(n,e)=>{const t=at.innerParams.get(n),i=nu();if(!i)return;if(t&&e.icon===t.icon){qT(i,e),jT(i,e);return}if(!e.icon&&!e.iconHtml){yn(i);return}if(e.icon&&Object.keys(Cd).indexOf(e.icon)===-1){mo(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),yn(i);return}tn(i),qT(i,e),jT(i,e),Fe(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",ES)},jT=(n,e)=>{for(const[t,i]of Object.entries(Cd))e.icon!==t&&yr(n,i);Fe(n,e.icon&&Cd[e.icon]),vN(n,e),ES(),Qn(n,e,"icon")},ES=()=>{const n=Qe();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},_N=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,wN=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,qT=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=FT(e.iconHtml):e.icon==="success"?(i=_N,t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=wN:e.icon&&(i=FT({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Wn(n,i)},vN=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])UT(n,t,"background-color",e.iconColor);UT(n,".swal2-success-ring","border-color",e.iconColor)}},FT=n=>`<div class="${W["icon-content"]}">${n}</div>`,bN=(n,e)=>{const t=pS();if(t){if(!e.imageUrl){yn(t);return}tn(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Wa(t,"width",e.imageWidth),Wa(t,"height",e.imageHeight),t.className=W.image,Qn(t,e,"image")}};let P_=!1,TS=0,AS=0,SS=0,RS=0;const EN=n=>{n.addEventListener("mousedown",Dd),document.body.addEventListener("mousemove",Vd),n.addEventListener("mouseup",Nd),n.addEventListener("touchstart",Dd),document.body.addEventListener("touchmove",Vd),n.addEventListener("touchend",Nd)},TN=n=>{n.removeEventListener("mousedown",Dd),document.body.removeEventListener("mousemove",Vd),n.removeEventListener("mouseup",Nd),n.removeEventListener("touchstart",Dd),document.body.removeEventListener("touchmove",Vd),n.removeEventListener("touchend",Nd)},Dd=n=>{const e=Qe();if(n.target===e||nu().contains(n.target)){P_=!0;const t=IS(n);TS=t.clientX,AS=t.clientY,SS=parseInt(e.style.insetInlineStart)||0,RS=parseInt(e.style.insetBlockStart)||0,Fe(e,"swal2-dragging")}},Vd=n=>{const e=Qe();if(P_){let{clientX:t,clientY:i}=IS(n);e.style.insetInlineStart=`${SS+(t-TS)}px`,e.style.insetBlockStart=`${RS+(i-AS)}px`}},Nd=()=>{const n=Qe();P_=!1,yr(n,"swal2-dragging")},IS=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},AN=(n,e)=>{const t=Dn(),i=Qe();if(!(!t||!i)){if(e.toast){Wa(t,"width",e.width),i.style.width="100%";const a=iu();a&&i.insertBefore(a,nu())}else Wa(i,"width",e.width);Wa(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),yn(gm()),SN(i,e),e.draggable&&!e.toast?(Fe(i,W.draggable),EN(i)):(yr(i,W.draggable),TN(i))}},SN=(n,e)=>{const t=e.showClass||{};n.className=`${W.popup} ${Ln(n)?t.popup:""}`,e.toast?(Fe([document.documentElement,document.body],W["toast-shown"]),Fe(n,W.toast)):Fe(n,W.modal),Qn(n,e,"popup"),typeof e.customClass=="string"&&Fe(n,e.customClass),e.icon&&Fe(n,W[`icon-${e.icon}`])},RN=(n,e)=>{const t=R_();if(!t)return;const{progressSteps:i,currentProgressStep:a}=e;if(!i||i.length===0||a===void 0){yn(t);return}tn(t),t.textContent="",a>=i.length&&Cn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,c)=>{const d=IN(l);if(t.appendChild(d),c===a&&Fe(d,W["active-progress-step"]),c!==i.length-1){const m=CN(e);t.appendChild(m)}})},IN=n=>{const e=document.createElement("li");return Fe(e,W["progress-step"]),Wn(e,n),e},CN=n=>{const e=document.createElement("li");return Fe(e,W["progress-step-line"]),n.progressStepsDistance&&Wa(e,"width",n.progressStepsDistance),e},xN=(n,e)=>{const t=gS();t&&(D_(t),gh(t,e.title||e.titleText,"block"),e.title&&N_(e.title,t),e.titleText&&(t.innerText=e.titleText),Qn(t,e,"title"))},CS=(n,e)=>{AN(n,e),sN(n,e),RN(n,e),yN(n,e),bN(n,e),xN(n,e),iN(n,e),gN(n,e),tN(n,e),pN(n,e);const t=Qe();typeof e.didRender=="function"&&t&&e.didRender(t),Te.eventEmitter.emit("didRender",t)},DN=()=>Ln(Qe()),xS=()=>{var n;return(n=Wr())===null||n===void 0?void 0:n.click()},VN=()=>{var n;return(n=go())===null||n===void 0?void 0:n.click()},NN=()=>{var n;return(n=ru())===null||n===void 0?void 0:n.click()},su=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),DS=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},ON=(n,e,t)=>{DS(n),e.toast||(n.keydownHandler=i=>MN(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Qe(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},Ny=(n,e)=>{var t;const i=C_();if(i.length){n=n+e,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Qe())===null||t===void 0||t.focus()},VS=["ArrowRight","ArrowDown"],PN=["ArrowLeft","ArrowUp"],MN=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?kN(e,n):e.key==="Tab"?LN(e):[...VS,...PN].includes(e.key)?BN(e.key):e.key==="Escape"&&UN(e,n,t)))},kN=(n,e)=>{if(!mm(e.allowEnterKey))return;const t=_m(Qe(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;xS(),n.preventDefault()}},LN=n=>{const e=n.target,t=C_();let i=-1;for(let a=0;a<t.length;a++)if(e===t[a]){i=a;break}n.shiftKey?Ny(i,-1):Ny(i,1),n.stopPropagation(),n.preventDefault()},BN=n=>{const e=mh(),t=Wr(),i=go(),a=ru();if(!e||!t||!i||!a)return;const l=[t,i,a];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const c=VS.includes(n)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let m=0;m<e.children.length;m++){if(d=d[c],!d)return;if(d instanceof HTMLButtonElement&&Ln(d))break}d instanceof HTMLButtonElement&&d.focus()}},UN=(n,e,t)=>{mm(e.allowEscapeKey)&&(n.preventDefault(),t(su.esc))};var xl={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zN=()=>{const n=Dn();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},NS=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},OS=typeof window<"u"&&!!window.GestureEvent,jN=()=>{if(OS&&!Oi(document.body,W.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Fe(document.body,W.iosfix),qN()}},qN=()=>{const n=Dn();if(!n)return;let e;n.ontouchstart=t=>{e=FN(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},FN=n=>{const e=n.target,t=Dn(),i=S_();return!t||!i||HN(n)||GN(n)?!1:e===t||!zT(t)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(zT(i)&&i.contains(e))},HN=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",GN=n=>n.touches&&n.touches.length>1,$N=()=>{if(Oi(document.body,W.iosfix)){const n=parseInt(document.body.style.top,10);yr(document.body,W.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},KN=()=>{const n=document.createElement("div");n.className=W["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Tl=null;const QN=n=>{Tl===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Tl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Tl+KN()}px`)},YN=()=>{Tl!==null&&(document.body.style.paddingRight=`${Tl}px`,Tl=null)};function PS(n,e,t,i){ym()?HT(n,i):(PV(t).then(()=>HT(n,i)),DS(Te)),OS?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),x_()&&(YN(),$N(),NS()),XN()}function XN(){yr([document.documentElement,document.body],[W.shown,W["height-auto"],W["no-backdrop"],W["toast-shown"]])}function Os(n){n=ZN(n);const e=xl.swalPromiseResolve.get(this),t=WN(this);this.isAwaitingPromise?n.isDismissed||(yh(this),e(n)):t&&e(n)}const WN=n=>{const e=Qe();if(!e)return!1;const t=at.innerParams.get(n);if(!t||Oi(e,t.hideClass.popup))return!1;yr(e,t.showClass.popup),Fe(e,t.hideClass.popup);const i=Dn();return yr(i,t.showClass.backdrop),Fe(i,t.hideClass.backdrop),JN(n,e,t),!0};function MS(n){const e=xl.swalPromiseReject.get(this);yh(this),e&&e(n)}const yh=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,at.innerParams.get(n)||n._destroy())},ZN=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),JN=(n,e,t)=>{var i;const a=Dn(),l=vS(e);typeof t.willClose=="function"&&t.willClose(e),(i=Te.eventEmitter)===null||i===void 0||i.emit("willClose",e),l?eO(n,e,a,t.returnFocus,t.didClose):PS(n,a,t.returnFocus,t.didClose)},eO=(n,e,t,i,a)=>{Te.swalCloseEventFinishedCallback=PS.bind(null,n,t,i,a);const l=function(c){if(c.target===e){var d;(d=Te.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Te),delete Te.swalCloseEventFinishedCallback,e.removeEventListener("animationend",l),e.removeEventListener("transitionend",l)}};e.addEventListener("animationend",l),e.addEventListener("transitionend",l)},HT=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=Te.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},Dl=n=>{let e=Qe();if(e||new no,e=Qe(),!e)return;const t=iu();ym()?yn(nu()):tO(e,n),tn(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},tO=(n,e)=>{const t=mh(),i=iu();!t||!i||(!e&&Ln(Wr())&&(e=Wr()),tn(t),e&&(yn(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),Fe([n,t],W.loading))},nO=(n,e)=>{e.input==="select"||e.input==="radio"?oO(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(T_(e.inputValue)||A_(e.inputValue))&&(Dl(Wr()),lO(n,e))},rO=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return iO(t);case"radio":return sO(t);case"file":return aO(t);default:return e.inputAutoTrim?t.value.trim():t.value}},iO=n=>n.checked?1:0,sO=n=>n.checked?n.value:null,aO=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,oO=(n,e)=>{const t=Qe();if(!t)return;const i=a=>{e.input==="select"?uO(t,Od(a),e):e.input==="radio"&&cO(t,Od(a),e)};T_(e.inputOptions)||A_(e.inputOptions)?(Dl(Wr()),fh(e.inputOptions).then(a=>{n.hideLoading(),i(a)})):typeof e.inputOptions=="object"?i(e.inputOptions):mo(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},lO=(n,e)=>{const t=n.getInput();t&&(yn(t),fh(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,tn(t),t.focus(),n.hideLoading()}).catch(i=>{mo(`Error in inputValue promise: ${i}`),t.value="",tn(t),t.focus(),n.hideLoading()}))};function uO(n,e,t){const i=Ns(n,W.select);if(!i)return;const a=(l,c,d)=>{const m=document.createElement("option");m.value=d,Wn(m,c),m.selected=kS(d,t.inputValue),l.appendChild(m)};e.forEach(l=>{const c=l[0],d=l[1];if(Array.isArray(d)){const m=document.createElement("optgroup");m.label=c,m.disabled=!1,i.appendChild(m),d.forEach(p=>a(m,p[1],p[0]))}else a(i,d,c)}),i.focus()}function cO(n,e,t){const i=Ns(n,W.radio);if(!i)return;e.forEach(l=>{const c=l[0],d=l[1],m=document.createElement("input"),p=document.createElement("label");m.type="radio",m.name=W.radio,m.value=c,kS(c,t.inputValue)&&(m.checked=!0);const _=document.createElement("span");Wn(_,d),_.className=W.label,p.appendChild(m),p.appendChild(_),i.appendChild(p)});const a=i.querySelectorAll("input");a.length&&a[0].focus()}const Od=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let a=t;typeof a=="object"&&(a=Od(a)),e.push([i,a])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Od(i)),e.push([t,i])}),e},kS=(n,e)=>!!e&&e.toString()===n.toString(),hO=n=>{const e=at.innerParams.get(n);n.disableButtons(),e.input?LS(n,"confirm"):k_(n,!0)},fO=n=>{const e=at.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?LS(n,"deny"):M_(n,!1)},dO=(n,e)=>{n.disableButtons(),e(su.cancel)},LS=(n,e)=>{const t=at.innerParams.get(n);if(!t.input){mo(`The "input" parameter is needed to be set when using returnInputValueOn${E_(e)}`);return}const i=n.getInput(),a=rO(n,t);t.inputValidator?mO(n,a,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?M_(n,a):k_(n,a)},mO=(n,e,t)=>{const i=at.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>fh(i.inputValidator(e,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):t==="deny"?M_(n,e):k_(n,e)})},M_=(n,e)=>{const t=at.innerParams.get(n||void 0);t.showLoaderOnDeny&&Dl(go()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>fh(t.preDeny(e,t.validationMessage))).then(a=>{a===!1?(n.hideLoading(),yh(n)):n.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>BS(n||void 0,a))):n.close({isDenied:!0,value:e})},GT=(n,e)=>{n.close({isConfirmed:!0,value:e})},BS=(n,e)=>{n.rejectPromise(e)},k_=(n,e)=>{const t=at.innerParams.get(n||void 0);t.showLoaderOnConfirm&&Dl(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>fh(t.preConfirm(e,t.validationMessage))).then(a=>{Ln(gm())||a===!1?(n.hideLoading(),yh(n)):GT(n,typeof a>"u"?e:a)}).catch(a=>BS(n||void 0,a))):GT(n,e)};function Pd(){const n=at.innerParams.get(this);if(!n)return;const e=at.domCache.get(this);yn(e.loader),ym()?n.icon&&tn(nu()):gO(e),yr([e.popup,e.actions],W.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const gO=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?tn(e[0],"inline-block"):FV()&&yn(n.actions)};function US(){const n=at.innerParams.get(this),e=at.domCache.get(this);return e?_m(e.popup,n.input):null}function zS(n,e,t){const i=at.domCache.get(n);e.forEach(a=>{i[a].disabled=t})}function jS(n,e){const t=Qe();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${W.radio}"]`);for(let a=0;a<i.length;a++)i[a].disabled=e}else n.disabled=e}function qS(){zS(this,["confirmButton","denyButton","cancelButton"],!1)}function FS(){zS(this,["confirmButton","denyButton","cancelButton"],!0)}function HS(){jS(this.getInput(),!1)}function GS(){jS(this.getInput(),!0)}function $S(n){const e=at.domCache.get(this),t=at.innerParams.get(this);Wn(e.validationMessage,n),e.validationMessage.className=W["validation-message"],t.customClass&&t.customClass.validationMessage&&Fe(e.validationMessage,t.customClass.validationMessage),tn(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",W["validation-message"]),_S(i),Fe(i,W.inputerror))}function KS(){const n=at.domCache.get(this);n.validationMessage&&yn(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),yr(e,W.inputerror))}const Al={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},pO=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],yO={allowEnterKey:void 0},_O=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],QS=n=>Object.prototype.hasOwnProperty.call(Al,n),YS=n=>pO.indexOf(n)!==-1,XS=n=>yO[n],wO=n=>{QS(n)||Cn(`Unknown parameter "${n}"`)},vO=n=>{_O.includes(n)&&Cn(`The parameter "${n}" is incompatible with toasts`)},bO=n=>{const e=XS(n);e&&mS(n,e)},WS=n=>{n.backdrop===!1&&n.allowOutsideClick&&Cn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto"].includes(n.theme)&&Cn(`Invalid theme "${n.theme}". Expected "light", "dark", or "auto"`);for(const e in n)wO(e),n.toast&&vO(e),bO(e)};function ZS(n){const e=Dn(),t=Qe(),i=at.innerParams.get(this);if(!t||Oi(t,i.hideClass.popup)){Cn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=EO(n),l=Object.assign({},i,a);WS(l),e.dataset.swal2Theme=l.theme,CS(this,l),at.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const EO=n=>{const e={};return Object.keys(n).forEach(t=>{YS(t)?e[t]=n[t]:Cn(`Invalid parameter to update: ${t}`)}),e};function JS(){const n=at.domCache.get(this),e=at.innerParams.get(this);if(!e){e2(this);return}n.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Te.eventEmitter.emit("didDestroy"),TO(this)}const TO=n=>{e2(n),delete n.params,delete Te.keydownHandler,delete Te.keydownTarget,delete Te.currentInstance},e2=n=>{n.isAwaitingPromise?(oy(at,n),n.isAwaitingPromise=!0):(oy(xl,n),oy(at,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},oy=(n,e)=>{for(const t in n)n[t].delete(e)};var AO=Object.freeze({__proto__:null,_destroy:JS,close:Os,closeModal:Os,closePopup:Os,closeToast:Os,disableButtons:FS,disableInput:GS,disableLoading:Pd,enableButtons:qS,enableInput:HS,getInput:US,handleAwaitingPromise:yh,hideLoading:Pd,rejectPromise:MS,resetValidationMessage:KS,showValidationMessage:$S,update:ZS});const SO=(n,e,t)=>{n.toast?RO(n,e,t):(CO(e),xO(e),DO(n,e,t))},RO=(n,e,t)=>{e.popup.onclick=()=>{n&&(IO(n)||n.timer||n.input)||t(su.close)}},IO=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Md=!1;const CO=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(Md=!0)}}},xO=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(Md=!0)}}},DO=(n,e,t)=>{e.container.onclick=i=>{if(Md){Md=!1;return}i.target===e.container&&mm(n.allowOutsideClick)&&t(su.backdrop)}},VO=n=>typeof n=="object"&&n.jquery,$T=n=>n instanceof Element||VO(n),NO=n=>{const e={};return typeof n[0]=="object"&&!$T(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const a=n[i];typeof a=="string"||$T(a)?e[t]=a:a!==void 0&&mo(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof a}`)}),e};function OO(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return new this(...e)}function PO(n){class e extends this{_main(i,a){return super._main(i,Object.assign({},n,a))}}return e}const MO=()=>Te.timeout&&Te.timeout.getTimerLeft(),t2=()=>{if(Te.timeout)return HV(),Te.timeout.stop()},n2=()=>{if(Te.timeout){const n=Te.timeout.start();return V_(n),n}},kO=()=>{const n=Te.timeout;return n&&(n.running?t2():n2())},LO=n=>{if(Te.timeout){const e=Te.timeout.increase(n);return V_(e,!0),e}},BO=()=>!!(Te.timeout&&Te.timeout.isRunning());let KT=!1;const Oy={};function UO(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Oy[n]=this,KT||(document.body.addEventListener("click",zO),KT=!0)}const zO=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in Oy){const i=e.getAttribute(t);if(i){Oy[t].fire({template:i});return}}};class jO{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){var i=this;const a=function(){i.removeListener(e,a);for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];t.apply(i,c)};this.on(e,a)}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];this._getHandlersByEventName(e).forEach(l=>{try{l.apply(this,i)}catch(c){console.error(c)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),a=i.indexOf(t);a>-1&&i.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Te.eventEmitter=new jO;const qO=(n,e)=>{Te.eventEmitter.on(n,e)},FO=(n,e)=>{Te.eventEmitter.once(n,e)},HO=(n,e)=>{if(!n){Te.eventEmitter.reset();return}e?Te.eventEmitter.removeListener(n,e):Te.eventEmitter.removeAllListeners(n)};var GO=Object.freeze({__proto__:null,argsToParams:NO,bindClickHandler:UO,clickCancel:NN,clickConfirm:xS,clickDeny:VN,enableLoading:Dl,fire:OO,getActions:mh,getCancelButton:ru,getCloseButton:I_,getConfirmButton:Wr,getContainer:Dn,getDenyButton:go,getFocusableElements:C_,getFooter:yS,getHtmlContainer:S_,getIcon:nu,getIconContent:BV,getImage:pS,getInputLabel:UV,getLoader:iu,getPopup:Qe,getProgressSteps:R_,getTimerLeft:MO,getTimerProgressBar:pm,getTitle:gS,getValidationMessage:gm,increaseTimer:LO,isDeprecatedParameter:XS,isLoading:jV,isTimerRunning:BO,isUpdatableParameter:YS,isValidParameter:QS,isVisible:DN,mixin:PO,off:HO,on:qO,once:FO,resumeTimer:n2,showLoading:Dl,stopTimer:t2,toggleTimer:kO});class $O{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const r2=["swal-title","swal-html","swal-footer"],KO=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return tP(t),Object.assign(QO(t),YO(t),XO(t),WO(t),ZO(t),JO(t),eP(t,r2))},QO=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{to(i,["name","value"]);const a=i.getAttribute("name"),l=i.getAttribute("value");!a||!l||(typeof Al[a]=="boolean"?e[a]=l!=="false":typeof Al[a]=="object"?e[a]=JSON.parse(l):e[a]=l)}),e},YO=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const a=i.getAttribute("name"),l=i.getAttribute("value");!a||!l||(e[a]=new Function(`return ${l}`)())}),e},XO=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{to(i,["type","color","aria-label"]);const a=i.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=i.innerHTML,e[`show${E_(a)}Button`]=!0,i.hasAttribute("color")&&(e[`${a}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},WO=n=>{const e={},t=n.querySelector("swal-image");return t&&(to(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},ZO=n=>{const e={},t=n.querySelector("swal-icon");return t&&(to(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},JO=n=>{const e={},t=n.querySelector("swal-input");t&&(to(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(a=>{to(a,["value"]);const l=a.getAttribute("value");if(!l)return;const c=a.innerHTML;e.inputOptions[l]=c})),e},eP=(n,e)=>{const t={};for(const i in e){const a=e[i],l=n.querySelector(a);l&&(to(l,[]),t[a.replace(/^swal-/,"")]=l.innerHTML.trim())}return t},tP=n=>{const e=r2.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||Cn(`Unrecognized element <${i}>`)})},to=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&Cn([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},i2=10,nP=n=>{const e=Dn(),t=Qe();typeof n.willOpen=="function"&&n.willOpen(t),Te.eventEmitter.emit("willOpen",t);const a=window.getComputedStyle(document.body).overflowY;sP(e,t,n),setTimeout(()=>{rP(e,t)},i2),x_()&&(iP(e,n.scrollbarPadding,a),zN()),!ym()&&!Te.previousActiveElement&&(Te.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),Te.eventEmitter.emit("didOpen",t),yr(e,W["no-transition"])},kd=n=>{const e=Qe();if(n.target!==e)return;const t=Dn();e.removeEventListener("animationend",kd),e.removeEventListener("transitionend",kd),t.style.overflowY="auto"},rP=(n,e)=>{vS(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",kd),e.addEventListener("transitionend",kd)):n.style.overflowY="auto"},iP=(n,e,t)=>{jN(),e&&t!=="hidden"&&QN(t),setTimeout(()=>{n.scrollTop=0})},sP=(n,e,t)=>{Fe(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),tn(e,"grid"),setTimeout(()=>{Fe(e,t.showClass.popup),e.style.removeProperty("opacity")},i2)):tn(e,"grid"),Fe([document.documentElement,document.body],W.shown),t.heightAuto&&t.backdrop&&!t.toast&&Fe([document.documentElement,document.body],W["height-auto"])};var QT={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function aP(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=QT.email),n.input==="url"&&(n.inputValidator=QT.url))}function oP(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Cn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function lP(n){aP(n),n.showLoaderOnConfirm&&!n.preConfirm&&Cn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),oP(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),ZV(n)}let Hr;var nd=new WeakMap;class Dt{constructor(){if(DV(this,nd,void 0),typeof window>"u")return;Hr=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const a=Object.freeze(this.constructor.argsToParams(t));this.params=a,this.isAwaitingPromise=!1,VV(nd,this,this._main(Hr.params))}_main(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(WS(Object.assign({},t,e)),Te.currentInstance){const l=xl.swalPromiseResolve.get(Te.currentInstance),{isAwaitingPromise:c}=Te.currentInstance;Te.currentInstance._destroy(),c||l({isDismissed:!0}),x_()&&NS()}Te.currentInstance=Hr;const i=cP(e,t);lP(i),Object.freeze(i),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);const a=hP(Hr);return CS(Hr,i),at.innerParams.set(Hr,i),uP(Hr,a,i)}then(e){return LT(nd,this).then(e)}finally(e){return LT(nd,this).finally(e)}}const uP=(n,e,t)=>new Promise((i,a)=>{const l=c=>{n.close({isDismissed:!0,dismiss:c})};xl.swalPromiseResolve.set(n,i),xl.swalPromiseReject.set(n,a),e.confirmButton.onclick=()=>{hO(n)},e.denyButton.onclick=()=>{fO(n)},e.cancelButton.onclick=()=>{dO(n,l)},e.closeButton.onclick=()=>{l(su.close)},SO(t,e,l),ON(Te,t,l),nO(n,t),nP(t),fP(Te,t,l),dP(e,t),setTimeout(()=>{e.container.scrollTop=0})}),cP=(n,e)=>{const t=KO(n),i=Object.assign({},Al,e,t,n);return i.showClass=Object.assign({},Al.showClass,i.showClass),i.hideClass=Object.assign({},Al.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},hP=n=>{const e={popup:Qe(),container:Dn(),actions:mh(),confirmButton:Wr(),denyButton:go(),cancelButton:ru(),loader:iu(),closeButton:I_(),validationMessage:gm(),progressSteps:R_()};return at.domCache.set(n,e),e},fP=(n,e,t)=>{const i=pm();yn(i),e.timer&&(n.timeout=new $O(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(tn(i),Qn(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&V_(e.timer)})))},dP=(n,e)=>{if(!e.toast){if(!mm(e.allowEnterKey)){mS("allowEnterKey"),pP();return}mP(n)||gP(n,e)||Ny(-1,1)}},mP=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&Ln(t))return t.focus(),!0;return!1},gP=(n,e)=>e.focusDeny&&Ln(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&Ln(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&Ln(n.confirmButton)?(n.confirmButton.focus(),!0):!1,pP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}Dt.prototype.disableButtons=FS;Dt.prototype.enableButtons=qS;Dt.prototype.getInput=US;Dt.prototype.disableInput=GS;Dt.prototype.enableInput=HS;Dt.prototype.hideLoading=Pd;Dt.prototype.disableLoading=Pd;Dt.prototype.showValidationMessage=$S;Dt.prototype.resetValidationMessage=KS;Dt.prototype.close=Os;Dt.prototype.closePopup=Os;Dt.prototype.closeModal=Os;Dt.prototype.closeToast=Os;Dt.prototype.rejectPromise=MS;Dt.prototype.update=ZS;Dt.prototype._destroy=JS;Object.assign(Dt,GO);Object.keys(AO).forEach(n=>{Dt[n]=function(){return Hr&&Hr[n]?Hr[n](...arguments):null}});Dt.DismissReason=su;Dt.version="11.16.0";const no=Dt;no.default=no;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-footer-border-color: #eee;--swal2-input-background: transparent;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:var(--swal2-border-radius);background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:var(--swal2-input-background);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const yP=(n,e)=>{const[t,i]=Ey.useState(n);return Ey.useEffect(()=>{const a=setTimeout(()=>{i(n)},e);return()=>{clearTimeout(a)}},[n]),t},L_=(n={},e={})=>{const[t,i]=Q.useState(n),[a,l]=Q.useState({});Q.useEffect(()=>{p()},[t]),Q.useEffect(()=>{i(n)},[n]);const c=Q.useMemo(()=>{for(const b of Object.keys(a))if(a[b]!==null)return!1;return!0},[a]);yP(t,3e3);const d=({target:b})=>{const{name:E,value:S}=b;i({...t,[E]:S.replace(/(^\w{1})|(\s+\w{1})/g,D=>D.toUpperCase())})},m=()=>{i(n)},p=()=>{const b={};for(const E of Object.keys(e)){const[S,D]=e[E];b[`${E}Valid`]=S(t[E])?null:D}l(b)};return{...t,formState:t,onInputChange:d,onResetForm:m,...a,isFormValid:c,isValidEmail:b=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(b)}},ly=(n,e="")=>{function t(a){return a.replace(/(^\w{1})|(\s+\w{1})/g,l=>l.toUpperCase())}let i=t(n.toLowerCase());if(e==="colonia"){let a=JSON.parse(localStorage.UsersArray).filter(d=>d.colonia.indexOf(i)>-1),l=JSON.parse(localStorage.UsersArray).filter(d=>d.colonia.indexOf(n.toUpperCase())>-1),c=JSON.parse(localStorage.UsersArray).filter(d=>d.colonia.indexOf(n.toLowerCase())>-1);return{upFirstLe:a,upperCase:l,lowerCase:c}}else{if(e==="Jovenes"||e==="Matrimonios")return{upFirstLe:JSON.parse(localStorage.UsersArray).filter(l=>l.para===e)};{let a=JSON.parse(localStorage.UsersArray).filter(d=>d.lugar.indexOf(i)>-1),l=JSON.parse(localStorage.UsersArray).filter(d=>d.lugar.indexOf(n.toUpperCase())>-1),c=JSON.parse(localStorage.UsersArray).filter(d=>d.lugar.indexOf(n.toLowerCase())>-1);return{upFirstLe:a,upperCase:l,lowerCase:c}}}},_P={loginEmail:"",loginPassword:""},wP=({startLogin:n,status:e})=>{const{loginEmail:t,loginPassword:i,onInputChange:a}=L_(_P),l=c=>{if(c.preventDefault(),t===""||i===""){no.fire("Campo vacio","llenar todo por favor","error");return}n({correo:t,password:i})};return B.jsx("div",{className:"container login-container",children:e!=="not-authenticated"&&B.jsx("div",{className:"row",children:B.jsxs("div",{className:"col-md-6 login-form-1",children:[B.jsx("h3",{children:"Ingreso"}),B.jsxs("form",{onSubmit:l,children:[B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"text",className:"form-control",placeholder:"Correo",name:"loginEmail",value:t,onChange:a})}),B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"password",className:"form-control",placeholder:"Contraseña",name:"loginPassword",value:i,onChange:a})}),B.jsx("div",{className:"d-grid gap-2",children:B.jsx("input",{type:"submit",className:"btnSubmit",value:"Login"})})]}),B.jsx(Il,{to:"/cdctypmazo/auth/register",children:"Register"})]})})})},vP={registerName:"",registerEmail:"",registerPassword:"",registerPassword2:""},bP=({startRegister:n,status:e})=>{const{registerEmail:t,registerName:i,registerPassword:a,registerPassword2:l,onInputChange:c}=L_(vP),d=m=>{if(m.preventDefault(),t===""||i===""||a===""||l===""){no.fire("Campo vacio","llenar todo por favor","error");return}if(a!==l){no.fire("Error en registro","Contraseñas no son iguales","error");return}n({nombre:i,correo:t,password:a})};return B.jsx("div",{className:"container login-container",children:e!=="not-authenticated"&&B.jsx("div",{className:"row",children:B.jsxs("div",{className:"col-md-6 login-form-2",children:[B.jsx("h3",{children:"Registro"}),B.jsxs("form",{onSubmit:d,children:[B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"registerName",value:i,onChange:c})}),B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"email",className:"form-control",placeholder:"Correo",name:"registerEmail",value:t,onChange:c})}),B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"password",className:"form-control",placeholder:"Contraseña",name:"registerPassword",value:a,onChange:c})}),B.jsx("div",{className:"form-group mb-2",children:B.jsx("input",{type:"password",className:"form-control",placeholder:"Repita la contraseña",name:"registerPassword2",value:l,onChange:c})}),B.jsx("div",{className:"d-grid gap-2",children:B.jsx("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"})})]}),B.jsx(Il,{to:"/cdctypmazo/auth/login",children:"Login"})]})})})},s2=({postUser:n,editMode:e,newDataEdit:t,defaultModeEdith:i,setFormContact:a,location:l})=>{const[c,d]=Q.useState({nombre:"",correo:"",telefono:""});console.log(l==null?void 0:l.pathname);const{nombre:m,correo:p,telefono:_,onInputChange:b,onResetForm:E}=L_(c),S=D=>{D.preventDefault(),e||((l==null?void 0:l.pathname)==="/cdctypmazo/categorias"?n({nombre:m,correo:p,telefono:_,ren:!0}):n({nombre:m,correo:p,telefono:_}),a("")),E(),localStorage.req=JSON.stringify({cartillaMilitar:!1,cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,certificadoMedico:!1,ine:!1,fotos:!1,registrosDeArmas:!1}),localStorage.reqRen=JSON.stringify({cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,certificadoMedico:!1}),setTimeout(()=>{window.location.reload()},9e3)};return B.jsx("div",{className:"row1",children:B.jsxs("div",{className:"col login-form-1 ",children:[B.jsx("h3",{children:(l==null?void 0:l.pathname)==="/cdctypmazo/categorias"?"RENOVACIÓN":"CONTACTO"}),B.jsx("p",{children:" Envíanos tu Información de Contacto para Revisar los Documentos y/o poner Fecha para el Examen Psicológico. Recibirás un Correo en las Próximas 48 Horas"}),B.jsxs("form",{onSubmit:S,children:[B.jsx("div",{className:"form-group mb-4",children:B.jsx("input",{className:"form-control",placeholder:"Nombre",name:"nombre",value:m,onChange:b,required:!0})}),B.jsx("div",{className:"form-group mb-4",children:B.jsx("input",{type:"email",className:"form-control",placeholder:"@ Correo",name:"correo",value:p,onChange:b,required:!0})}),B.jsx("div",{className:"form-group mb-5",children:B.jsx("input",{type:"number",className:"form-control",placeholder:"Telefono",name:"telefono",value:_,onChange:b,required:!0})}),B.jsxs("div",{className:"d-grid gap-2",children:[B.jsx("input",{type:"submit",className:"btnSubmitPost btn",value:"ENVIAR"}),B.jsx("button",{onClick:()=>{a(""),localStorage.req=JSON.stringify({cartillaMilitar:!1,cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,certificadoMedico:!1,ine:!1,fotos:!1,registrosDeArmas:!1}),localStorage.reqRen=JSON.stringify({cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,certificadoMedico:!1}),setTimeout(()=>{window.location.reload()},1e3)},className:"mt-5 btn btn-outline-dark btn-sm",children:"cancelar"})]})]})]})})},EP=()=>{let n=ni();const{status:e,user:t}=Ty(_=>_.authSlice),{sweetAlertMessage:i}=Ty(_=>_.alertSlice),a=kA();function l(){setTimeout(()=>{a(RV())},1e3)}return{status:e,sweetAlertMessage:i,defaultAlert:l,user:t,checkLogin:async()=>{if(!localStorage.getItem("token"))return a(PT())},startLogin:async({correo:_,password:b})=>{if(a(OT()),JSON.parse(localStorage.usersRegistered).some(S=>S.correo===_)){let S=JSON.parse(localStorage.usersRegistered).filter(D=>D.correo===_);S[0].password===b?(a(EV({nombre:S[0].nombre,uid:S[0].uid})),localStorage.status="authenticated",n.pathname="/productos"):a(kT(["Something Went Wrong","Contraseña Mal","error"]))}else a(kT(["Something Went Wrong","Correo Mal","error"]))},startLogout:()=>{localStorage.status="not-authenticated",a(PT()),pathname="/*"},startRegister:async({nombre:_,correo:b,password:E})=>{a(OT()),localStorage.usersRegistered==null&&(localStorage.usersRegistered=JSON.stringify([]));let S=JSON.parse(localStorage.usersRegistered);S.push({nombre:_,correo:b,password:E,uid:Date.now()}),localStorage.usersRegistered=JSON.stringify(S),n.pathname="/*"}}};var YT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},TP=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},o2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,_=l>>2,b=(l&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),i.push(t[_],t[b],t[E],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(a2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const p=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||p==null||b==null)throw new AP;const E=l<<2|d>>4;if(i.push(E),p!==64){const S=d<<4&240|p>>2;if(i.push(S),b!==64){const D=p<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SP=function(n){const e=a2(n);return o2.encodeByteArray(e,!0)},Ld=function(n){return SP(n).replace(/\./g,"")},l2=function(n){try{return o2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bd(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!RP(t)||(n[t]=Bd(n[t],e[t]));return n}function RP(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=()=>u2().__FIREBASE_DEFAULTS__,CP=()=>{if(typeof process>"u"||typeof YT>"u")return;const n=YT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&l2(n[1]);return e&&JSON.parse(e)},B_=()=>{try{return IP()||CP()||xP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},DP=n=>{var e,t;return(t=(e=B_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},VP=n=>{const e=DP(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},c2=()=>{var n;return(n=B_())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ld(JSON.stringify(t)),Ld(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PP(){var n;const e=(n=B_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MP(){return typeof window<"u"||h2()}function h2(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function f2(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d2(){try{return typeof indexedDB=="object"}catch{return!1}}function kP(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="FirebaseError";class po extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=LP,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wm.prototype.create)}}class wm{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?BP(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new po(a,d,i)}}function BP(n,e){return n.replace(UP,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const UP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Fc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(WT(l)&&WT(c)){if(!Fc(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function WT(n){return n!==null&&typeof n=="object"}function zP(n,e){const t=new jP(n,e);return t.subscribe.bind(t)}class jP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qP(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=uy),a.error===void 0&&(a.error=uy),a.complete===void 0&&(a.complete=uy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function uy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new NP;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GP(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HP(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HP(n){return n===za?void 0:n}function GP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=[];var Be;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Be||(Be={}));const g2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},$P=Be.INFO,KP={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},QP=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=KP[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z_{constructor(e){this.name=e,this._logLevel=$P,this._logHandler=QP,this._userLogHandler=null,U_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}function YP(n){U_.forEach(e=>{e.setLogLevel(n)})}function XP(n,e){for(const t of U_){let i=null;e&&e.level&&(i=g2[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(a,l,...c)=>{const d=c.map(m=>{if(m==null)return null;if(typeof m=="string")return m;if(typeof m=="number"||typeof m=="boolean")return m.toString();if(m instanceof Error)return m.message;try{return JSON.stringify(m)}catch{return null}}).filter(m=>m).join(" ");l>=(i??a.logLevel)&&n({level:Be[l].toLowerCase(),message:d,args:c,type:a.name})}}}const WP=(n,e)=>e.some(t=>n instanceof t);let ZT,JT;function ZP(){return ZT||(ZT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return JT||(JT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p2=new WeakMap,Py=new WeakMap,y2=new WeakMap,cy=new WeakMap,j_=new WeakMap;function eM(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ks(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&p2.set(t,n)}).catch(()=>{}),j_.set(e,n),e}function tM(n){if(Py.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Py.set(n,e)}let My={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Py.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nM(n){My=n(My)}function rM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(hy(this),e,...t);return y2.set(i,e.sort?e.sort():[e]),ks(i)}:JP().includes(n)?function(...e){return n.apply(hy(this),e),ks(p2.get(this))}:function(...e){return ks(n.apply(hy(this),e))}}function iM(n){return typeof n=="function"?rM(n):(n instanceof IDBTransaction&&tM(n),WP(n,ZP())?new Proxy(n,My):n)}function ks(n){if(n instanceof IDBRequest)return eM(n);if(cy.has(n))return cy.get(n);const e=iM(n);return e!==n&&(cy.set(n,e),j_.set(e,n)),e}const hy=n=>j_.get(n);function sM(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=ks(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ks(c.result),m.oldVersion,m.newVersion,ks(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const aM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],fy=new Map;function e0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fy.get(e))return fy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=oM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||aM.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&m.done]))[0]};return fy.set(e,l),l}nM(n=>({...n,get:(e,t,i)=>e0(e,t)||n.get(e,t,i),has:(e,t)=>!!e0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",ky="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new z_("@firebase/app"),cM="@firebase/app-compat",hM="@firebase/analytics-compat",fM="@firebase/analytics",dM="@firebase/app-check-compat",mM="@firebase/app-check",gM="@firebase/auth",pM="@firebase/auth-compat",yM="@firebase/database",_M="@firebase/data-connect",wM="@firebase/database-compat",vM="@firebase/functions",bM="@firebase/functions-compat",EM="@firebase/installations",TM="@firebase/installations-compat",AM="@firebase/messaging",SM="@firebase/messaging-compat",RM="@firebase/performance",IM="@firebase/performance-compat",CM="@firebase/remote-config",xM="@firebase/remote-config-compat",DM="@firebase/storage",VM="@firebase/storage-compat",NM="@firebase/firestore",OM="@firebase/vertexai",PM="@firebase/firestore-compat",MM="firebase",kM="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]",LM={[zd]:"fire-core",[cM]:"fire-core-compat",[fM]:"fire-analytics",[hM]:"fire-analytics-compat",[mM]:"fire-app-check",[dM]:"fire-app-check-compat",[gM]:"fire-auth",[pM]:"fire-auth-compat",[yM]:"fire-rtdb",[_M]:"fire-data-connect",[wM]:"fire-rtdb-compat",[vM]:"fire-fn",[bM]:"fire-fn-compat",[EM]:"fire-iid",[TM]:"fire-iid-compat",[AM]:"fire-fcm",[SM]:"fire-fcm-compat",[RM]:"fire-perf",[IM]:"fire-perf-compat",[CM]:"fire-rc",[xM]:"fire-rc-compat",[DM]:"fire-gcs",[VM]:"fire-gcs-compat",[NM]:"fire-fst",[PM]:"fire-fst-compat",[OM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Map,Vl=new Map,Nl=new Map;function Hc(n,e){try{n.container.addComponent(e)}catch(t){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _2(n,e){n.container.addOrOverwriteComponent(e)}function Ol(n){const e=n.name;if(Nl.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;Nl.set(e,n);for(const t of Fs.values())Hc(t,n);for(const t of Vl.values())Hc(t,n);return!0}function q_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function BM(n,e,t=qs){q_(n,e).clearInstance(t)}function w2(n){return n.options!==void 0}function v2(n){return n==null?!1:n.settings!==void 0}function UM(){Nl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new wm("app","Firebase",zM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b2=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(n,e){const t=l2(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const a=JSON.parse(t).exp*1e3,l=new Date().getTime();a-l<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class jM extends b2{constructor(e,t,i,a){const l=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,c={name:i,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,c,a);else{const d=e;super(d.options,c,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},t),this._serverConfig.authIdToken&&t0(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&t0(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Pi(zd,ky,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){G_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=kM;function H_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qs,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw pr.create("bad-app-name",{appName:String(a)});if(t||(t=c2()),!t)throw pr.create("no-options");const l=Fs.get(a);if(l){if(Fc(t,l.options)&&Fc(i,l.config))return l;throw pr.create("duplicate-app",{appName:a})}const c=new m2(a);for(const m of Nl.values())c.addComponent(m);const d=new b2(t,i,c);return Fs.set(a,d),d}function qM(n,e){if(MP()&&!h2())throw pr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;w2(n)?t=n.options:t=n;const i=Object.assign(Object.assign({},e),t);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=p=>[...p].reduce((_,b)=>Math.imul(31,_)+b.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw pr.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(i)),c=Vl.get(l);if(c)return c.incRefCount(e.releaseOnDeref),c;const d=new m2(l);for(const p of Nl.values())d.addComponent(p);const m=new jM(t,e,l,d);return Vl.set(l,m),m}function E2(n=qs){const e=Fs.get(n);if(!e&&n===qs&&c2())return H_();if(!e)throw pr.create("no-app",{appName:n});return e}function FM(){return Array.from(Fs.values())}async function G_(n){let e=!1;const t=n.name;Fs.has(t)?(e=!0,Fs.delete(t)):Vl.has(t)&&n.decRefCount()<=0&&(Vl.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function Pi(n,e,t){var i;let a=(i=LM[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}Ol(new ro(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function T2(n,e){if(n!==null&&typeof n!="function")throw pr.create("invalid-log-argument");XP(n,e)}function A2(n){YP(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="firebase-heartbeat-database",GM=1,Gc="firebase-heartbeat-store";let dy=null;function S2(){return dy||(dy=sM(HM,GM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gc)}catch(t){console.warn(t)}}}}).catch(n=>{throw pr.create("idb-open",{originalErrorMessage:n.message})})),dy}async function $M(n){try{const t=(await S2()).transaction(Gc),i=await t.objectStore(Gc).get(R2(n));return await t.done,i}catch(e){if(e instanceof po)ki.warn(e.message);else{const t=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(t.message)}}}async function n0(n,e){try{const i=(await S2()).transaction(Gc,"readwrite");await i.objectStore(Gc).put(e,R2(n)),await i.done}catch(t){if(t instanceof po)ki.warn(t.message);else{const i=pr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ki.warn(i.message)}}}function R2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=1024,QM=30;class YM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WM(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=r0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>QM){const c=ZM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ki.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:i,unsentEntries:a}=XM(this._heartbeatsCache.heartbeats),l=Ld(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ki.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function XM(n,e=KM){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),i0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),i0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class WM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d2()?kP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $M(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return n0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(n){return Ld(JSON.stringify({version:2,heartbeats:n})).length}function ZM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){Ol(new ro("platform-logger",e=>new lM(e),"PRIVATE")),Ol(new ro("heartbeat",e=>new YM(e),"PRIVATE")),Pi(zd,ky,n),Pi(zd,ky,"esm2017"),Pi("fire-js","")}JM("");const ek=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:po,SDK_VERSION:F_,_DEFAULT_ENTRY_NAME:qs,_addComponent:Hc,_addOrOverwriteComponent:_2,_apps:Fs,_clearComponents:UM,_components:Nl,_getProvider:q_,_isFirebaseApp:w2,_isFirebaseServerApp:v2,_registerComponent:Ol,_removeServiceInstance:BM,_serverApps:Vl,deleteApp:G_,getApp:E2,getApps:FM,initializeApp:H_,initializeServerApp:qM,onLog:T2,registerVersion:Pi,setLogLevel:A2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this._delegate=e,this.firebase=t,Hc(e,new ro("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),G_(this._delegate)))}_getService(e,t=qs){var i;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((i=a.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:t})}_removeServiceInstance(e,t=qs){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Hc(this._delegate,e)}_addOrOverwriteComponent(e){_2(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},s0=new wm("app-compat","Firebase",nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){const e={},t={__esModule:!0,initializeApp:l,app:a,registerVersion:Pi,setLogLevel:A2,onLog:T2,apps:null,SDK_VERSION:F_,INTERNAL:{registerComponent:d,removeApp:i,useAsService:m,modularAPIs:ek}};t.default=t,Object.defineProperty(t,"apps",{get:c});function i(p){delete e[p]}function a(p){if(p=p||qs,!XT(e,p))throw s0.create("no-app",{appName:p});return e[p]}a.App=n;function l(p,_={}){const b=H_(p,_);if(XT(e,b.name))return e[b.name];const E=new n(b,t);return e[b.name]=E,E}function c(){return Object.keys(e).map(p=>e[p])}function d(p){const _=p.name,b=_.replace("-compat","");if(Ol(p)&&p.type==="PUBLIC"){const E=(S=a())=>{if(typeof S[b]!="function")throw s0.create("invalid-app-argument",{appName:_});return S[b]()};p.serviceProps!==void 0&&Bd(E,p.serviceProps),t[b]=E,n.prototype[b]=function(...S){return this._getService.bind(this,_).apply(this,p.multipleInstances?S:[])}}return p.type==="PUBLIC"?t[b]:null}function m(p,_){return _==="serverAuth"?null:_}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){const n=rk(tk);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:I2,extendNamespace:e,createSubscribe:zP,ErrorFactory:wm,deepExtend:Bd});function e(t){Bd(n,t)}return n}const ik=I2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new z_("@firebase/app-compat"),sk="@firebase/app-compat",ak="0.2.50";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){Pi(sk,ak,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=u2();if(n.firebase!==void 0){a0.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&a0.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const $_=ik;ok();var lk="firebase",uk="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$_.registerVersion(lk,uk,"app-compat");var o0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,C2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function R(){}R.prototype=I.prototype,N.D=I.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(x,P,j){for(var V=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)V[Bt-2]=arguments[Bt];return I.prototype[P].apply(x,V)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)x[P]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=N.g[0],R=N.g[1],P=N.g[2];var j=N.g[3],V=I+(j^R&(P^j))+x[0]+3614090360&4294967295;I=R+(V<<7&4294967295|V>>>25),V=j+(P^I&(R^P))+x[1]+3905402710&4294967295,j=I+(V<<12&4294967295|V>>>20),V=P+(R^j&(I^R))+x[2]+606105819&4294967295,P=j+(V<<17&4294967295|V>>>15),V=R+(I^P&(j^I))+x[3]+3250441966&4294967295,R=P+(V<<22&4294967295|V>>>10),V=I+(j^R&(P^j))+x[4]+4118548399&4294967295,I=R+(V<<7&4294967295|V>>>25),V=j+(P^I&(R^P))+x[5]+1200080426&4294967295,j=I+(V<<12&4294967295|V>>>20),V=P+(R^j&(I^R))+x[6]+2821735955&4294967295,P=j+(V<<17&4294967295|V>>>15),V=R+(I^P&(j^I))+x[7]+4249261313&4294967295,R=P+(V<<22&4294967295|V>>>10),V=I+(j^R&(P^j))+x[8]+1770035416&4294967295,I=R+(V<<7&4294967295|V>>>25),V=j+(P^I&(R^P))+x[9]+2336552879&4294967295,j=I+(V<<12&4294967295|V>>>20),V=P+(R^j&(I^R))+x[10]+4294925233&4294967295,P=j+(V<<17&4294967295|V>>>15),V=R+(I^P&(j^I))+x[11]+2304563134&4294967295,R=P+(V<<22&4294967295|V>>>10),V=I+(j^R&(P^j))+x[12]+1804603682&4294967295,I=R+(V<<7&4294967295|V>>>25),V=j+(P^I&(R^P))+x[13]+4254626195&4294967295,j=I+(V<<12&4294967295|V>>>20),V=P+(R^j&(I^R))+x[14]+2792965006&4294967295,P=j+(V<<17&4294967295|V>>>15),V=R+(I^P&(j^I))+x[15]+1236535329&4294967295,R=P+(V<<22&4294967295|V>>>10),V=I+(P^j&(R^P))+x[1]+4129170786&4294967295,I=R+(V<<5&4294967295|V>>>27),V=j+(R^P&(I^R))+x[6]+3225465664&4294967295,j=I+(V<<9&4294967295|V>>>23),V=P+(I^R&(j^I))+x[11]+643717713&4294967295,P=j+(V<<14&4294967295|V>>>18),V=R+(j^I&(P^j))+x[0]+3921069994&4294967295,R=P+(V<<20&4294967295|V>>>12),V=I+(P^j&(R^P))+x[5]+3593408605&4294967295,I=R+(V<<5&4294967295|V>>>27),V=j+(R^P&(I^R))+x[10]+38016083&4294967295,j=I+(V<<9&4294967295|V>>>23),V=P+(I^R&(j^I))+x[15]+3634488961&4294967295,P=j+(V<<14&4294967295|V>>>18),V=R+(j^I&(P^j))+x[4]+3889429448&4294967295,R=P+(V<<20&4294967295|V>>>12),V=I+(P^j&(R^P))+x[9]+568446438&4294967295,I=R+(V<<5&4294967295|V>>>27),V=j+(R^P&(I^R))+x[14]+3275163606&4294967295,j=I+(V<<9&4294967295|V>>>23),V=P+(I^R&(j^I))+x[3]+4107603335&4294967295,P=j+(V<<14&4294967295|V>>>18),V=R+(j^I&(P^j))+x[8]+1163531501&4294967295,R=P+(V<<20&4294967295|V>>>12),V=I+(P^j&(R^P))+x[13]+2850285829&4294967295,I=R+(V<<5&4294967295|V>>>27),V=j+(R^P&(I^R))+x[2]+4243563512&4294967295,j=I+(V<<9&4294967295|V>>>23),V=P+(I^R&(j^I))+x[7]+1735328473&4294967295,P=j+(V<<14&4294967295|V>>>18),V=R+(j^I&(P^j))+x[12]+2368359562&4294967295,R=P+(V<<20&4294967295|V>>>12),V=I+(R^P^j)+x[5]+4294588738&4294967295,I=R+(V<<4&4294967295|V>>>28),V=j+(I^R^P)+x[8]+2272392833&4294967295,j=I+(V<<11&4294967295|V>>>21),V=P+(j^I^R)+x[11]+1839030562&4294967295,P=j+(V<<16&4294967295|V>>>16),V=R+(P^j^I)+x[14]+4259657740&4294967295,R=P+(V<<23&4294967295|V>>>9),V=I+(R^P^j)+x[1]+2763975236&4294967295,I=R+(V<<4&4294967295|V>>>28),V=j+(I^R^P)+x[4]+1272893353&4294967295,j=I+(V<<11&4294967295|V>>>21),V=P+(j^I^R)+x[7]+4139469664&4294967295,P=j+(V<<16&4294967295|V>>>16),V=R+(P^j^I)+x[10]+3200236656&4294967295,R=P+(V<<23&4294967295|V>>>9),V=I+(R^P^j)+x[13]+681279174&4294967295,I=R+(V<<4&4294967295|V>>>28),V=j+(I^R^P)+x[0]+3936430074&4294967295,j=I+(V<<11&4294967295|V>>>21),V=P+(j^I^R)+x[3]+3572445317&4294967295,P=j+(V<<16&4294967295|V>>>16),V=R+(P^j^I)+x[6]+76029189&4294967295,R=P+(V<<23&4294967295|V>>>9),V=I+(R^P^j)+x[9]+3654602809&4294967295,I=R+(V<<4&4294967295|V>>>28),V=j+(I^R^P)+x[12]+3873151461&4294967295,j=I+(V<<11&4294967295|V>>>21),V=P+(j^I^R)+x[15]+530742520&4294967295,P=j+(V<<16&4294967295|V>>>16),V=R+(P^j^I)+x[2]+3299628645&4294967295,R=P+(V<<23&4294967295|V>>>9),V=I+(P^(R|~j))+x[0]+4096336452&4294967295,I=R+(V<<6&4294967295|V>>>26),V=j+(R^(I|~P))+x[7]+1126891415&4294967295,j=I+(V<<10&4294967295|V>>>22),V=P+(I^(j|~R))+x[14]+2878612391&4294967295,P=j+(V<<15&4294967295|V>>>17),V=R+(j^(P|~I))+x[5]+4237533241&4294967295,R=P+(V<<21&4294967295|V>>>11),V=I+(P^(R|~j))+x[12]+1700485571&4294967295,I=R+(V<<6&4294967295|V>>>26),V=j+(R^(I|~P))+x[3]+2399980690&4294967295,j=I+(V<<10&4294967295|V>>>22),V=P+(I^(j|~R))+x[10]+4293915773&4294967295,P=j+(V<<15&4294967295|V>>>17),V=R+(j^(P|~I))+x[1]+2240044497&4294967295,R=P+(V<<21&4294967295|V>>>11),V=I+(P^(R|~j))+x[8]+1873313359&4294967295,I=R+(V<<6&4294967295|V>>>26),V=j+(R^(I|~P))+x[15]+4264355552&4294967295,j=I+(V<<10&4294967295|V>>>22),V=P+(I^(j|~R))+x[6]+2734768916&4294967295,P=j+(V<<15&4294967295|V>>>17),V=R+(j^(P|~I))+x[13]+1309151649&4294967295,R=P+(V<<21&4294967295|V>>>11),V=I+(P^(R|~j))+x[4]+4149444226&4294967295,I=R+(V<<6&4294967295|V>>>26),V=j+(R^(I|~P))+x[11]+3174756917&4294967295,j=I+(V<<10&4294967295|V>>>22),V=P+(I^(j|~R))+x[2]+718787259&4294967295,P=j+(V<<15&4294967295|V>>>17),V=R+(j^(P|~I))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(P+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+j&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var R=I-this.blockSize,x=this.B,P=this.h,j=0;j<I;){if(P==0)for(;j<=R;)a(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<I;)if(x[P++]=N.charCodeAt(j++),P==this.blockSize){a(this,x),P=0;break}}else for(;j<I;)if(x[P++]=N[j++],P==this.blockSize){a(this,x),P=0;break}}this.h=P,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var R=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.u(N),N=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)N[R++]=this.g[I]>>>x&255;return N};function l(N,I){var R=d;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=I(N)}function c(N,I){this.h=I;for(var R=[],x=!0,P=N.length-1;0<=P;P--){var j=N[P]|0;x&&j==I||(R[P]=j,x=!1)}this.g=R}var d={};function m(N){return-128<=N&&128>N?l(N,function(I){return new c([I|0],0>I?-1:0)}):new c([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return O(p(-N));for(var I=[],R=1,x=0;N>=R;x++)I[x]=N/R|0,R*=4294967296;return new c(I,0)}function _(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return O(_(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(I,8)),x=b,P=0;P<N.length;P+=8){var j=Math.min(8,N.length-P),V=parseInt(N.substring(P,P+j),I);8>j?(j=p(Math.pow(I,j)),x=x.j(j).add(p(V))):(x=x.j(R),x=x.add(p(V)))}return x}var b=m(0),E=m(1),S=m(16777216);n=c.prototype,n.m=function(){if(z(this))return-O(this).m();for(var N=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);N+=(0<=x?x:4294967296+x)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(z(this))return"-"+O(this).toString(N);for(var I=p(Math.pow(N,6)),R=this,x="";;){var P=ae(R,I).g;R=H(R,P.j(I));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=P,D(R))return j+x;for(;6>j.length;)j="0"+j;x=j+x}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function z(N){return N.h==-1}n.l=function(N){return N=H(this,N),z(N)?-1:D(N)?0:1};function O(N){for(var I=N.g.length,R=[],x=0;x<I;x++)R[x]=~N.g[x];return new c(R,~N.h).add(E)}n.abs=function(){return z(this)?O(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0,P=0;P<=I;P++){var j=x+(this.i(P)&65535)+(N.i(P)&65535),V=(j>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);x=V>>>16,j&=65535,V&=65535,R[P]=V<<16|j}return new c(R,R[R.length-1]&-2147483648?-1:0)};function H(N,I){return N.add(O(I))}n.j=function(N){if(D(this)||D(N))return b;if(z(this))return z(N)?O(this).j(O(N)):O(O(this).j(N));if(z(N))return O(this.j(O(N)));if(0>this.l(S)&&0>N.l(S))return p(this.m()*N.m());for(var I=this.g.length+N.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<N.g.length;P++){var j=this.i(x)>>>16,V=this.i(x)&65535,Bt=N.i(P)>>>16,Vt=N.i(P)&65535;R[2*x+2*P]+=V*Vt,Z(R,2*x+2*P),R[2*x+2*P+1]+=j*Vt,Z(R,2*x+2*P+1),R[2*x+2*P+1]+=V*Bt,Z(R,2*x+2*P+1),R[2*x+2*P+2]+=j*Bt,Z(R,2*x+2*P+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new c(R,0)};function Z(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function $(N,I){this.g=N,this.h=I}function ae(N,I){if(D(I))throw Error("division by zero");if(D(N))return new $(b,b);if(z(N))return I=ae(O(N),I),new $(O(I.g),O(I.h));if(z(I))return I=ae(N,O(I)),new $(O(I.g),I.h);if(30<N.g.length){if(z(N)||z(I))throw Error("slowDivide_ only works with positive integers.");for(var R=E,x=I;0>=x.l(N);)R=ne(R),x=ne(x);var P=ce(R,1),j=ce(x,1);for(x=ce(x,2),R=ce(R,2);!D(x);){var V=j.add(x);0>=V.l(N)&&(P=P.add(R),j=V),x=ce(x,1),R=ce(R,1)}return I=H(N,P.j(I)),new $(P,I)}for(P=b;0<=N.l(I);){for(R=Math.max(1,Math.floor(N.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),j=p(R),V=j.j(I);z(V)||0<V.l(N);)R-=x,j=p(R),V=j.j(I);D(j)&&(j=E),P=P.add(j),N=H(N,V)}return new $(P,N)}n.A=function(N){return ae(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&N.i(x);return new c(R,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|N.i(x);return new c(R,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^N.i(x);return new c(R,this.h^N.h)};function ne(N){for(var I=N.g.length+1,R=[],x=0;x<I;x++)R[x]=N.i(x)<<1|N.i(x-1)>>>31;return new c(R,N.h)}function ce(N,I){var R=I>>5;I%=32;for(var x=N.g.length-R,P=[],j=0;j<x;j++)P[j]=0<I?N.i(j+R)>>>I|N.i(j+R+1)<<32-I:N.i(j+R);return new c(P,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,C2=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Ls=c}).apply(typeof o0<"u"?o0:typeof self<"u"?self:typeof window<"u"?window:{});var rd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x2,xc,D2,fd,Ly,V2,N2,O2;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,w){return h==Array.prototype||h==Object.prototype||(h[y]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof rd=="object"&&rd];for(var y=0;y<h.length;++y){var w=h[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var w=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in w))break e;w=w[q]}h=h[h.length-1],A=w[h],y=y(A),y!=A&&y!=null&&e(w,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var w=0,A=!1,q={next:function(){if(!A&&w<h.length){var X=w++;return{value:y(X,h[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function _(h,y,w){return h.call.apply(h.bind,arguments)}function b(h,y,w){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function E(h,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:b,E.apply(null,arguments)}function S(h,y){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function D(h,y){function w(){}w.prototype=y.prototype,h.aa=y.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(A,q,X){for(var le=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)le[Ue-2]=arguments[Ue];return y.prototype[q].apply(A,le)}}function z(h){const y=h.length;if(0<y){const w=Array(y);for(let A=0;A<y;A++)w[A]=h[A];return w}return[]}function O(h,y){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(m(A)){const q=h.length||0,X=A.length||0;h.length=q+X;for(let le=0;le<X;le++)h[q+le]=A[le]}else h.push(A)}}class H{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var ne=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ce(h,y,w){for(const A in h)y.call(w,h[A],A,h)}function N(h,y){for(const w in h)y.call(void 0,h[w],w,h)}function I(h){const y={};for(const w in h)y[w]=h[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,y){let w,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(w in A)h[w]=A[w];for(let X=0;X<R.length;X++)w=R[X],Object.prototype.hasOwnProperty.call(A,w)&&(h[w]=A[w])}}function P(h){var y=1;h=h.split(":");const w=[];for(;0<y&&h.length;)w.push(h.shift()),y--;return h.length&&w.push(h.join(":")),w}function j(h){d.setTimeout(()=>{throw h},0)}function V(){var h=Xe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Bt{constructor(){this.h=this.g=null}add(y,w){const A=Vt.get();A.set(y,w),this.h?this.h.next=A:this.g=A,this.h=A}}var Vt=new H(()=>new fe,h=>h.reset());class fe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,Ee=!1,Xe=new Bt,M=()=>{const h=d.Promise.resolve(void 0);Se=()=>{h.then(oe)}};var oe=()=>{for(var h;h=V();){try{h.h.call(h.g)}catch(w){j(w)}var y=Vt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}Ee=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return h}();function Ve(h,y){if(me.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(ne){e:{try{ae(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else w=="mouseover"?y=h.fromElement:w=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:xe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}D(Ve,me);var xe={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),He=0;function _t(h,y,w,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=w,this.capture=!!A,this.ha=q,this.key=++He,this.da=this.fa=!1}function Ze(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function wn(h){this.src=h,this.g={},this.h=0}wn.prototype.add=function(h,y,w,A,q){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var le=Zn(h,y,A,q);return-1<le?(y=h[le],w||(y.fa=!1)):(y=new _t(y,this.src,X,!!A,q),y.fa=w,h.push(y)),y};function ri(h,y){var w=y.type;if(w in h.g){var A=h.g[w],q=Array.prototype.indexOf.call(A,y,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(Ze(y),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Zn(h,y,w,A){for(var q=0;q<h.length;++q){var X=h[q];if(!X.da&&X.listener==y&&X.capture==!!w&&X.ha==A)return q}return-1}var Hi="closure_lm_"+(1e6*Math.random()|0),Gi={};function ii(h,y,w,A,q){if(Array.isArray(y)){for(var X=0;X<y.length;X++)ii(h,y[X],w,A,q);return null}return w=Nh(w),h&&h[Nt]?h.K(y,w,p(A)?!!A.capture:!1,q):mu(h,y,w,!1,A,q)}function mu(h,y,w,A,q,X){if(!y)throw Error("Invalid event type");var le=p(q)?!!q.capture:!!q,Ue=gu(h);if(Ue||(h[Hi]=Ue=new wn(h)),w=Ue.add(y,w,A,le,X),w.proxy)return w;if(A=bo(),w.proxy=A,A.src=h,A.listener=w,h.addEventListener)ge||(q=le),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(To(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function bo(){function h(w){return y.call(h.src,h.listener,w)}const y=Km;return h}function Eo(h,y,w,A,q){if(Array.isArray(y))for(var X=0;X<y.length;X++)Eo(h,y[X],w,A,q);else A=p(A)?!!A.capture:!!A,w=Nh(w),h&&h[Nt]?(h=h.i,y=String(y).toString(),y in h.g&&(X=h.g[y],w=Zn(X,w,A,q),-1<w&&(Ze(X[w]),Array.prototype.splice.call(X,w,1),X.length==0&&(delete h.g[y],h.h--)))):h&&(h=gu(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Zn(y,w,A,q)),(w=-1<h?y[h]:null)&&ia(w))}function ia(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Nt])ri(y.i,h);else{var w=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(w,A,h.capture):y.detachEvent?y.detachEvent(To(w),A):y.addListener&&y.removeListener&&y.removeListener(A),(w=gu(y))?(ri(w,h),w.h==0&&(w.src=null,y[Hi]=null)):Ze(h)}}}function To(h){return h in Gi?Gi[h]:Gi[h]="on"+h}function Km(h,y){if(h.da)h=!0;else{y=new Ve(y,this);var w=h.listener,A=h.ha||h.src;h.fa&&ia(h),h=w.call(A,y)}return h}function gu(h){return h=h[Hi],h instanceof wn?h:null}var Vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nh(h){return typeof h=="function"?h:(h[Vn]||(h[Vn]=function(y){return h.handleEvent(y)}),h[Vn])}function Ut(){ve.call(this),this.i=new wn(this),this.M=this,this.F=null}D(Ut,ve),Ut.prototype[Nt]=!0,Ut.prototype.removeEventListener=function(h,y,w,A){Eo(this,h,y,w,A)};function $t(h,y){var w,A=h.F;if(A)for(w=[];A;A=A.F)w.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new me(y,h);else if(y instanceof me)y.target=y.target||h;else{var q=y;y=new me(A,h),x(y,q)}if(q=!0,w)for(var X=w.length-1;0<=X;X--){var le=y.g=w[X];q=si(le,A,!0,y)&&q}if(le=y.g=h,q=si(le,A,!0,y)&&q,q=si(le,A,!1,y)&&q,w)for(X=0;X<w.length;X++)le=y.g=w[X],q=si(le,A,!1,y)&&q}Ut.prototype.N=function(){if(Ut.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var w=h.g[y],A=0;A<w.length;A++)Ze(w[A]);delete h.g[y],h.h--}}this.F=null},Ut.prototype.K=function(h,y,w,A){return this.i.add(String(h),y,!1,w,A)},Ut.prototype.L=function(h,y,w,A){return this.i.add(String(h),y,!0,w,A)};function si(h,y,w,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,X=0;X<y.length;++X){var le=y[X];if(le&&!le.da&&le.capture==w){var Ue=le.listener,jt=le.ha||le.src;le.fa&&ri(h.i,le),q=Ue.call(jt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Oh(h,y,w){if(typeof h=="function")w&&(h=E(h,w));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function pu(h){h.g=Oh(()=>{h.g=null,h.i&&(h.i=!1,pu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Qm extends ve{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){ve.call(this),this.h=h,this.g={}}D(sa,ve);var $i=[];function hn(h){ce(h.g,function(y,w){this.g.hasOwnProperty(w)&&ia(y)},h),h.g={}}sa.prototype.N=function(){sa.aa.N.call(this),hn(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yu=d.JSON.stringify,Cr=d.JSON.parse,vn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function _u(){}_u.prototype.h=null;function Ph(h){return h.h||(h.h=h.i())}function Mh(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){me.call(this,"d")}D(Ki,me);function _r(){me.call(this,"c")}D(_r,me);var Jn={},Qi=null;function Ao(){return Qi=Qi||new Ut}Jn.La="serverreachability";function wu(h){me.call(this,Jn.La,h)}D(wu,me);function Yi(h){const y=Ao();$t(y,new wu(y))}Jn.STAT_EVENT="statevent";function So(h,y){me.call(this,Jn.STAT_EVENT,h),this.stat=y}D(So,me);function At(h){const y=Ao();$t(y,new So(y,h))}Jn.Ma="timingevent";function kh(h,y){me.call(this,Jn.Ma,h),this.size=y}D(kh,me);function Xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Lh(h,y,w,A,q,X){h.info(function(){if(h.g)if(X)for(var le="",Ue=X.split("&"),jt=0;jt<Ue.length;jt++){var ze=Ue[jt].split("=");if(1<ze.length){var Yt=ze[0];ze=ze[1];var qt=Yt.split("_");le=2<=qt.length&&qt[1]=="type"?le+(Yt+"="+ze+"&"):le+(Yt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+w+`
`+le})}function Bh(h,y,w,A,q,X,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+w+`
`+X+" "+le})}function Zi(h,y,w,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kt(h,w)+(A?" "+A:"")})}function Dr(h,y){h.info(function(){return"TIMEOUT: "+y})}Wi.prototype.info=function(){};function Kt(h,y){if(!h.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var A=w[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return yu(w)}catch{return y}}var zt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},aa;function Ro(){}D(Ro,_u),Ro.prototype.g=function(){return new XMLHttpRequest},Ro.prototype.i=function(){return{}},aa=new Ro;function Vr(h,y,w,A){this.j=h,this.i=y,this.l=w,this.R=A||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Ji={},oa={};function wr(h,y,w){h.L=1,h.v=ca(wt(y)),h.m=w,h.P=!0,oi(h,null)}function oi(h,y){h.F=Date.now(),mt(h),h.A=wt(h.v);var w=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),ci(w.i,"t",A),h.C=0,w=h.j.J,h.h=new vu,h.g=Zh(h.j,w?y:null,!h.m),0<h.O&&(h.M=new Qm(E(h.Y,h,h.g),h.O)),y=h.U,w=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&($i[0]=q.toString()),q=$i);for(var X=0;X<q.length;X++){var le=ii(w,q[X],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Yi(),Lh(h.i,h.u,h.A,h.l,h.R,h.m)}Vr.prototype.ca=function(h){h=h.target;const y=this.M;y&&ir(h)==3?y.j():this.Y(h)},Vr.prototype.Y=function(h){try{if(h==this.g)e:{const qt=ir(this.g);var y=this.g.Ba();const mi=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Hh(this.g)))){this.J||qt!=4||y==7||(y==8||0>=mi?Yi(3):Yi(2)),Io(this);var w=this.g.Z();this.X=w;t:if(es(this)){var A=Hh(this.g);h="";var q=A.length,X=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),Bn(this);var le="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(X&&y==q-1)});A.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,Bh(this.i,this.u,this.A,this.l,this.R,qt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,jt=this.g;if((Ue=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var ze=Ue;break t}}ze=null}if(w=ze)Zi(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,w);else{this.o=!1,this.s=3,At(12),Nn(this),Bn(this);break e}}if(this.P){w=!0;let nn;for(;!this.J&&this.C<le.length;)if(nn=ts(this,le),nn==oa){qt==4&&(this.s=4,At(14),w=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Ji){this.s=4,At(15),Zi(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else Zi(this.i,this.l,nn,null),Un(this,nn);if(es(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||le.length!=0||this.h.h||(this.s=1,At(16),w=!1),this.o=this.o&&w,!w)Zi(this.i,this.l,le,"[Invalid Chunked Response]"),Nn(this),Bn(this);else if(0<le.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ya(Yt),Yt.M=!0,At(11))}}else Zi(this.i,this.l,le,null),Un(this,le);qt==4&&Nn(this),this.o&&!this.J&&(qt==4?Yh(this.j,this):(this.o=!1,mt(this)))}else eg(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Nn(this),Bn(this)}}}catch{}finally{}};function es(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ts(h,y){var w=h.C,A=y.indexOf(`
`,w);return A==-1?oa:(w=Number(y.substring(w,A)),isNaN(w)?Ji:(A+=1,A+w>y.length?oa:(y=y.slice(A,A+w),h.C=A+w,y)))}Vr.prototype.cancel=function(){this.J=!0,Nn(this)};function mt(h){h.S=Date.now()+h.I,bu(h,h.I)}function bu(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Xi(E(h.ba,h),y)}function Io(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Vr.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dr(this.i,this.A),this.L!=2&&(Yi(),At(17)),Nn(this),this.s=2,Bn(this)):bu(this,this.S-h)};function Bn(h){h.j.G==0||h.J||Yh(h.j,h)}function Nn(h){Io(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,hn(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Un(h,y){try{var w=h.j;if(w.G!=0&&(w.g==h||ns(w.h,h))){if(!h.K&&ns(w.h,h)&&w.G==3){try{var A=w.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Lo(w),Mo(w);else break e;Nu(w),At(18)}}else w.za=q[1],0<w.za-w.T&&37500>q[2]&&w.F&&w.v==0&&!w.C&&(w.C=Xi(E(w.Za,w),6e3));if(1>=Uh(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else di(w,11)}else if((h.K||w.g==h)&&Lo(w),!Z(y))for(q=w.Da.g.parse(y),y=0;y<q.length;y++){let ze=q[y];if(w.T=ze[0],ze=ze[1],w.G==2)if(ze[0]=="c"){w.K=ze[1],w.ia=ze[2];const Yt=ze[3];Yt!=null&&(w.la=Yt,w.j.info("VER="+w.la));const qt=ze[4];qt!=null&&(w.Aa=qt,w.j.info("SVER="+w.Aa));const mi=ze[5];mi!=null&&typeof mi=="number"&&0<mi&&(A=1.5*mi,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const nn=h.g;if(nn){const Br=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var X=A.h;X.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(rs(X,X.h),X.h=null))}if(A.D){const Pu=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pu&&(A.ya=Pu,Ge(A.I,A.D,Pu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var le=h;if(A.qa=Wh(A,A.J?A.ia:null,A.W),le.K){er(A.h,le);var Ue=le,jt=A.L;jt&&(Ue.I=jt),Ue.B&&(Io(Ue),mt(Ue)),A.g=le}else Kh(A);0<w.i.length&&ko(w)}else ze[0]!="stop"&&ze[0]!="close"||di(w,7);else w.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?di(w,7):Du(w):ze[0]!="noop"&&w.l&&w.l.ta(ze),w.v=0)}}Yi(4)}catch{}}var Ym=class{constructor(h,y){this.g=h,this.map=y}};function Eu(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Uh(h){return h.h?1:h.g?h.g.size:0}function ns(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function rs(h,y){h.g?h.g.add(y):h.h=y}function er(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Eu.prototype.cancel=function(){if(this.i=bn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function bn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const w of h.g.values())y=y.concat(w.D);return y}return z(h.i)}function zh(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var y=[],w=h.length,A=0;A<w;A++)y.push(h[A]);return y}y=[],w=0;for(A in h)y[w++]=h[A];return y}function Xm(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var y=[];h=h.length;for(var w=0;w<h;w++)y.push(w);return y}y=[],w=0;for(const A in h)y[w++]=A;return y}}}function la(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var w=Xm(h),A=zh(h),q=A.length,X=0;X<q;X++)y.call(void 0,A[X],w&&w[X],h)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(h,y){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var A=h[w].indexOf("="),q=null;if(0<=A){var X=h[w].substring(0,A);q=h[w].substring(A+1)}else X=h[w];y(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function li(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof li){this.h=h.h,is(this,h.j),this.o=h.o,this.g=h.g,ua(this,h.s),this.l=h.l;var y=h.i,w=new Nr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),xo(this,w),this.m=h.m}else h&&(y=String(h).match(Au))?(this.h=!1,is(this,y[1]||"",!0),this.o=ss(y[2]||""),this.g=ss(y[3]||"",!0),ua(this,y[4]),this.l=ss(y[5]||"",!0),xo(this,y[6]||"",!0),this.m=ss(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}li.prototype.toString=function(){var h=[],y=this.j;y&&h.push(tr(y,Su,!0),":");var w=this.g;return(w||y=="file")&&(h.push("//"),(y=this.o)&&h.push(tr(y,Su,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(tr(w,w.charAt(0)=="/"?Ru:jh,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",tr(w,Jm)),h.join("")};function wt(h){return new li(h)}function is(h,y,w){h.j=w?ss(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ua(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function xo(h,y,w){y instanceof Nr?(h.i=y,Iu(h.i,h.h)):(w||(y=tr(y,Zm)),h.i=new Nr(y,h.h))}function Ge(h,y,w){h.i.set(y,w)}function ca(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function ss(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function tr(h,y,w){return typeof h=="string"?(h=encodeURI(h).replace(y,Wm),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wm(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Su=/[#\/\?@]/g,jh=/[#\?:]/g,Ru=/[#\?]/g,Zm=/[#\?@]/g,Jm=/#/g;function Nr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function nr(h){h.g||(h.g=new Map,h.h=0,h.i&&Co(h.i,function(y,w){h.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=Nr.prototype,n.add=function(h,y){nr(this),this.i=null,h=hi(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(y),this.h+=1,this};function Do(h,y){nr(h),y=hi(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ui(h,y){return nr(h),y=hi(h,y),h.g.has(y)}n.forEach=function(h,y){nr(this),this.g.forEach(function(w,A){w.forEach(function(q){h.call(y,q,A,this)},this)},this)},n.na=function(){nr(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let A=0;A<y.length;A++){const q=h[A];for(let X=0;X<q.length;X++)w.push(y[A])}return w},n.V=function(h){nr(this);let y=[];if(typeof h=="string")ui(this,h)&&(y=y.concat(this.g.get(hi(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)y=y.concat(h[w])}return y},n.set=function(h,y){return nr(this),this.i=null,h=hi(this,h),ui(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function ci(h,y,w){Do(h,y),0<w.length&&(h.i=null,h.g.set(hi(h,y),z(w)),h.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var A=y[w];const X=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var q=X;le[A]!==""&&(q+="="+encodeURIComponent(String(le[A]))),h.push(q)}}return this.i=h.join("&")};function hi(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Iu(h,y){y&&!h.j&&(nr(h),h.i=null,h.g.forEach(function(w,A){var q=A.toLowerCase();A!=q&&(Do(this,A),ci(this,q,w))},h)),h.j=y}function qh(h,y){const w=new Wi;if(d.Image){const A=new Image;A.onload=S(rr,w,"TestLoadImage: loaded",!0,y,A),A.onerror=S(rr,w,"TestLoadImage: error",!1,y,A),A.onabort=S(rr,w,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(rr,w,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ha(h,y){const w=new Wi,A=new AbortController,q=setTimeout(()=>{A.abort(),rr(w,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?rr(w,"TestPingServer: ok",!0,y):rr(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),rr(w,"TestPingServer: error",!1,y)})}function rr(h,y,w,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(w)}catch{}}function fa(){this.g=new vn}function Or(h,y,w){const A=w||"";try{la(h,function(q,X){let le=q;p(q)&&(le=yu(q)),y.push(A+X+"="+encodeURIComponent(le))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function as(h){this.l=h.Ub||null,this.j=h.eb||!1}D(as,_u),as.prototype.g=function(){return new fi(this.l,this.j)},as.prototype.i=function(h){return function(){return h}}({});function fi(h,y){Ut.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(fi,Ut),n=fi.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Mr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Pr(this):Mr(this),this.readyState==3&&Cu(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},n.Qa=function(h){this.g&&(this.response=h,Pr(this))},n.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Mr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=y.next();return h.join(`\r
`)};function Mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xu(h){let y="";return ce(h,function(w,A){y+=A,y+=":",y+=w,y+=`\r
`}),y}function Qt(h,y,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=xu(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):Ge(h,y,w))}function We(h){Ut.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(We,Ut);var Vo=/^https?$/i,da=["POST","PUT"];n=We.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():aa.g(),this.v=this.o?Ph(this.o):Ph(aa),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(X){Fh(this,X);return}if(h=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)w.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())w.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(X=>X.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(da,y,void 0))||A||q||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of w)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ma(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Fh(this,X)}};function Fh(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,No(h),kr(h)}function No(h){h.A||(h.A=!0,$t(h,"complete"),$t(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,$t(this,"complete"),$t(this,"abort"),kr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),We.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oo(this):this.bb())},n.bb=function(){Oo(this)};function Oo(h){if(h.h&&typeof c<"u"&&(!h.v[1]||ir(h)!=4||h.Z()!=2)){if(h.u&&ir(h)==4)Oh(h.Ea,0,h);else if($t(h,"readystatechange"),ir(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var A;if(A=le===0){var q=String(h.D).match(Au)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Vo.test(q?q.toLowerCase():"")}w=A}if(w)$t(h,"complete"),$t(h,"success");else{h.m=6;try{var X=2<ir(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",No(h)}}finally{kr(h)}}}}function kr(h,y){if(h.g){ma(h);const w=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||$t(h,"ready");try{w.onreadystatechange=A}catch{}}}function ma(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ir(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Cr(y)}};function Hh(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function eg(h){const y={};h=(h.g&&2<=ir(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(Z(h[A]))continue;var w=P(h[A]);const q=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const X=y[q]||[];y[q]=X,X.push(w)}N(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ga(h,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||y}function Po(h){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ga("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ga("baseRetryDelayMs",5e3,h),this.cb=ga("retryDelaySeedMs",1e4,h),this.Wa=ga("forwardChannelMaxRetries",2,h),this.wa=ga("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Eu(h&&h.concurrentRequestLimit),this.Da=new fa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Po.prototype,n.la=8,n.G=1,n.connect=function(h,y,w,A){At(0),this.W=h,this.H=y||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=Wh(this,null,this.W),ko(this)};function Du(h){if(Gh(h),h.G==3){var y=h.U++,w=wt(h.I);if(Ge(w,"SID",h.K),Ge(w,"RID",y),Ge(w,"TYPE","terminate"),pa(h,w),y=new Vr(h,h.j,y),y.L=2,y.v=ca(wt(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=Zh(y.j,null),y.g.ea(y.v)),y.F=Date.now(),mt(y)}Xh(h)}function Mo(h){h.g&&(ya(h),h.g.cancel(),h.g=null)}function Gh(h){Mo(h),h.u&&(d.clearTimeout(h.u),h.u=null),Lo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function ko(h){if(!Tu(h.h)&&!h.s){h.s=!0;var y=h.Ga;Se||M(),Ee||(Se(),Ee=!0),Xe.add(y,h),h.B=0}}function tg(h,y){return Uh(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Xi(E(h.Ga,h,y),Ou(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new Vr(this,this.j,h);let X=this.o;if(this.S&&(X?(X=I(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=$h(this,q,y),w=wt(this.I),Ge(w,"RID",h),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),pa(this,w),X&&(this.O?y="headers="+encodeURIComponent(String(xu(X)))+"&"+y:this.m&&Qt(w,this.m,X)),rs(this.h,q),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",y),Ge(w,"SID","null"),q.T=!0,wr(q,w,null)):wr(q,w,y),this.G=2}}else this.G==3&&(h?Vu(this,h):this.i.length==0||Tu(this.h)||Vu(this))};function Vu(h,y){var w;y?w=y.l:w=h.U++;const A=wt(h.I);Ge(A,"SID",h.K),Ge(A,"RID",w),Ge(A,"AID",h.T),pa(h,A),h.m&&h.o&&Qt(A,h.m,h.o),w=new Vr(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),y&&(h.i=y.D.concat(h.i)),y=$h(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),rs(h.h,w),wr(w,A,y)}function pa(h,y){h.H&&ce(h.H,function(w,A){Ge(y,A,w)}),h.l&&la({},function(w,A){Ge(y,A,w)})}function $h(h,y,w){w=Math.min(h.i.length,w);var A=h.l?E(h.l.Na,h.l,h):null;e:{var q=h.i;let X=-1;for(;;){const le=["count="+w];X==-1?0<w?(X=q[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ue=!0;for(let jt=0;jt<w;jt++){let ze=q[jt].g;const Yt=q[jt].map;if(ze-=X,0>ze)X=Math.max(0,q[jt].g-100),Ue=!1;else try{Or(Yt,le,"req"+ze+"_")}catch{A&&A(Yt)}}if(Ue){A=le.join("&");break e}}}return h=h.i.splice(0,w),y.D=h,A}function Kh(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Se||M(),Ee||(Se(),Ee=!0),Xe.add(y,h),h.v=0}}function Nu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Xi(E(h.Fa,h),Ou(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Qh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Xi(E(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Mo(this),Qh(this))};function ya(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Qh(h){h.g=new Vr(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=wt(h.qa);Ge(y,"RID","rpc"),Ge(y,"SID",h.K),Ge(y,"AID",h.T),Ge(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(y,"TO",h.ja),Ge(y,"TYPE","xmlhttp"),pa(h,y),h.m&&h.o&&Qt(y,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=ca(wt(y)),w.m=null,w.P=!0,oi(w,h)}n.Za=function(){this.C!=null&&(this.C=null,Mo(this),Nu(this),At(19))};function Lo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Yh(h,y){var w=null;if(h.g==y){Lo(h),ya(h),h.g=null;var A=2}else if(ns(h.h,y))w=y.D,er(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;A=Ao(),$t(A,new kh(A,w)),ko(h)}else Kh(h);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&tg(h,y)||A==2&&Nu(h)))switch(w&&0<w.length&&(y=h.h,y.i=y.i.concat(w)),q){case 1:di(h,5);break;case 4:di(h,10);break;case 3:di(h,6);break;default:di(h,2)}}}function Ou(h,y){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*y}function di(h,y){if(h.j.info("Error code "+y),y==2){var w=E(h.fb,h),A=h.Xa;const q=!A;A=new li(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||is(A,"https"),ca(A),q?qh(A.toString(),w):ha(A.toString(),w)}else At(2);h.G=0,h.l&&h.l.sa(y),Xh(h),Gh(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Xh(h){if(h.G=0,h.ka=[],h.l){const y=bn(h.h);(y.length!=0||h.i.length!=0)&&(O(h.ka,y),O(h.ka,h.i),h.h.i.length=0,z(h.i),h.i.length=0),h.l.ra()}}function Wh(h,y,w){var A=w instanceof li?wt(w):new li(w);if(A.g!="")y&&(A.g=y+"."+A.g),ua(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var X=new li(null);A&&is(X,A),y&&(X.g=y),q&&ua(X,q),w&&(X.l=w),A=X}return w=h.D,y=h.ya,w&&y&&Ge(A,w,y),Ge(A,"VER",h.la),pa(h,A),A}function Zh(h,y,w){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new We(new as({eb:w})):new We(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jh(){}n=Jh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bo(){}Bo.prototype.g=function(h,y){return new En(h,y)};function En(h,y){Ut.call(this),this.g=new Po(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!Z(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Lr(this)}D(En,Ut),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Du(this.g)},En.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=yu(h),h=w);y.i.push(new Ym(y.Ya++,h)),y.G==3&&ko(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Du(this.g),delete this.g,En.aa.N.call(this)};function ef(h){Ki.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const w in y){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}D(ef,Ki);function tf(){_r.call(this),this.status=1}D(tf,_r);function Lr(h){this.g=h}D(Lr,Jh),Lr.prototype.ua=function(){$t(this.g,"a")},Lr.prototype.ta=function(h){$t(this.g,new ef(h))},Lr.prototype.sa=function(h){$t(this.g,new tf)},Lr.prototype.ra=function(){$t(this.g,"b")},Bo.prototype.createWebChannel=Bo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,O2=function(){return new Bo},N2=function(){return Ao()},V2=Jn,Ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zt.NO_ERROR=0,zt.TIMEOUT=8,zt.HTTP_ERROR=6,fd=zt,ai.COMPLETE="complete",D2=ai,Mh.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Ut.prototype.listen=Ut.prototype.K,xc=Mh,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,x2=We}).apply(typeof rd<"u"?rd:typeof self<"u"?self:typeof window<"u"?window:{});const l0="@firebase/firestore",u0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new z_("@firebase/firestore");function _l(){return Hs.logLevel}function ck(n){Hs.setLogLevel(n)}function se(n,...e){if(Hs.logLevel<=Be.DEBUG){const t=e.map(K_);Hs.debug(`Firestore (${au}): ${n}`,...t)}}function It(n,...e){if(Hs.logLevel<=Be.ERROR){const t=e.map(K_);Hs.error(`Firestore (${au}): ${n}`,...t)}}function Zr(n,...e){if(Hs.logLevel<=Be.WARN){const t=e.map(K_);Hs.warn(`Firestore (${au}): ${n}`,...t)}}function K_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(n="Unexpected state"){const e=`FIRESTORE (${au}) INTERNAL ASSERTION FAILED: `+n;throw It(e),new Error(e)}function ye(n,e){n||de()}function hk(n,e){n||de()}function he(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends po{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mk{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cn,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cn)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ye(typeof i.accessToken=="string"),new P2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new en(e)}}class gk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new gk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yk{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,v2(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0);const i=l=>{l.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,se("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new c0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string"),this.R=t.token,new c0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=_k(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Re(n,e){return n<e?-1:n>e?1:0}function Pl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}function k2(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-62135596800,f0=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*f0);return new dt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<h0)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new dt(0,0))}static max(){return new we(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class Gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&de(),i===void 0?i=e.length-t:i>e.length-t&&de(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Gr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Gr.isNumericId(e),a=Gr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class Me extends Gr{construct(e,t,i){return new Me(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new Me(t)}static emptyPath(){return new Me([])}}const wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Gr{construct(e,t,i){return new ct(e,t,i)}static isValidIdentifier(e){return wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new ct([d0])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new re(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new re(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new re(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(t)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Me.fromString(e))}static fromName(e){return new ue(Me.fromString(e).popFirst(5))}static empty(){return new ue(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;class jd{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function By(n){return n.fields.find(e=>e.kind===2)}function ja(n){return n.fields.filter(e=>e.kind!==2)}jd.UNKNOWN_ID=-1;class dd{constructor(e,t){this.fieldPath=e,this.kind=t}}class $c{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new $c(0,Yn.min())}}function L2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(i===1e9?new dt(t+1,0):new dt(t,i));return new Yn(a,ue.empty(),e)}function B2(n){return new Yn(n.readTime,n.key,Ml)}class Yn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yn(we.min(),ue.empty(),Ml)}static max(){return new Yn(we.max(),ue.empty(),Ml)}}function Q_(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==U2)throw n;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new F((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof F?t:F.resolve(t)}catch(t){return F.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):F.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):F.reject(t)}static resolve(e){return new F((t,i)=>{t(e)})}static reject(e){return new F((t,i)=>{i(e)})}static waitFor(e){return new F((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=F.resolve(!1);for(const i of e)t=t.next(a=>a?F.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new F((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;t(e[p]).next(_=>{c[p]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new F((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="SimpleDb";class vm{static open(e,t,i,a){try{return new vm(t,e.transaction(a,i))}catch(l){throw new Oc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new cn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Oc(e,t.error)):this.m.resolve()},this.transaction.onerror=i=>{const a=Y_(i.target.error);this.m.reject(new Oc(e,a))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(se(Gn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new bk(t)}}class Yr{static delete(e){return se(Gn,"Removing database:",e),Fa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!d2())return!1;if(Yr.v())return!0;const e=Ud(),t=Yr.C(e),i=0<t&&t<10,a=j2(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.O=i,Yr.C(Ud())===12.2&&It("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(se(Gn,"Opening database:",this.name),this.db=await new Promise((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Oc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new re(Y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new re(Y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Oc(e,c))},a.onupgradeneeded=l=>{se(Gn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.O.B(c,a.transaction,l.oldVersion,this.version).next(()=>{se(Gn,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.N(e);const d=vm.open(this.db,e,l?"readonly":"readwrite",i),m=a(d).next(p=>(d.S(),p)).catch(p=>(d.abort(p),F.reject(p))).toPromise();return m.catch(()=>{}),await d.p,m}catch(d){const m=d,p=m.name!=="FirebaseError"&&c<3;if(se(Gn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function j2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class vk{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Fa(this.q.delete())}}class Oc extends re{constructor(e,t){super(Y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ea(n){return n.name==="IndexedDbTransactionError"}class bk{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(se(Gn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(se(Gn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Fa(i)}add(e){return se(Gn,"ADD",this.store.name,e,e),Fa(this.store.add(e))}get(e){return Fa(this.store.get(e)).next(t=>(t===void 0&&(t=null),se(Gn,"GET",this.store.name,e,t),t))}delete(e){return se(Gn,"DELETE",this.store.name,e),Fa(this.store.delete(e))}count(){return se(Gn,"COUNT",this.store.name),Fa(this.store.count())}G(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new F((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}})}{const l=this.cursor(i),c=[];return this.j(l,(d,m)=>{c.push(m)}).next(()=>c)}}H(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new F((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}J(e,t){se(Gn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.j(a,(l,c,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.j(a,t)}X(e){const t=this.cursor({});return new F((i,a)=>{t.onerror=l=>{const c=Y_(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}j(e,t){const i=[];return new F((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new vk(d),p=t(d.primaryKey,d.value,m);if(p instanceof F){const _=p.catch(b=>(m.done(),F.reject(b)));i.push(_)}m.isDone?a():m.U===null?d.continue():d.continue(m.U)}}).next(()=>F.waitFor(i))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fa(n){return new F((e,t)=>{n.onsuccess=i=>{const a=i.target.result;e(a)},n.onerror=i=>{const a=Y_(i.target.error);t(a)}})}let m0=!1;function Y_(n){const e=Yr.C(Ud());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return m0||(m0=!0,setTimeout(()=>{throw i},0)),i}}return n}const Pc="IndexBackfiller";class Ek{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){se(Pc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();se(Pc,`Documents written: ${t}`)}catch(t){ea(t)?se(Pc,"Ignoring IndexedDB error during index backfill: ",t):await Js(t)}await this.te(6e4)})}}class Tk{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const i=new Set;let a=t,l=!0;return F.doWhile(()=>l===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(c!==null&&!i.has(c))return se(Pc,`Processing collection: ${c}`),this.ie(e,c,a).next(d=>{a-=d,i.add(c)});l=!1})).next(()=>t-a)}ie(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.se(a,l)).next(d=>(se(Pc,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>c.size)}))}se(e,t){let i=e;return t.changes.forEach((a,l)=>{const c=B2(l);Q_(c,i)>0&&(i=c)}),new Yn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Pn.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=-1;function _h(n){return n==null}function Kc(n){return n===0&&1/n==-1/0}function q2(n){return typeof n=="number"&&Number.isInteger(n)&&!Kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="";function pn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=g0(e)),e=Ak(n.get(t),e);return g0(e)}function Ak(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case qd:t+="";break;default:t+=l}}return t}function g0(n){return n+qd+""}function Kr(n){const e=n.length;if(ye(e>=2),e===2)return ye(n.charAt(0)===qd&&n.charAt(1)===""),Me.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=n.indexOf(qd,l);switch((c<0||c>t)&&de(),n.charAt(c+1)){case"":const d=n.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,c),a+="\0";break;case"":a+=n.substring(l,c+1);break;default:de()}l=c+2}return new Me(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="remoteDocuments",wh="owner",hl="owner",Qc="mutationQueues",Sk="userId",Ar="mutations",p0="batchId",Qa="userMutationsIndex",y0=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(n,e){return[n,pn(e)]}function F2(n,e,t){return[n,pn(e),t]}const Rk={},kl="documentMutations",Fd="remoteDocumentsV14",Ik=["prefixPath","collectionGroup","readTime","documentId"],gd="documentKeyIndex",Ck=["prefixPath","collectionGroup","documentId"],H2="collectionGroupIndex",xk=["collectionGroup","readTime","prefixPath","documentId"],Yc="remoteDocumentGlobal",Uy="remoteDocumentGlobalKey",Ll="targets",G2="queryTargetsIndex",Dk=["canonicalId","targetId"],Bl="targetDocuments",Vk=["targetId","path"],X_="documentTargetsIndex",Nk=["path","targetId"],Hd="targetGlobalKey",Za="targetGlobal",Xc="collectionParents",Ok=["collectionId","parent"],Ul="clientMetadata",Pk="clientId",bm="bundles",Mk="bundleId",Em="namedQueries",kk="name",W_="indexConfiguration",Lk="indexId",zy="collectionGroupIndex",Bk="collectionGroup",Gd="indexState",Uk=["indexId","uid"],$2="sequenceNumberIndex",zk=["uid","sequenceNumber"],$d="indexEntries",jk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K2="documentKeyIndex",qk=["indexId","uid","orderedDocumentKey"],Tm="documentOverlays",Fk=["userId","collectionPath","documentId"],jy="collectionPathOverlayIndex",Hk=["userId","collectionPath","largestBatchId"],Q2="collectionGroupOverlayIndex",Gk=["userId","collectionGroup","largestBatchId"],Z_="globals",$k="name",Y2=[Qc,Ar,kl,qa,Ll,wh,Za,Bl,Ul,Yc,Xc,bm,Em],Kk=[...Y2,Tm],X2=[Qc,Ar,kl,Fd,Ll,wh,Za,Bl,Ul,Yc,Xc,bm,Em,Tm],W2=X2,J_=[...W2,W_,Gd,$d],Qk=J_,Yk=[...J_,Z_];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends z2{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function Gt(n,e){const t=he(n);return Yr.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Z2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new ln(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,t,i,a,l){return this}insert(e,t,i){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new et(this.comparator);return t.data=e,t}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fl(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new et(ct.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new J2("Invalid base64 string: "+l):l}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(n){if(ye(!!n),typeof n=="string"){let e=0;const t=Wk.exec(n);if(ye(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bi(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="server_timestamp",tR="__type__",nR="__previous_value__",rR="__local_write_time__";function Am(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[tR])===null||t===void 0?void 0:t.stringValue)===eR}function Sm(n){const e=n.mapValue.fields[nR];return Am(e)?Sm(e):e}function Wc(n){const e=Li(n.mapValue.fields[rR].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t,i,a,l,c,d,m,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p}}const Kd="(default)";class Gs{constructor(e,t){this.projectId=e,this.database=t||Kd}static empty(){return new Gs("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Gs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="__type__",iR="__max__",Ps={mapValue:{fields:{__type__:{stringValue:iR}}}},tw="__vector__",zl="value",pd={nullValue:"NULL_VALUE"};function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:sR(n)?9007199254740991:Rm(n)?10:11:de()}function Jr(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wc(n).isEqual(Wc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Li(a.timestampValue),d=Li(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Bi(a.bytesValue).isEqual(Bi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return ut(a.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(a.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return ut(a.integerValue)===ut(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=ut(a.doubleValue),d=ut(l.doubleValue);return c===d?Kc(c)===Kc(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Pl(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(_0(c)!==_0(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Jr(c[m],d[m])))return!1;return!0}(n,e);default:return de()}}function Zc(n,e){return(n.values||[]).find(t=>Jr(t,e))!==void 0}function Ks(n,e){if(n===e)return 0;const t=$s(n),i=$s(e);if(t!==i)return Re(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=ut(l.integerValue||l.doubleValue),m=ut(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return v0(n.timestampValue,e.timestampValue);case 4:return v0(Wc(n),Wc(e));case 5:return Re(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Bi(l),m=Bi(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const _=Re(d[p],m[p]);if(_!==0)return _}return Re(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Re(ut(l.latitude),ut(c.latitude));return d!==0?d:Re(ut(l.longitude),ut(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return b0(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,p,_;const b=l.fields||{},E=c.fields||{},S=(d=b[zl])===null||d===void 0?void 0:d.arrayValue,D=(m=E[zl])===null||m===void 0?void 0:m.arrayValue,z=Re(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:b0(S,D)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ps.mapValue&&c===Ps.mapValue)return 0;if(l===Ps.mapValue)return 1;if(c===Ps.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},_=Object.keys(p);m.sort(),_.sort();for(let b=0;b<m.length&&b<_.length;++b){const E=Re(m[b],_[b]);if(E!==0)return E;const S=Ks(d[m[b]],p[_[b]]);if(S!==0)return S}return Re(m.length,_.length)}(n.mapValue,e.mapValue);default:throw de()}}function v0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);const t=Li(n),i=Li(e),a=Re(t.seconds,i.seconds);return a!==0?a:Re(t.nanos,i.nanos)}function b0(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Ks(t[a],i[a]);if(l)return l}return Re(t.length,i.length)}function jl(n){return Fy(n)}function Fy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Li(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ue.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Fy(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Fy(t.fields[c])}`;return a+"}"}(n.mapValue):de()}function yd(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sm(n);return e?16+yd(e):16;case 5:return 2*n.stringValue.length;case 6:return Bi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+yd(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return ta(i.fields,(l,c)=>{a+=l.length+yd(c)}),a}(n.mapValue);default:throw de()}}function io(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hy(n){return!!n&&"integerValue"in n}function Jc(n){return!!n&&"arrayValue"in n}function E0(n){return!!n&&"nullValue"in n}function T0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _d(n){return!!n&&"mapValue"in n}function Rm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===tw}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ta(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}const aR={mapValue:{fields:{[ew]:{stringValue:tw},[zl]:{arrayValue:{}}}}};function Jk(n){return"nullValue"in n?pd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?io(Gs.empty(),ue.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Rm(n)?aR:{mapValue:{}}:de()}function eL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?io(Gs.empty(),ue.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?aR:"mapValue"in n?Rm(n)?{mapValue:{}}:Ps:de()}function A0(n,e){const t=Ks(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function S0(n,e){const t=Ks(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_d(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=ct.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Mc(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());_d(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];_d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ta(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new un(Mc(this.value))}}function oR(n){const e=[];return ta(n.fields,(t,i)=>{const a=new ct([t]);if(_d(i)){const l=oR(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new lt(e,0,we.min(),we.min(),we.min(),un.empty(),0)}static newFoundDocument(e,t,i,a){return new lt(e,1,t,we.min(),i,a,0)}static newNoDocument(e,t){return new lt(e,2,t,we.min(),we.min(),un.empty(),0)}static newUnknownDocument(e,t){return new lt(e,3,t,we.min(),we.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.position=e,this.inclusive=t}}function R0(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=ue.comparator(ue.fromName(c.referenceValue),t.key):i=Ks(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function I0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function tL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class ke extends lR{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new nL(e,t,i):t==="array-contains"?new sL(e,i):t==="in"?new mR(e,i):t==="not-in"?new aL(e,i):t==="array-contains-any"?new oL(e,i):new ke(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new rL(e,i):new iL(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ks(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(Ks(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends lR{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Je(e,t)}matches(e){return ql(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ql(n){return n.op==="and"}function Gy(n){return n.op==="or"}function nw(n){return uR(n)&&ql(n)}function uR(n){for(const e of n.filters)if(e instanceof Je)return!1;return!0}function $y(n){if(n instanceof ke)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(nw(n))return n.filters.map(e=>$y(e)).join(",");{const e=n.filters.map(t=>$y(t)).join(",");return`${n.op}(${e})`}}function cR(n,e){return n instanceof ke?function(i,a){return a instanceof ke&&i.op===a.op&&i.field.isEqual(a.field)&&Jr(i.value,a.value)}(n,e):n instanceof Je?function(i,a){return a instanceof Je&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&cR(c,a.filters[d]),!0):!1}(n,e):void de()}function hR(n,e){const t=n.filters.concat(e);return Je.create(t,n.op)}function fR(n){return n instanceof ke?function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`}(n):n instanceof Je?function(t){return t.op.toString()+" {"+t.getFilters().map(fR).join(" ,")+"}"}(n):"Filter"}class nL extends ke{constructor(e,t,i){super(e,t,i),this.key=ue.fromName(i.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class rL extends ke{constructor(e,t){super(e,"in",t),this.keys=dR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iL extends ke{constructor(e,t){super(e,"not-in",t),this.keys=dR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ue.fromName(i.referenceValue))}class sL extends ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jc(t)&&Zc(t.arrayValue,this.value)}}class mR extends ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zc(this.value.arrayValue,t)}}class aL extends ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Zc(this.value.arrayValue,t)}}class oL extends ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Zc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function Ky(n,e=null,t=[],i=[],a=null,l=null,c=null){return new lL(n,e,t,i,a,l,c)}function so(n){const e=he(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>$y(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>jl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>jl(i)).join(",")),e.le=t}return e.le}function vh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!I0(n.startAt,e.startAt)&&I0(n.endAt,e.endAt)}function Qd(n){return ue.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Yd(n,e){return n.filters.filter(t=>t instanceof ke&&t.field.isEqual(e))}function C0(n,e,t){let i=pd,a=!0;for(const l of Yd(n,e)){let c=pd,d=!0;switch(l.op){case"<":case"<=":c=Jk(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=pd}A0({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];A0({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function x0(n,e,t){let i=Ps,a=!0;for(const l of Yd(n,e)){let c=Ps,d=!0;switch(l.op){case">=":case">":c=eL(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=Ps}S0({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];S0({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gR(n,e,t,i,a,l,c,d){return new zi(n,e,t,i,a,l,c,d)}function ou(n){return new zi(n)}function D0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function rw(n){return n.collectionGroup!==null}function Sl(n){const e=he(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new et(ct.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new eh(l,i))}),t.has(ct.keyField().canonicalString())||e.he.push(new eh(ct.keyField(),i))}return e.he}function In(n){const e=he(n);return e.Pe||(e.Pe=uL(e,Sl(n))),e.Pe}function uL(n,e){if(n.limitType==="F")return Ky(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new eh(a.field,l)});const t=n.endAt?new Qs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qs(n.startAt.position,n.startAt.inclusive):null;return Ky(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Qy(n,e){const t=n.filters.concat([e]);return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xd(n,e,t){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bh(n,e){return vh(In(n),In(e))&&n.limitType===e.limitType}function pR(n){return`${so(In(n))}|lt:${n.limitType}`}function wl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>fR(a)).join(", ")}]`),_h(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>jl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>jl(a)).join(",")),`Target(${i})`}(In(n))}; limitType=${n.limitType})`}function Eh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Sl(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const p=R0(c,d,m);return c.inclusive?p<=0:p<0}(i.startAt,Sl(i),a)||i.endAt&&!function(c,d,m){const p=R0(c,d,m);return c.inclusive?p>=0:p>0}(i.endAt,Sl(i),a))}(n,e)}function yR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _R(n){return(e,t)=>{let i=!1;for(const a of Sl(n)){const l=cL(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function cL(n,e,t){const i=n.field.isKeyField()?ue.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?Ks(m,p):de()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Z2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new ot(ue.comparator);function kn(){return hL}const wR=new ot(ue.comparator);function Dc(...n){let e=wR;for(const t of n)e=e.insert(t.key,t);return e}function vR(n){let e=wR;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qr(){return kc()}function bR(){return kc()}function kc(){return new ji(n=>n.toString(),(n,e)=>n.isEqual(e))}const fL=new ot(ue.comparator),dL=new et(ue.comparator);function Ce(...n){let e=dL;for(const t of n)e=e.add(t);return e}const mL=new et(Re);function iw(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function ER(n){return{integerValue:""+n}}function TR(n,e){return q2(e)?ER(e):sw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this._=void 0}}function gL(n,e,t){return n instanceof Fl?function(a,l){const c={fields:{[tR]:{stringValue:eR},[rR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Am(l)&&(l=Sm(l)),l&&(c.fields[nR]=l),{mapValue:c}}(t,e):n instanceof ao?SR(n,e):n instanceof oo?RR(n,e):function(a,l){const c=AR(a,l),d=V0(c)+V0(a.Ie);return Hy(c)&&Hy(a.Ie)?ER(d):sw(a.serializer,d)}(n,e)}function pL(n,e,t){return n instanceof ao?SR(n,e):n instanceof oo?RR(n,e):t}function AR(n,e){return n instanceof Hl?function(i){return Hy(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Fl extends Im{}class ao extends Im{constructor(e){super(),this.elements=e}}function SR(n,e){const t=IR(e);for(const i of n.elements)t.some(a=>Jr(a,i))||t.push(i);return{arrayValue:{values:t}}}class oo extends Im{constructor(e){super(),this.elements=e}}function RR(n,e){let t=IR(e);for(const i of n.elements)t=t.filter(a=>!Jr(a,i));return{arrayValue:{values:t}}}class Hl extends Im{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function V0(n){return ut(n.integerValue||n.doubleValue)}function IR(n){return Jc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t){this.field=e,this.transform=t}}function yL(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof ao&&a instanceof ao||i instanceof oo&&a instanceof oo?Pl(i.elements,a.elements,Jr):i instanceof Hl&&a instanceof Hl?Jr(i.Ie,a.Ie):i instanceof Fl&&a instanceof Fl}(n.transform,e.transform)}class _L{constructor(e,t){this.version=e,this.transformResults=t}}class ht{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cm{}function CR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uu(n.key,ht.none()):new lu(n.key,n.data,ht.none());{const t=n.data,i=un.empty();let a=new et(ct.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new qi(n.key,i,new Mn(a.toArray()),ht.none())}}function wL(n,e,t){n instanceof lu?function(a,l,c){const d=a.value.clone(),m=O0(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(a,l,c){if(!wd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=O0(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(xR(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Lc(n,e,t,i){return n instanceof lu?function(l,c,d,m){if(!wd(l.precondition,c))return d;const p=l.value.clone(),_=P0(l.fieldTransforms,m,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof qi?function(l,c,d,m){if(!wd(l.precondition,c))return d;const p=P0(l.fieldTransforms,m,c),_=c.data;return _.setAll(xR(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,d){return wd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function vL(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=AR(i.transform,a||null);l!=null&&(t===null&&(t=un.empty()),t.set(i.field,l))}return t||null}function N0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Pl(i,a,(l,c)=>yL(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends Cm{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qi extends Cm{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function O0(n,e,t){const i=new Map;ye(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,pL(c,d,t[a]))}return i}function P0(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,gL(l,c,e))}return i}class uu extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends Cm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&wL(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Lc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bR();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=CR(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Pl(this.mutations,e.mutations,(t,i)=>N0(t,i))&&Pl(this.baseMutations,e.baseMutations,(t,i)=>N0(t,i))}}class lw{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ye(e.mutations.length===i.length);let a=function(){return fL}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new lw(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,qe;function DR(n){switch(n){case Y.OK:return de();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return de()}}function VR(n){if(n===void 0)return It("GRPC error has no .code"),Y.UNKNOWN;switch(n){case kt.OK:return Y.OK;case kt.CANCELLED:return Y.CANCELLED;case kt.UNKNOWN:return Y.UNKNOWN;case kt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case kt.INTERNAL:return Y.INTERNAL;case kt.UNAVAILABLE:return Y.UNAVAILABLE;case kt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case kt.NOT_FOUND:return Y.NOT_FOUND;case kt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case kt.ABORTED:return Y.ABORTED;case kt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case kt.DATA_LOSS:return Y.DATA_LOSS;default:return de()}}(qe=kt||(kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new Ls([4294967295,4294967295],0);function M0(n){const e=NR().encode(n),t=new C2;return t.update(e),new Uint8Array(t.digest())}function k0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([t,i],0),new Ls([a,l],0)]}class cw{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(i<0)throw new Vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ls.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(Ls.fromNumber(i)));return a.compare(EL)===1&&(a=new Ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=M0(e),[i,a]=k0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cw(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=M0(e),[i,a]=k0(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ah(we.min(),a,new ot(Re),kn(),Ce())}}class Sh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sh(i,t,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class OR{constructor(e,t){this.targetId=e,this.ge=t}}class PR{constructor(e,t,i=Tt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class L0{constructor(){this.pe=0,this.ye=B0(),this.we=Tt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ce(),t=Ce(),i=Ce();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:de()}}),new Sh(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=B0()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class TL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=kn(),this.$e=sd(),this.Ke=sd(),this.Ue=new ot(Re)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:de()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Qd(l))if(i===0){const c=new ue(l.path);this.ze(t,c,lt.newNoDocument(c,we.min()))}else ye(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Bi(i).toUint8Array()}catch(m){if(m instanceof J2)return Zr("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new cw(c,a,l)}catch(m){return Zr(m instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Qd(d.target)){const m=new ue(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,lt.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Ce();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const p=this.Xe(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Ah(e,t,this.Ue,this.Qe,i);return this.Qe=kn(),this.$e=sd(),this.Ke=sd(),this.Ue=new ot(Re),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new L0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new et(Re),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new et(Re),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new L0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sd(){return new ot(ue.comparator)}function B0(){return new ot(ue.comparator)}const AL={asc:"ASCENDING",desc:"DESCENDING"},SL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RL={and:"AND",or:"OR"};class IL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yy(n,e){return n.useProto3Json||_h(e)?e:{value:e}}function Gl(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CL(n,e){return Gl(n,e.toTimestamp())}function Ct(n){return ye(!!n),we.fromTimestamp(function(t){const i=Li(t);return new dt(i.seconds,i.nanos)}(n))}function hw(n,e){return Xy(n,e).canonicalString()}function Xy(n,e){const t=function(a){return new Me(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kR(n){const e=Me.fromString(n);return ye($R(e)),e}function th(n,e){return hw(n.databaseId,e.path)}function Xr(n,e){const t=kR(e);if(t.get(1)!==n.databaseId.projectId)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ue(UR(t))}function LR(n,e){return hw(n.databaseId,e)}function BR(n){const e=kR(n);return e.length===4?Me.emptyPath():UR(e)}function Wy(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UR(n){return ye(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function U0(n,e,t){return{name:th(n,e),fields:t.value.mapValue.fields}}function zR(n,e,t){const i=Xr(n,e.name),a=Ct(e.updateTime),l=e.createTime?Ct(e.createTime):we.min(),c=new un({mapValue:{fields:e.fields}}),d=lt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function xL(n,e){return"found"in e?function(i,a){ye(!!a.found),a.found.name,a.found.updateTime;const l=Xr(i,a.found.name),c=Ct(a.found.updateTime),d=a.found.createTime?Ct(a.found.createTime):we.min(),m=new un({mapValue:{fields:a.found.fields}});return lt.newFoundDocument(l,c,d,m)}(n,e):"missing"in e?function(i,a){ye(!!a.missing),ye(!!a.readTime);const l=Xr(i,a.missing),c=Ct(a.readTime);return lt.newNoDocument(l,c)}(n,e):de()}function DL(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?(ye(_===void 0||typeof _=="string"),Tt.fromBase64String(_||"")):(ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Tt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const _=p.code===void 0?Y.UNKNOWN:VR(p.code);return new re(_,p.message||"")}(c);t=new PR(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Xr(n,i.document.name),l=Ct(i.document.updateTime),c=i.document.createTime?Ct(i.document.createTime):we.min(),d=new un({mapValue:{fields:i.document.fields}}),m=lt.newFoundDocument(a,l,c,d),p=i.targetIds||[],_=i.removedTargetIds||[];t=new vd(p,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Xr(n,i.document),l=i.readTime?Ct(i.readTime):we.min(),c=lt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new vd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Xr(n,i.document),l=i.removedTargetIds||[];t=new vd([],l,a,null)}else{if(!("filter"in e))return de();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new bL(a,l),d=i.targetId;t=new OR(d,c)}}return t}function nh(n,e){let t;if(e instanceof lu)t={update:U0(n,e.key,e.value)};else if(e instanceof uu)t={delete:th(n,e.key)};else if(e instanceof qi)t={update:U0(n,e.key,e.data),updateMask:kL(e.fieldMask)};else{if(!(e instanceof aw))return de();t={verify:th(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof Fl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ao)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof oo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Hl)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw de()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:CL(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:de()}(n,e.precondition)),t}function Zy(n,e){const t=e.currentDocument?function(l){return l.updateTime!==void 0?ht.updateTime(Ct(l.updateTime)):l.exists!==void 0?ht.exists(l.exists):ht.none()}(e.currentDocument):ht.none(),i=e.updateTransforms?e.updateTransforms.map(a=>function(c,d){let m=null;if("setToServerValue"in d)ye(d.setToServerValue==="REQUEST_TIME"),m=new Fl;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new ao(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new oo(_)}else"increment"in d?m=new Hl(c,d.increment):de();const p=ct.fromServerFormat(d.fieldPath);return new Th(p,m)}(n,a)):[];if(e.update){e.update.name;const a=Xr(n,e.update.name),l=new un({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=function(m){const p=m.fieldPaths||[];return new Mn(p.map(_=>ct.fromServerFormat(_)))}(e.updateMask);return new qi(a,l,c,t,i)}return new lu(a,l,t,i)}if(e.delete){const a=Xr(n,e.delete);return new uu(a,t)}if(e.verify){const a=Xr(n,e.verify);return new aw(a,t)}return de()}function VL(n,e){return n&&n.length>0?(ye(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Ct(a.updateTime):Ct(l);return c.isEqual(we.min())&&(c=Ct(l)),new _L(c,a.transformResults||[])}(t,e))):[]}function jR(n,e){return{documents:[LR(n,e.path)]}}function qR(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=LR(n,a);const l=function(p){if(p.length!==0)return GR(Je.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(_=>function(E){return{field:vl(E.field),direction:OL(E.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Yy(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:a}}function FR(n){let e=BR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ye(i===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(b){const E=HR(b);return E instanceof Je&&nw(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(E=>function(D){return new eh(bl(D.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(b){let E;return E=typeof b=="object"?b.value:b,_h(E)?null:E}(t.limit));let m=null;t.startAt&&(m=function(b){const E=!!b.before,S=b.values||[];return new Qs(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const E=!b.before,S=b.values||[];return new Qs(S,E)}(t.endAt)),gR(e,a,c,l,d,"F",m,p)}function NL(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=bl(t.unaryFilter.field);return ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=bl(t.unaryFilter.field);return ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bl(t.unaryFilter.field);return ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bl(t.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(n):n.fieldFilter!==void 0?function(t){return ke.create(bl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Je.create(t.compositeFilter.filters.map(i=>HR(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(t.compositeFilter.op))}(n):de()}function OL(n){return AL[n]}function PL(n){return SL[n]}function ML(n){return RL[n]}function vl(n){return{fieldPath:n.canonicalString()}}function bl(n){return ct.fromServerFormat(n.fieldPath)}function GR(n){return n instanceof ke?function(t){if(t.op==="=="){if(T0(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NAN"}};if(E0(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(T0(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NAN"}};if(E0(t.value))return{unaryFilter:{field:vl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(t.field),op:PL(t.op),value:t.value}}}(n):n instanceof Je?function(t){const i=t.getFilters().map(a=>GR(a));return i.length===1?i[0]:{compositeFilter:{op:ML(t.op),filters:i}}}(n):de()}function kL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i,a,l=we.min(),c=we.min(),d=Tt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.Tt=e}}function LL(n,e){let t;if(e.document)t=zR(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ue.fromSegments(e.noDocument.path),a=uo(e.noDocument.readTime);t=lt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de();{const i=ue.fromSegments(e.unknownDocument.path),a=uo(e.unknownDocument.version);t=lt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime(function(a){const l=new dt(a[0],a[1]);return we.fromTimestamp(l)}(e.readTime)),t}function z0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Wd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(l,c){return{name:th(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Gl(l,c.version.toTimestamp()),createTime:Gl(l,c.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:lo(e.version)};else{if(!e.isUnknownDocument())return de();i.unknownDocument={path:t.path.toArray(),version:lo(e.version)}}return i}function Wd(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function lo(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uo(n){const e=new dt(n.seconds,n.nanoseconds);return we.fromTimestamp(e)}function Ha(n,e){const t=(e.baseMutations||[]).map(l=>Zy(n.Tt,l));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map(l=>Zy(n.Tt,l)),a=dt.fromMillis(e.localWriteTimeMs);return new ow(e.batchId,a,t,i)}function Nc(n){const e=uo(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?uo(n.lastLimboFreeSnapshotVersion):we.min();let i;return i=function(l){return l.documents!==void 0}(n.query)?function(l){return ye(l.documents.length===1),In(ou(BR(l.documents[0])))}(n.query):function(l){return In(FR(l))}(n.query),new Di(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tt.fromBase64String(n.resumeToken))}function QR(n,e){const t=lo(e.snapshotVersion),i=lo(e.lastLimboFreeSnapshotVersion);let a;a=Qd(e.target)?jR(n.Tt,e.target):qR(n.Tt,e.target).ht;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:so(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function fw(n){const e=FR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xd(e,e.limit,"L"):e}function my(n,e){return new uw(e.largestBatchId,Zy(n.Tt,e.overlayMutation))}function j0(n,e){const t=e.path.lastSegment();return[n,pn(e.path.popLast()),t]}function q0(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:lo(i.readTime),documentKey:pn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{getBundleMetadata(e,t){return F0(e).get(t).next(i=>{if(i)return function(l){return{id:l.bundleId,createTime:uo(l.createTime),version:l.version}}(i)})}saveBundleMetadata(e,t){return F0(e).put(function(a){return{bundleId:a.id,createTime:lo(Ct(a.createTime)),version:a.version}}(t))}getNamedQuery(e,t){return H0(e).get(t).next(i=>{if(i)return function(l){return{name:l.name,query:fw(l.bundledQuery),readTime:uo(l.readTime)}}(i)})}saveNamedQuery(e,t){return H0(e).put(function(a){return{name:a.name,readTime:lo(Ct(a.readTime)),bundledQuery:a.bundledQuery}}(t))}}function F0(n){return Gt(n,bm)}function H0(n){return Gt(n,Em)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const i=t.uid||"";return new xm(e,i)}getOverlay(e,t){return Tc(e).get(j0(this.userId,t)).next(i=>i?my(this.serializer,i):null)}getOverlays(e,t){const i=Qr();return F.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){const a=[];return i.forEach((l,c)=>{const d=new uw(t,c);a.push(this.Et(e,d))}),F.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach(c=>a.add(pn(c.getCollectionPath())));const l=[];return a.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(Tc(e).J(jy,d))}),F.waitFor(l)}getOverlaysForCollection(e,t,i){const a=Qr(),l=pn(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Tc(e).G(jy,c).next(d=>{for(const m of d){const p=my(this.serializer,m);a.set(p.getKey(),p)}return a})}getOverlaysForCollectionGroup(e,t,i,a){const l=Qr();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tc(e).Z({index:Q2,range:d},(m,p,_)=>{const b=my(this.serializer,p);l.size()<a||b.largestBatchId===c?(l.set(b.getKey(),b),c=b.largestBatchId):_.done()}).next(()=>l)}Et(e,t){return Tc(e).put(function(a,l,c){const[d,m,p]=j0(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:nh(a.Tt,c.mutation)}}(this.serializer,this.userId,t))}}function Tc(n){return Gt(n,Tm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{dt(e){return Gt(e,Z_)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const i=t==null?void 0:t.value;return i?Tt.fromUint8Array(i):Tt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(ut(e.integerValue));else if("doubleValue"in e){const i=ut(e.doubleValue);isNaN(i)?this.ft(t,13):(this.ft(t,15),Kc(i)?t.gt(0):t.gt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.ft(t,20),typeof i=="string"&&(i=Li(i)),t.yt(`${i.seconds||""}`),t.gt(i.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(Bi(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ft(t,45),t.gt(i.latitude||0),t.gt(i.longitude||0)}else"mapValue"in e?sR(e)?this.ft(t,Number.MAX_SAFE_INTEGER):Rm(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):de()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const i=e.fields||{};this.ft(t,55);for(const a of Object.keys(i))this.wt(a,t),this.Rt(i[a],t)}vt(e,t){var i,a;const l=e.fields||{};this.ft(t,53);const c=zl,d=((a=(i=l[c].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.length)||0;this.ft(t,15),t.gt(ut(d)),this.wt(c,t),this.Rt(l[c],t)}Ft(e,t){const i=e.values||[];this.ft(t,50);for(const a of i)this.Rt(a,t)}Dt(e,t){this.ft(t,37),ue.fromName(e).path.forEach(i=>{this.ft(t,60),this.Mt(i,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}}Ga.xt=new Ga;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=255;function zL(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function G0(n){const e=64-function(i){let a=0;for(let l=0;l<8;++l){const c=zL(255&i[l]);if(a+=c,c!==8)break}return a}(n);return Math.ceil(e/8)}class jL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Nt(i.value),i=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.kt(i.value),i=t.next();this.qt()}Qt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Nt(i);else if(i<2048)this.Nt(960|i>>>6),this.Nt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i);else{const a=t.codePointAt(0);this.Nt(240|a>>>18),this.Nt(128|63&a>>>12),this.Nt(128|63&a>>>6),this.Nt(128|63&a)}}this.Bt()}$t(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.kt(i);else if(i<2048)this.kt(960|i>>>6),this.kt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i);else{const a=t.codePointAt(0);this.kt(240|a>>>18),this.kt(128|63&a>>>12),this.kt(128|63&a>>>6),this.kt(128|63&a)}}this.qt()}Kt(e){const t=this.Ut(e),i=G0(t);this.Wt(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Gt(e){const t=this.Ut(e),i=G0(t);this.Wt(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}zt(){this.jt(dl),this.jt(255)}Ht(){this.Jt(dl),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)}(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===dl?(this.jt(dl),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===dl?(this.Jt(dl),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class qL{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class FL{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Ac{constructor(){this.Zt=new jL,this.Xt=new qL(this.Zt),this.en=new FL(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t,i,a){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=a}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new $a(this.indexId,this.documentKey,this.arrayValue,i)}}function Is(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=$0(n.arrayValue,e.arrayValue),t!==0?t:(t=$0(n.directionalValue,e.directionalValue),t!==0?t:ue.comparator(n.documentKey,e.documentKey)))}function $0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.rn=new et((t,i)=>ct.comparator(t.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const i=t;i.isInequality()?this.rn=this.rn.add(i):this._n.push(i)}}get an(){return this.rn.size>1}un(e){if(ye(e.collectionGroup===this.collectionId),this.an)return!1;const t=By(e);if(t!==void 0&&!this.cn(t))return!1;const i=ja(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.cn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.rn.size>0){const d=this.rn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=i[l];if(!this.ln(d,m)||!this.hn(this.sn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.sn.length||!this.hn(this.sn[c++],d))return!1}return!0}Pn(){if(this.an)return null;let e=new et(ct.comparator);const t=[];for(const i of this._n)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new dd(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new dd(i.field,0))}for(const i of this.sn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new dd(i.field,i.dir==="asc"?0:1)));return new jd(jd.UNKNOWN_ID,this.collectionId,t,$c.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){var e,t;if(ye(n instanceof ke||n instanceof Je),n instanceof ke){if(n instanceof mR){const a=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(l=>ke.create(n.field,"==",l)))||[];return Je.create(a,"or")}return n}const i=n.filters.map(a=>YR(a));return Je.create(i,n.op)}function HL(n){if(n.getFilters().length===0)return[];const e=t_(YR(n));return ye(XR(e)),Jy(e)||e_(e)?[e]:e.getFilters()}function Jy(n){return n instanceof ke}function e_(n){return n instanceof Je&&nw(n)}function XR(n){return Jy(n)||e_(n)||function(t){if(t instanceof Je&&Gy(t)){for(const i of t.getFilters())if(!Jy(i)&&!e_(i))return!1;return!0}return!1}(n)}function t_(n){if(ye(n instanceof ke||n instanceof Je),n instanceof ke)return n;if(n.filters.length===1)return t_(n.filters[0]);const e=n.filters.map(i=>t_(i));let t=Je.create(e,n.op);return t=Zd(t),XR(t)?t:(ye(t instanceof Je),ye(ql(t)),ye(t.filters.length>1),t.filters.reduce((i,a)=>dw(i,a)))}function dw(n,e){let t;return ye(n instanceof ke||n instanceof Je),ye(e instanceof ke||e instanceof Je),t=n instanceof ke?e instanceof ke?function(a,l){return Je.create([a,l],"and")}(n,e):Q0(n,e):e instanceof ke?Q0(e,n):function(a,l){if(ye(a.filters.length>0&&l.filters.length>0),ql(a)&&ql(l))return hR(a,l.getFilters());const c=Gy(a)?a:l,d=Gy(a)?l:a,m=c.filters.map(p=>dw(p,d));return Je.create(m,"or")}(n,e),Zd(t)}function Q0(n,e){if(ql(e))return hR(e,n.getFilters());{const t=e.filters.map(i=>dw(n,i));return Je.create(t,"or")}}function Zd(n){if(ye(n instanceof ke||n instanceof Je),n instanceof ke)return n;const e=n.getFilters();if(e.length===1)return Zd(e[0]);if(uR(n))return n;const t=e.map(a=>Zd(a)),i=[];return t.forEach(a=>{a instanceof ke?i.push(a):a instanceof Je&&(a.op===n.op?i.push(...a.filters):i.push(a))}),i.length===1?i[0]:Je.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.Tn=new mw}addToCollectionParentIndex(e,t){return this.Tn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Yn.min())}updateCollectionGroup(e,t,i){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}}class mw{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new et(Me.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new et(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="IndexedDbIndexManager",ad=new Uint8Array(0);class $L{constructor(e,t){this.databaseId=t,this.In=new mw,this.En=new ji(i=>so(i),(i,a)=>vh(i,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const l={collectionId:i,parent:pn(a)};return X0(e).put(l)}return F.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[k2(t),""],!1,!0);return X0(e).G(a).next(l=>{for(const c of l){if(c.collectionId!==t)break;i.push(Kr(c.parent))}return i})}addFieldIndex(e,t){const i=Sc(e),a=function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])}}(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=gl(e);return l.next(d=>{c.put(q0(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const i=Sc(e),a=gl(e),l=ml(e);return i.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Sc(e),i=ml(e),a=gl(e);return t.J().next(()=>i.J()).next(()=>a.J())}createTargetIndexes(e,t){return F.forEach(this.dn(t),i=>this.getIndexType(e,i).next(a=>{if(a===0||a===1){const l=new K0(i).Pn();if(l!=null)return this.addFieldIndex(e,l)}}))}getDocumentsMatchingTarget(e,t){const i=ml(e);let a=!0;const l=new Map;return F.forEach(this.dn(t),c=>this.An(e,c).next(d=>{a&&(a=!!d),l.set(c,d)})).next(()=>{if(a){let c=Ce();const d=[];return F.forEach(l,(m,p)=>{se(Y0,`Using index ${function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map(ae=>`${ae.fieldPath}:${ae.kind}`).join(",")}`}(m)} to execute ${so(t)}`);const _=function($,ae){const ne=By(ae);if(ne===void 0)return null;for(const ce of Yd($,ne.fieldPath))switch(ce.op){case"array-contains-any":return ce.value.arrayValue.values||[];case"array-contains":return[ce.value]}return null}(p,m),b=function($,ae){const ne=new Map;for(const ce of ja(ae))for(const N of Yd($,ce.fieldPath))switch(N.op){case"==":case"in":ne.set(ce.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return ne.set(ce.fieldPath.canonicalString(),N.value),Array.from(ne.values())}return null}(p,m),E=function($,ae){const ne=[];let ce=!0;for(const N of ja(ae)){const I=N.kind===0?C0($,N.fieldPath,$.startAt):x0($,N.fieldPath,$.startAt);ne.push(I.value),ce&&(ce=I.inclusive)}return new Qs(ne,ce)}(p,m),S=function($,ae){const ne=[];let ce=!0;for(const N of ja(ae)){const I=N.kind===0?x0($,N.fieldPath,$.endAt):C0($,N.fieldPath,$.endAt);ne.push(I.value),ce&&(ce=I.inclusive)}return new Qs(ne,ce)}(p,m),D=this.Rn(m,p,E),z=this.Rn(m,p,S),O=this.Vn(m,p,b),H=this.mn(m.indexId,_,D,E.inclusive,z,S.inclusive,O);return F.forEach(H,Z=>i.H(Z,t.limit).next($=>{$.forEach(ae=>{const ne=ue.fromSegments(ae.documentKey);c.has(ne)||(c=c.add(ne),d.push(ne))})}))}).next(()=>d)}return F.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=HL(Je.create(e.filters,"and")).map(i=>Ky(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,i,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),p=m/(t!=null?t.length:1),_=[];for(let b=0;b<m;++b){const E=t?this.fn(t[b/p]):ad,S=this.gn(e,E,i[b%p],a),D=this.pn(e,E,l[b%p],c),z=d.map(O=>this.gn(e,E,O,!0));_.push(...this.createRange(S,D,z))}return _}gn(e,t,i,a){const l=new $a(e,ue.empty(),t,i);return a?l:l.nn()}pn(e,t,i,a){const l=new $a(e,ue.empty(),t,i);return a?l.nn():l}An(e,t){const i=new K0(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(l=>{let c=null;for(const d of l)i.un(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;const a=this.dn(t);return F.forEach(a,l=>this.An(e,l).next(c=>{c?i!==0&&c.fields.length<function(m){let p=new et(ct.comparator),_=!1;for(const b of m.filters)for(const E of b.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?_=!0:p=p.add(E.field));for(const b of m.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(_?1:0)}(l)&&(i=1):i=0})).next(()=>function(c){return c.limit!==null}(t)&&a.length>1&&i===2?1:i)}yn(e,t){const i=new Ac;for(const a of ja(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.tn(a.kind);Ga.xt.At(l,c)}return i.Yt()}fn(e){const t=new Ac;return Ga.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const i=new Ac;return Ga.xt.At(io(this.databaseId,t),i.tn(function(l){const c=ja(l);return c.length===0?0:c[c.length-1].kind}(e))),i.Yt()}Vn(e,t,i){if(i===null)return[];let a=[];a.push(new Ac);let l=0;for(const c of ja(e)){const d=i[l++];for(const m of a)if(this.Sn(t,c.fieldPath)&&Jc(d))a=this.bn(a,c,d);else{const p=m.tn(c.kind);Ga.xt.At(d,p)}}return this.Dn(a)}Rn(e,t,i){return this.Vn(e,t,i.position)}Dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Yt();return t}bn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const m=new Ac;m.seed(d.Yt()),Ga.xt.At(c,m.tn(t.kind)),l.push(m)}return l}Sn(e,t){return!!e.filters.find(i=>i instanceof ke&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,t){const i=Sc(e),a=gl(e);return(t?i.G(zy,IDBKeyRange.bound(t,t)):i.G()).next(l=>{const c=[];return F.forEach(l,d=>a.get([d.indexId,this.uid]).next(m=>{c.push(function(_,b){const E=b?new $c(b.sequenceNumber,new Yn(uo(b.readTime),new ue(Kr(b.documentKey)),b.largestBatchId)):$c.empty(),S=_.fields.map(([D,z])=>new dd(ct.fromServerFormat(D),z));return new jd(_.indexId,_.collectionGroup,S,E)}(d,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Re(i.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const a=Sc(e),l=gl(e);return this.vn(e).next(c=>a.G(zy,IDBKeyRange.bound(t,t)).next(d=>F.forEach(d,m=>l.put(q0(m.indexId,this.uid,c,i)))))}updateIndexEntries(e,t){const i=new Map;return F.forEach(t,(a,l)=>{const c=i.get(a.collectionGroup);return(c?F.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next(d=>(i.set(a.collectionGroup,d),F.forEach(d,m=>this.Cn(e,a,m).next(p=>{const _=this.Fn(l,m);return p.isEqual(_)?F.resolve():this.Mn(e,l,m,p,_)}))))})}xn(e,t,i,a){return ml(e).put({indexId:a.indexId,uid:this.uid,arrayValue:a.arrayValue,directionalValue:a.directionalValue,orderedDocumentKey:this.wn(i,t.key),documentKey:t.key.path.toArray()})}On(e,t,i,a){return ml(e).delete([a.indexId,this.uid,a.arrayValue,a.directionalValue,this.wn(i,t.key),t.key.path.toArray()])}Cn(e,t,i){const a=ml(e);let l=new et(Is);return a.Z({index:K2,range:IDBKeyRange.only([i.indexId,this.uid,this.wn(i,t)])},(c,d)=>{l=l.add(new $a(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>l)}Fn(e,t){let i=new et(Is);const a=this.yn(t,e);if(a==null)return i;const l=By(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Jc(c))for(const d of c.arrayValue.values||[])i=i.add(new $a(t.indexId,e.key,this.fn(d),a))}else i=i.add(new $a(t.indexId,e.key,ad,a));return i}Mn(e,t,i,a,l){se(Y0,"Updating index entries for document '%s'",t.key);const c=[];return function(m,p,_,b,E){const S=m.getIterator(),D=p.getIterator();let z=fl(S),O=fl(D);for(;z||O;){let H=!1,Z=!1;if(z&&O){const $=_(z,O);$<0?Z=!0:$>0&&(H=!0)}else z!=null?Z=!0:H=!0;H?(b(O),O=fl(D)):Z?(E(z),z=fl(S)):(z=fl(S),O=fl(D))}}(a,l,Is,d=>{c.push(this.xn(e,t,i,d))},d=>{c.push(this.On(e,t,i,d))}),F.waitFor(c)}vn(e){let t=1;return gl(e).Z({index:$2,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,a,l)=>{l.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>Is(c,d)).filter((c,d,m)=>!d||Is(c,m[d-1])!==0);const a=[];a.push(e);for(const c of i){const d=Is(c,e),m=Is(c,t);if(d===0)a[0]=e.nn();else if(d>0&&m<0)a.push(c),a.push(c.nn());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Nn(a[c],a[c+1]))return[];const d=[a[c].indexId,this.uid,a[c].arrayValue,a[c].directionalValue,ad,[]],m=[a[c+1].indexId,this.uid,a[c+1].arrayValue,a[c+1].directionalValue,ad,[]];l.push(IDBKeyRange.bound(d,m))}return l}Nn(e,t){return Is(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(W0)}getMinOffset(e,t){return F.mapArray(this.dn(t),i=>this.An(e,i).next(a=>a||de())).next(W0)}}function X0(n){return Gt(n,Xc)}function ml(n){return Gt(n,$d)}function Sc(n){return Gt(n,W_)}function gl(n){return Gt(n,Gd)}function W0(n){ye(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;Q_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Yn(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WR=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n,e,t){const i=n.store(Ar),a=n.store(kl),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=i.Z({range:c},(_,b,E)=>(d++,E.delete()));l.push(m.next(()=>{ye(d===1)}));const p=[];for(const _ of t.mutations){const b=F2(e,_.key.path,t.batchId);l.push(a.delete(b)),p.push(_.key)}return F.waitFor(l).next(()=>p)}function Jd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw de();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(WR,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Dm{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Bn={}}static It(e,t,i,a){ye(e.uid!=="");const l=e.isAuthenticated()?e.uid:"";return new Dm(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cs(e).Z({index:Qa,range:i},(a,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,a){const l=El(e),c=Cs(e);return c.add({}).next(d=>{ye(typeof d=="number");const m=new ow(d,t,i,a),p=function(S,D,z){const O=z.baseMutations.map(Z=>nh(S.Tt,Z)),H=z.mutations.map(Z=>nh(S.Tt,Z));return{userId:D,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:O,mutations:H}}(this.serializer,this.userId,m),_=[];let b=new et((E,S)=>Re(E.canonicalString(),S.canonicalString()));for(const E of a){const S=F2(this.userId,E.key.path,d);b=b.add(E.key.path.popLast()),_.push(c.put(p)),_.push(l.put(S,Rk))}return b.forEach(E=>{_.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.Bn[d]=m.keys()}),F.waitFor(_).next(()=>m)})}lookupMutationBatch(e,t){return Cs(e).get(t).next(i=>i?(ye(i.userId===this.userId),Ha(this.serializer,i)):null)}Ln(e,t){return this.Bn[t]?F.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const a=i.keys();return this.Bn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Cs(e).Z({index:Qa,range:a},(c,d,m)=>{d.userId===this.userId&&(ye(d.batchId>=i),l=Ha(this.serializer,d)),m.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Bs;return Cs(e).Z({index:Qa,range:t,reverse:!0},(a,l,c)=>{i=l.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Bs],[this.userId,Number.POSITIVE_INFINITY]);return Cs(e).G(Qa,t).next(i=>i.map(a=>Ha(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=md(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return El(e).Z({range:a},(c,d,m)=>{const[p,_,b]=c,E=Kr(_);if(p===this.userId&&t.path.isEqual(E))return Cs(e).get(b).next(S=>{if(!S)throw de();ye(S.userId===this.userId),l.push(Ha(this.serializer,S))});m.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new et(Re);const a=[];return t.forEach(l=>{const c=md(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=El(e).Z({range:d},(p,_,b)=>{const[E,S,D]=p,z=Kr(S);E===this.userId&&l.path.isEqual(z)?i=i.add(D):b.done()});a.push(m)}),F.waitFor(a).next(()=>this.kn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=md(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new et(Re);return El(e).Z({range:c},(m,p,_)=>{const[b,E,S]=m,D=Kr(E);b===this.userId&&i.isPrefixOf(D)?D.length===a&&(d=d.add(S)):_.done()}).next(()=>this.kn(e,d))}kn(e,t){const i=[],a=[];return t.forEach(l=>{a.push(Cs(e).get(l).next(c=>{if(c===null)throw de();ye(c.userId===this.userId),i.push(Ha(this.serializer,c))}))}),F.waitFor(a).next(()=>i)}removeMutationBatch(e,t){return ZR(e.ue,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),F.forEach(i,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return F.resolve();const i=IDBKeyRange.lowerBound(function(c){return[c]}(this.userId)),a=[];return El(e).Z({range:i},(l,c,d)=>{if(l[0]===this.userId){const m=Kr(l[1]);a.push(m)}else d.done()}).next(()=>{ye(a.length===0)})})}containsKey(e,t){return JR(e,this.userId,t)}Qn(e){return e1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Bs,lastStreamToken:""})}}function JR(n,e,t){const i=md(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return El(n).Z({range:l,Y:!0},(d,m,p)=>{const[_,b,E]=d;_===e&&b===a&&(c=!0),p.done()}).next(()=>c)}function Cs(n){return Gt(n,Ar)}function El(n){return Gt(n,kl)}function e1(n){return Gt(n,Qc)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new co(0)}static Un(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const i=new co(t.highestTargetId);return t.highestTargetId=i.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>we.fromTimestamp(new dt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Wn(e).next(a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.Gn(e,a)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(i=>(i.targetCount+=1,this.jn(t,i),this.Gn(e,i))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pl(e).delete(t.targetId)).next(()=>this.Wn(e)).next(i=>(ye(i.targetCount>0),i.targetCount-=1,this.Gn(e,i)))}removeTargets(e,t,i){let a=0;const l=[];return pl(e).Z((c,d)=>{const m=Nc(d);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))}).next(()=>F.waitFor(l)).next(()=>a)}forEachTarget(e,t){return pl(e).Z((i,a)=>{const l=Nc(a);t(l)})}Wn(e){return J0(e).get(Hd).next(t=>(ye(t!==null),t))}Gn(e,t){return J0(e).put(Hd,t)}zn(e,t){return pl(e).put(QR(this.serializer,t))}jn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=so(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return pl(e).Z({range:a,index:G2},(c,d,m)=>{const p=Nc(d);vh(t,p.target)&&(l=p,m.done())}).next(()=>l)}addMatchingKeys(e,t,i){const a=[],l=Vs(e);return t.forEach(c=>{const d=pn(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))}),F.waitFor(a)}removeMatchingKeys(e,t,i){const a=Vs(e);return F.forEach(t,l=>{const c=pn(l.path);return F.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=Vs(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Vs(e);let l=Ce();return a.Z({range:i,Y:!0},(c,d,m)=>{const p=Kr(c[1]),_=new ue(p);l=l.add(_)}).next(()=>l)}containsKey(e,t){const i=pn(t.path),a=IDBKeyRange.bound([i],[k2(i)],!1,!0);let l=0;return Vs(e).Z({index:X_,Y:!0,range:a},([c,d],m,p)=>{c!==0&&(l++,p.done())}).next(()=>l>0)}lt(e,t){return pl(e).get(t).next(i=>i?Nc(i):null)}}function pl(n){return Gt(n,Ll)}function J0(n){return Gt(n,Za)}function Vs(n){return Gt(n,Bl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="LruGarbageCollector",QL=1048576;function tA([n,e],[t,i]){const a=Re(n,t);return a===0?Re(e,i):a}class YL{constructor(e){this.Hn=e,this.buffer=new et(tA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();tA(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){se(eA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ea(t)?se(eA,"Ignoring IndexedDB error during garbage collection: ",t):await Js(t)}await this.er(3e5)})}}class XL{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return F.resolve(Pn.ae);const i=new YL(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Z0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,m,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(p=Date.now(),_l()<=Be.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(p-m)+`ms
Total Duration: ${p-_}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function n1(n,e){return new XL(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t){this.db=e,this.garbageCollector=n1(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(i,a)=>t(a))}addReference(e,t,i){return od(e,i)}removeReference(e,t,i){return od(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return od(e,t)}ar(e,t){return function(a,l){let c=!1;return e1(a).X(d=>JR(a,d,l).next(m=>(m&&(c=!0),F.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this._r(e,(c,d)=>{if(d<=t){const m=this.ar(e,c).next(p=>{if(!p)return l++,i.getEntry(e,c).next(()=>(i.removeEntry(c,we.min()),Vs(e).delete(function(b){return[0,pn(b.path)]}(c))))});a.push(m)}}).next(()=>F.waitFor(a)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return od(e,t)}_r(e,t){const i=Vs(e);let a,l=Pn.ae;return i.Z({index:X_},([c,d],{path:m,sequenceNumber:p})=>{c===0?(l!==Pn.ae&&t(new ue(Kr(a)),l),l=p,a=m):l=Pn.ae}).next(()=>{l!==Pn.ae&&t(new ue(Kr(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function od(n,e){return Vs(n).put(function(i,a){return{targetId:0,path:pn(i.path),sequenceNumber:a}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.changes=new ji(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?F.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ba(e).put(i)}removeEntry(e,t,i){return Ba(e).delete(function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Wd(c),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.ur(e,i)))}getEntry(e,t){let i=lt.newInvalidDocument(t);return Ba(e).Z({index:gd,range:IDBKeyRange.only(Rc(t))},(a,l)=>{i=this.cr(t,l)}).next(()=>i)}lr(e,t){let i={size:0,document:lt.newInvalidDocument(t)};return Ba(e).Z({index:gd,range:IDBKeyRange.only(Rc(t))},(a,l)=>{i={document:this.cr(t,l),size:Jd(l)}}).next(()=>i)}getEntries(e,t){let i=kn();return this.hr(e,t,(a,l)=>{const c=this.cr(a,l);i=i.insert(a,c)}).next(()=>i)}Pr(e,t){let i=kn(),a=new ot(ue.comparator);return this.hr(e,t,(l,c)=>{const d=this.cr(l,c);i=i.insert(l,d),a=a.insert(l,Jd(c))}).next(()=>({documents:i,Tr:a}))}hr(e,t,i){if(t.isEmpty())return F.resolve();let a=new et(iA);t.forEach(m=>a=a.add(m));const l=IDBKeyRange.bound(Rc(a.first()),Rc(a.last())),c=a.getIterator();let d=c.getNext();return Ba(e).Z({index:gd,range:l},(m,p,_)=>{const b=ue.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&iA(d,b)<0;)i(d,null),d=c.getNext();d&&d.isEqual(b)&&(i(d,p),d=c.hasNext()?c.getNext():null),d?_.W(Rc(d)):_.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Wd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ba(e).G(IDBKeyRange.bound(d,m,!0)).next(p=>{l==null||l.incrementDocumentReadCount(p.length);let _=kn();for(const b of p){const E=this.cr(ue.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);E.isFoundDocument()&&(Eh(t,E)||a.has(E.key))&&(_=_.insert(E.key,E))}return _})}getAllFromCollectionGroup(e,t,i,a){let l=kn();const c=rA(t,i),d=rA(t,Yn.max());return Ba(e).Z({index:H2,range:IDBKeyRange.bound(c,d,!0)},(m,p,_)=>{const b=this.cr(ue.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(b.key,b),l.size===a&&_.done()}).next(()=>l)}newChangeBuffer(e){return new JL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nA(e).get(Uy).next(t=>(ye(!!t),t))}ur(e,t){return nA(e).put(Uy,t)}cr(e,t){if(t){const i=LL(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(we.min())))return i}return lt.newInvalidDocument(e)}}function i1(n){return new ZL(n)}class JL extends r1{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new ji(i=>i.toString(),(i,a)=>i.isEqual(a))}applyChanges(e){const t=[];let i=0,a=new et((l,c)=>Re(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const d=this.Er.get(l);if(t.push(this.Ir.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=z0(this.Ir.serializer,c);a=a.add(l.path.popLast());const p=Jd(m);i+=p-d.size,t.push(this.Ir.addEntry(e,l,m))}else if(i-=d.size,this.trackRemovals){const m=z0(this.Ir.serializer,c.convertToNoDocument(we.min()));t.push(this.Ir.addEntry(e,l,m))}}),a.forEach(l=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Ir.updateMetadata(e,i)),F.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(i=>(this.Er.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:i,Tr:a})=>(a.forEach((l,c)=>{this.Er.set(l,{size:c,readTime:i.get(l).readTime})}),i))}}function nA(n){return Gt(n,Yc)}function Ba(n){return Gt(n,Fd)}function Rc(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function rA(n,e){const t=e.documentKey.path.toArray();return[n,Wd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function iA(n,e){const t=n.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=Re(t[l],i[l]),a)return a;return a=Re(t.length,i.length),a||(a=Re(t[t.length-2],i[i.length-2]),a||Re(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Lc(i.mutation,a,Mn.empty(),dt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ce()){const a=Qr();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Dc();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Qr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ce()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=kn();const c=kc(),d=function(){return kc()}();return t.forEach((m,p)=>{const _=i.get(p.key);a.has(p.key)&&(_===void 0||_.mutation instanceof qi)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Lc(_.mutation,p,_.mutation.getFieldMask(),dt.now())):c.set(p.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((p,_)=>c.set(p,_)),t.forEach((p,_)=>{var b;return d.set(p,new e4(_,(b=c.get(p))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=kc();let a=new ot((c,d)=>c-d),l=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=t.get(m);if(p===null)return;let _=i.get(m)||Mn.empty();_=d.applyToLocalView(p,_),i.set(m,_);const b=(a.get(d.batchId)||Ce()).add(m);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,_=m.value,b=bR();_.forEach(E=>{if(!l.has(E)){const S=CR(t.get(E),i.get(E));S!==null&&b.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,b))}return F.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):F.resolve(Qr());let d=Ml,m=l;return c.next(p=>F.forEach(p,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(_)?F.resolve():this.remoteDocumentCache.getEntry(e,_).next(E=>{m=m.insert(_,E)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,m,p,Ce())).next(_=>({batchId:d,changes:vR(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next(i=>{let a=Dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Dc();return this.indexManager.getCollectionParents(e,l).next(d=>F.forEach(d,m=>{const p=function(b,E){return new zi(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next(_=>{_.forEach((b,E)=>{c=c.insert(b,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,lt.newInvalidDocument(_)))});let d=Dc();return c.forEach((m,p)=>{const _=l.get(m);_!==void 0&&Lc(_.mutation,p,Mn.empty(),dt.now()),Eh(t,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return F.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ct(a.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:fw(a.bundledQuery),readTime:Ct(a.readTime)}}(t)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.overlays=new ot(ue.comparator),this.Rr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qr();return F.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),F.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),F.resolve()}getOverlaysForCollection(e,t,i){const a=Qr(),l=t.length+1,c=new ue(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return F.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new ot((p,_)=>p-_);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let _=l.get(p.largestBatchId);_===null&&(_=Qr(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Qr(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,_)=>d.set(p,_)),!(d.size()>=a)););return F.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new uw(t,i));let l=this.Rr.get(t);l===void 0&&(l=Ce(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.Vr=new et(Jt.mr),this.gr=new et(Jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Jt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Jt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ue(new Me([])),i=new Jt(t,e),a=new Jt(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ue(new Me([])),i=new Jt(t,e),a=new Jt(t,e+1);let l=Ce();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Jt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ue.comparator(e.key,t.key)||Re(e.Cr,t.Cr)}static pr(e,t){return Re(e.Cr,t.Cr)||ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new et(Jt.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ow(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return F.resolve(c)}lookupMutationBatch(e,t){return F.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return F.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Bs:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Jt(t,0),a=new Jt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),F.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new et(Re);return t.forEach(a=>{const l=new Jt(a,0),c=new Jt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),F.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ue.isDocumentKey(l)||(l=l.child(""));const c=new Jt(new ue(l),0);let d=new et(Re);return this.Mr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Cr)),!0)},c),F.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return F.forEach(t.mutations,a=>{const l=new Jt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Jt(t,0),a=this.Mr.firstAfterOrEqual(i);return F.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.kr=e,this.docs=function(){return new ot(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return F.resolve(i?i.document.mutableCopy():lt.newInvalidDocument(t))}getEntries(e,t){let i=kn();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():lt.newInvalidDocument(a))}),F.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=kn();const c=t.path,d=new ue(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:_}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Q_(B2(_),i)<=0||(a.has(_.key)||Eh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return F.resolve(l)}getAllFromCollectionGroup(e,t,i,a){de()}qr(e,t){return F.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new a4(this)}getSize(e){return F.resolve(this.size)}}class a4 extends r1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),F.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.persistence=e,this.Qr=new ji(t=>so(t),vh),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new gw,this.targetCount=0,this.Ur=co.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),F.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new co(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.zn(t),F.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),F.waitFor(l).next(()=>a)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return F.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),F.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),F.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),F.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return F.resolve(i)}containsKey(e,t){return F.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Pn(0),this.zr=!1,this.zr=!0,this.jr=new r4,this.referenceDelegate=e(this),this.Hr=new o4(this),this.indexManager=new GL,this.remoteDocumentCache=function(a){return new s4(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new KR(t),this.Yr=new t4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new i4(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){se("MemoryPersistence","Starting transaction:",e);const a=new l4(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return F.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class l4 extends z2{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.ti=new gw,this.ni=null}static ri(e){return new Vm(e)}get ii(){if(this.ni)return this.ni;throw de()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),F.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),F.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,i=>{const a=ue.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return F.or([()=>F.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class em{constructor(e,t){this.persistence=e,this.oi=new ji(i=>pn(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=n1(this,t)}static ri(e,t){return new em(e,t)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return F.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?F.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,we.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),F.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yd(e.data.value)),t}ar(e,t,i){return F.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return F.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.serializer=e}B(e,t,i,a){const l=new vm("createOrUpgrade",t);i<1&&a>=1&&(function(m){m.createObjectStore(wh)}(e),function(m){m.createObjectStore(Qc,{keyPath:Sk}),m.createObjectStore(Ar,{keyPath:p0,autoIncrement:!0}).createIndex(Qa,y0,{unique:!0}),m.createObjectStore(kl)}(e),sA(e),function(m){m.createObjectStore(qa)}(e));let c=F.resolve();return i<3&&a>=3&&(i!==0&&(function(m){m.deleteObjectStore(Bl),m.deleteObjectStore(Ll),m.deleteObjectStore(Za)}(e),sA(e)),c=c.next(()=>function(m){const p=m.store(Za),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return p.put(Hd,_)}(l))),i<4&&a>=4&&(i!==0&&(c=c.next(()=>function(m,p){return p.store(Ar).G().next(b=>{m.deleteObjectStore(Ar),m.createObjectStore(Ar,{keyPath:p0,autoIncrement:!0}).createIndex(Qa,y0,{unique:!0});const E=p.store(Ar),S=b.map(D=>E.put(D));return F.waitFor(S)})}(e,l))),c=c.next(()=>{(function(m){m.createObjectStore(Ul,{keyPath:Pk})})(e)})),i<5&&a>=5&&(c=c.next(()=>this._i(l))),i<6&&a>=6&&(c=c.next(()=>(function(m){m.createObjectStore(Yc)}(e),this.ai(l)))),i<7&&a>=7&&(c=c.next(()=>this.ui(l))),i<8&&a>=8&&(c=c.next(()=>this.ci(e,l))),i<9&&a>=9&&(c=c.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&a>=10&&(c=c.next(()=>this.li(l))),i<11&&a>=11&&(c=c.next(()=>{(function(m){m.createObjectStore(bm,{keyPath:Mk})})(e),function(m){m.createObjectStore(Em,{keyPath:kk})}(e)})),i<12&&a>=12&&(c=c.next(()=>{(function(m){const p=m.createObjectStore(Tm,{keyPath:Fk});p.createIndex(jy,Hk,{unique:!1}),p.createIndex(Q2,Gk,{unique:!1})})(e)})),i<13&&a>=13&&(c=c.next(()=>function(m){const p=m.createObjectStore(Fd,{keyPath:Ik});p.createIndex(gd,Ck),p.createIndex(H2,xk)}(e)).next(()=>this.hi(e,l)).next(()=>e.deleteObjectStore(qa))),i<14&&a>=14&&(c=c.next(()=>this.Pi(e,l))),i<15&&a>=15&&(c=c.next(()=>function(m){m.createObjectStore(W_,{keyPath:Lk,autoIncrement:!0}).createIndex(zy,Bk,{unique:!1}),m.createObjectStore(Gd,{keyPath:Uk}).createIndex($2,zk,{unique:!1}),m.createObjectStore($d,{keyPath:jk}).createIndex(K2,qk,{unique:!1})}(e))),i<16&&a>=16&&(c=c.next(()=>{t.objectStore(Gd).clear()}).next(()=>{t.objectStore($d).clear()})),i<17&&a>=17&&(c=c.next(()=>{(function(m){m.createObjectStore(Z_,{keyPath:$k})})(e)})),c}ai(e){let t=0;return e.store(qa).Z((i,a)=>{t+=Jd(a)}).next(()=>{const i={byteSize:t};return e.store(Yc).put(Uy,i)})}_i(e){const t=e.store(Qc),i=e.store(Ar);return t.G().next(a=>F.forEach(a,l=>{const c=IDBKeyRange.bound([l.userId,Bs],[l.userId,l.lastAcknowledgedBatchId]);return i.G(Qa,c).next(d=>F.forEach(d,m=>{ye(m.userId===l.userId);const p=Ha(this.serializer,m);return ZR(e,l.userId,p).next(()=>{})}))}))}ui(e){const t=e.store(Bl),i=e.store(qa);return e.store(Za).get(Hd).next(a=>{const l=[];return i.Z((c,d)=>{const m=new Me(c),p=function(b){return[0,pn(b)]}(m);l.push(t.get(p).next(_=>_?F.resolve():(b=>t.put({targetId:0,path:pn(b),sequenceNumber:a.highestListenSequenceNumber}))(m)))}).next(()=>F.waitFor(l))})}ci(e,t){e.createObjectStore(Xc,{keyPath:Ok});const i=t.store(Xc),a=new mw,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:pn(m)})}};return t.store(qa).Z({Y:!0},(c,d)=>{const m=new Me(c);return l(m.popLast())}).next(()=>t.store(kl).Z({Y:!0},([c,d,m],p)=>{const _=Kr(d);return l(_.popLast())}))}li(e){const t=e.store(Ll);return t.Z((i,a)=>{const l=Nc(a),c=QR(this.serializer,l);return t.put(c)})}hi(e,t){const i=t.store(qa),a=[];return i.Z((l,c)=>{const d=t.store(Fd),m=function(b){return b.document?new ue(Me.fromString(b.document.name).popFirst(5)):b.noDocument?ue.fromSegments(b.noDocument.path):b.unknownDocument?ue.fromSegments(b.unknownDocument.path):de()}(c).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))}).next(()=>F.waitFor(a))}Pi(e,t){const i=t.store(Ar),a=i1(this.serializer),l=new pw(Vm.ri,this.serializer.Tt);return i.G().next(c=>{const d=new Map;return c.forEach(m=>{var p;let _=(p=d.get(m.userId))!==null&&p!==void 0?p:Ce();Ha(this.serializer,m).keys().forEach(b=>_=_.add(b)),d.set(m.userId,_)}),F.forEach(d,(m,p)=>{const _=new en(p),b=xm.It(this.serializer,_),E=l.getIndexManager(_),S=Dm.It(_,this.serializer,E,l.referenceDelegate);return new s1(a,S,b,E).recalculateAndSaveOverlaysForDocumentKeys(new qy(t,Pn.ae),m).next()})})}}function sA(n){n.createObjectStore(Bl,{keyPath:Vk}).createIndex(X_,Nk,{unique:!0}),n.createObjectStore(Ll,{keyPath:"targetId"}).createIndex(G2,Dk,{unique:!0}),n.createObjectStore(Za)}const xs="IndexedDbPersistence",gy=18e5,py=5e3,yy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",a1="main";class yw{constructor(e,t,i,a,l,c,d,m,p,_,b=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ti=l,this.window=c,this.document=d,this.Ii=p,this.Ei=_,this.di=b,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=E=>Promise.resolve(),!yw.D())throw new re(Y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WL(this,a),this.gi=t+a1,this.serializer=new KR(m),this.pi=new Yr(this.gi,this.di,new u4(this.serializer)),this.jr=new UL,this.Hr=new KL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i1(this.serializer),this.Yr=new BL,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,_===!1&&It(xs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(Y.FAILED_PRECONDITION,yy);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new Pn(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ld(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(ea(e))return se(xs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se(xs,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Ic(e).get(hl).next(t=>F.resolve(this.Ni(t)))}Bi(e){return ld(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,gy)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const i=Gt(t,Ul);return i.G().next(a=>{const l=this.qi(a,gy),c=a.filter(d=>l.indexOf(d)===-1);return F.forEach(c,d=>i.delete(d.clientId)).next(()=>c)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?F.resolve(!0):Ic(e).get(hl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,py)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new re(Y.FAILED_PRECONDITION,yy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ld(e).G().next(i=>this.qi(i,py).find(a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&se(xs,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[wh,Ul],e=>{const t=new qy(e,Pn.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(i=>this.ki(i.updateTimeMs,t)&&!this.$i(i.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>ld(e).G().next(t=>this.qi(t,gy).map(i=>i.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Dm.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $L(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return xm.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,i){se(xs,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=function(m){return m===17?Yk:m===16?Qk:m===15?J_:m===14?W2:m===13?X2:m===12?Kk:m===11?Y2:void de()}(this.di);let c;return this.pi.runTransaction(e,a,l,d=>(c=new qy(d,this.Gr?this.Gr.next():Pn.ae),t==="readwrite-primary"?this.Fi(c).next(m=>!!m||this.Mi(c)).next(m=>{if(!m)throw It(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new re(Y.FAILED_PRECONDITION,U2);return i(c)}).next(m=>this.Oi(c).next(()=>m)):this.ji(c).next(()=>i(c)))).then(d=>(c.raiseOnCommittedEvent(),d))}ji(e){return Ic(e).get(hl).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,py)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(Y.FAILED_PRECONDITION,yy)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ic(e).put(hl,t)}static D(){return Yr.D()}xi(e){const t=Ic(e);return t.get(hl).next(i=>this.Ni(i)?(se(xs,"Releasing primary lease."),t.delete(hl)):F.resolve())}ki(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(It(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;f2()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const i=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return se(xs,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return It(xs,"Failed to get zombied client id.",i),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){It("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ic(n){return Gt(n,wh)}function ld(n){return Gt(n,Ul)}function _w(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Ce(),a=Ce();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new ww(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return f2()?8:j2(Ud())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new c4;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(_l()<=Be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",wl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(_l()<=Be.DEBUG&&se("QueryEngine","Query:",wl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(_l()<=Be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",wl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(t))):F.resolve())}rs(e,t){if(D0(t))return F.resolve(null);let i=In(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Xd(t,null,"F"),i=In(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ce(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const p=this.cs(t,d);return this.ls(t,p,c,m.readTime)?this.rs(e,Xd(t,null,"F")):this.hs(e,p,t,m)}))})))}ss(e,t,i,a){return D0(t)||a.isEqual(we.min())?F.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?F.resolve(null):(_l()<=Be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wl(t)),this.hs(e,c,t,L2(a,Ml)).next(d=>d))})}cs(e,t){let i=new et(_R(e));return t.forEach((a,l)=>{Eh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return _l()<=Be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",wl(t)),this.ns.getDocumentsMatchingQuery(e,t,Yn.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LocalStore",h4=3e8;class f4{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ot(Re),this.Is=new ji(l=>so(l),vh),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function l1(n,e,t,i){return new f4(n,e,t,i)}async function u1(n,e){const t=he(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Ce();for(const p of a){c.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(p=>({Rs:p,removedBatchIds:c,addedBatchIds:d}))})})}function d4(n,e){const t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,p,_){const b=p.batch,E=b.keys();let S=F.resolve();return E.forEach(D=>{S=S.next(()=>_.getEntry(m,D)).next(z=>{const O=p.docVersions.get(D);ye(O!==null),z.version.compareTo(O)<0&&(b.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Ce();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function c1(n){const e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function m4(n,e){const t=he(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((_,b)=>{const E=a.get(b);if(!E)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,b)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?S=S.withResumeToken(Tt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,i)),a=a.insert(b,S),function(z,O,H){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=h4?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,S,_)&&d.push(t.Hr.updateTargetData(l,S))});let m=kn(),p=Ce();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(h1(l,c,e.documentUpdates).next(_=>{m=_.Vs,p=_.fs})),!i.isEqual(we.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return F.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(t.Ts=a,l))}function h1(n,e,t){let i=Ce(),a=Ce();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=kn();return t.forEach((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):se(vw,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function g4(n,e){const t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Bs),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $l(n,e){const t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,F.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new Di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Kl(n,e,t){const i=he(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ea(c))throw c;se(vw,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function tm(n,e,t){const i=he(n);let a=we.min(),l=Ce();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,_){const b=he(m),E=b.Is.get(_);return E!==void 0?F.resolve(b.Ts.get(E)):b.Hr.getTargetData(p,_)}(i,c,In(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:Ce())).next(d=>(m1(i,yR(e),d),{documents:d,gs:l})))}function f1(n,e){const t=he(n),i=he(t.Hr),a=t.Ts.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>i.lt(l,e).next(c=>c?c.target:null))}function d1(n,e){const t=he(n),i=t.Es.get(e)||we.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.ds.getAllFromCollectionGroup(a,e,L2(i,Ml),Number.MAX_SAFE_INTEGER)).then(a=>(m1(t,e,a),a))}function m1(n,e,t){let i=n.Es.get(e)||we.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}async function p4(n,e,t,i){const a=he(n);let l=Ce(),c=kn();for(const p of t){const _=e.ps(p.metadata.name);p.document&&(l=l.add(_));const b=e.ys(p);b.setReadTime(e.ws(p.metadata.readTime)),c=c.insert(_,b)}const d=a.ds.newChangeBuffer({trackRemovals:!0}),m=await $l(a,function(_){return In(ou(Me.fromString(`__bundle__/docs/${_}`)))}(i));return a.persistence.runTransaction("Apply bundle documents","readwrite",p=>h1(p,d,c).next(_=>(d.apply(p),_)).next(_=>a.Hr.removeMatchingKeysForTargetId(p,m.targetId).next(()=>a.Hr.addMatchingKeys(p,l,m.targetId)).next(()=>a.localDocuments.getLocalViewOfDocuments(p,_.Vs,_.fs)).next(()=>_.Vs)))}async function y4(n,e,t=Ce()){const i=await $l(n,In(fw(e.bundledQuery))),a=he(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const c=Ct(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return a.Yr.saveNamedQuery(l,e);const d=i.withResumeToken(Tt.EMPTY_BYTE_STRING,c);return a.Ts=a.Ts.insert(d.targetId,d),a.Hr.updateTargetData(l,d).next(()=>a.Hr.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>a.Hr.addMatchingKeys(l,t,i.targetId)).next(()=>a.Yr.saveNamedQuery(l,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firestore_clients";function aA(n,e){return`${g1}_${n}_${e}`}const p1="firestore_mutations";function oA(n,e,t){let i=`${p1}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const y1="firestore_targets";function _y(n,e){return`${y1}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="SharedClientState";class nm{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ss(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new re(a.error.code,a.error.message))),c?new nm(e,t,a.state,l):(It($r,`Failed to parse mutation state for ID '${t}': ${i}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ss(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new re(i.error.code,i.error.message))),l?new Bc(e,i.state,a):(It($r,`Failed to parse target state for ID '${e}': ${t}`),null)}bs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ss(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=iw();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=q2(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new rm(e,l):(It($r,`Failed to parse client data for instance '${e}': ${t}`),null)}}class bw{constructor(e,t){this.clientId=e,this.onlineState=t}static Ss(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new bw(t.clientId,t.onlineState):(It($r,`Failed to parse online state: ${e}`),null)}}class n_{constructor(){this.activeTargetIds=iw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wy{constructor(e,t,i,a,l){this.window=e,this.Ti=t,this.persistenceKey=i,this.Cs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new ot(Re),this.started=!1,this.Os=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Ns=aA(this.persistenceKey,this.Cs),this.Bs=function(m){return`firestore_sequence_number_${m}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new n_),this.Ls=new RegExp(`^${g1}_${c}_([^_]*)$`),this.ks=new RegExp(`^${p1}_${c}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${y1}_${c}_(\\d+)$`),this.Qs=function(m){return`firestore_online_state_${m}`}(this.persistenceKey),this.$s=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const i of e){if(i===this.Cs)continue;const a=this.getItem(aA(this.persistenceKey,i));if(a){const l=rm.Ss(i,a);l&&(this.xs=this.xs.insert(l.clientId,l))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const i=this.Us(t);i&&this.Ws(i)}for(const i of this.Os)this.Ms(i);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,i){this.zs(e,t,i),this.js(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(_y(this.persistenceKey,e));if(a){const l=Bc.Ss(e,a);l&&(i=l.state)}}return t&&this.Hs.Ds(e),this.Ks(),i}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_y(this.persistenceKey,e))}updateQueryState(e,t,i){this.Js(e,t,i)}handleUserChange(e,t,i){t.forEach(a=>{this.js(a)}),this.currentUser=e,i.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se($r,"READ",e,t),t}setItem(e,t){se($r,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){se($r,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(se($r,"EVENT",t.key,t.newValue),t.key===this.Ns)return void It("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const i=this.Xs(t.key);return this.eo(i,null)}{const i=this.no(t.key,t.newValue);if(i)return this.eo(i.clientId,i)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const i=this.ro(t.key,t.newValue);if(i)return this.io(i)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const i=this.so(t.key,t.newValue);if(i)return this.oo(i)}}else if(t.key===this.Qs){if(t.newValue!==null){const i=this.Us(t.newValue);if(i)return this.Ws(i)}}else if(t.key===this.Bs){const i=function(l){let c=Pn.ae;if(l!=null)try{const d=JSON.parse(l);ye(typeof d=="number"),c=d}catch(d){It($r,"Failed to read sequence number from WebStorage",d)}return c}(t.newValue);i!==Pn.ae&&this.sequenceNumberHandler(i)}else if(t.key===this.$s){const i=this._o(t.newValue);await Promise.all(i.map(a=>this.syncEngine.ao(a)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.bs())}zs(e,t,i){const a=new nm(this.currentUser,e,t,i),l=oA(this.persistenceKey,this.currentUser,e);this.setItem(l,a.bs())}js(e){const t=oA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,i){const a=_y(this.persistenceKey,e),l=new Bc(e,t,i);this.setItem(a,l.bs())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const i=this.Xs(e);return rm.Ss(i,t)}ro(e,t){const i=this.ks.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return nm.Ss(new en(l),a,t)}so(e,t){const i=this.qs.exec(e),a=Number(i[1]);return Bc.Ss(a,t)}Us(e){return bw.Ss(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);se($r,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const i=t?this.xs.insert(e,t):this.xs.remove(e),a=this.Gs(this.xs),l=this.Gs(i),c=[],d=[];return l.forEach(m=>{a.has(m)||c.push(m)}),a.forEach(m=>{l.has(m)||d.push(m)}),this.syncEngine.lo(c,d).then(()=>{this.xs=i})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=iw();return e.forEach((i,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class _1{constructor(){this.ho=new n_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new n_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="ConnectivityMonitor";class uA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){se(lA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){se(lA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud=null;function r_(){return ud===null?ud=function(){return 268435456+Math.round(2147483648*Math.random())}():ud++,"0x"+ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="RestConnection",w4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===Kd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=r_(),d=this.bo(e,t.toUriEncodedString());se(vy,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,i).then(p=>(se(vy,`Received RPC '${e}' ${c}: `,p),p),p=>{throw Zr(vy,`RPC '${e}' ${c} failed with error: `,p,"url: ",d,"request:",i),p})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+au}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=w4[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class E4 extends v4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=r_();return new Promise((c,d)=>{const m=new x2;m.setWithCredentials(!0),m.listenOnce(D2.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case fd.NO_ERROR:const _=m.getResponseJson();se(mn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case fd.TIMEOUT:se(mn,`RPC '${e}' ${l} timed out`),d(new re(Y.DEADLINE_EXCEEDED,"Request time out"));break;case fd.HTTP_ERROR:const b=m.getStatus();if(se(mn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const D=function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(H)>=0?H:Y.UNKNOWN}(S.status);d(new re(D,S.message))}else d(new re(Y.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new re(Y.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{se(mn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(a);se(mn,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",p,i,15)})}Wo(e,t,i){const a=r_(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=O2(),d=N2(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");se(mn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const b=c.createWebChannel(_,m);let E=!1,S=!1;const D=new b4({Fo:O=>{S?se(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(se(mn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),se(mn,`RPC '${e}' stream ${a} sending:`,O),b.send(O))},Mo:()=>b.close()}),z=(O,H,Z)=>{O.listen(H,$=>{try{Z($)}catch(ae){setTimeout(()=>{throw ae},0)}})};return z(b,xc.EventType.OPEN,()=>{S||(se(mn,`RPC '${e}' stream ${a} transport opened.`),D.Qo())}),z(b,xc.EventType.CLOSE,()=>{S||(S=!0,se(mn,`RPC '${e}' stream ${a} transport closed`),D.Ko())}),z(b,xc.EventType.ERROR,O=>{S||(S=!0,Zr(mn,`RPC '${e}' stream ${a} transport errored:`,O),D.Ko(new re(Y.UNAVAILABLE,"The operation could not be completed")))}),z(b,xc.EventType.MESSAGE,O=>{var H;if(!S){const Z=O.data[0];ye(!!Z);const $=Z,ae=($==null?void 0:$.error)||((H=$[0])===null||H===void 0?void 0:H.error);if(ae){se(mn,`RPC '${e}' stream ${a} received error:`,ae);const ne=ae.status;let ce=function(R){const x=kt[R];if(x!==void 0)return VR(x)}(ne),N=ae.message;ce===void 0&&(ce=Y.INTERNAL,N="Unknown error status: "+ne+" with message "+ae.message),S=!0,D.Ko(new re(ce,N)),b.close()}else se(mn,`RPC '${e}' stream ${a} received:`,Z),D.Uo(Z)}}),z(d,V2.STAT_EVENT,O=>{O.stat===Ly.PROXY?se(mn,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Ly.NOPROXY&&se(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return typeof window<"u"?window:null}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){return new IL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="PersistentStream";class v1{constructor(e,t,i,a,l,c,d,m){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Ew(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(It(t.toString()),It("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new re(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return se(cA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(se(cA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T4 extends v1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=DL(this.serializer,e),i=function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Ct(c.readTime):we.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=Wy(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Qd(m)?{documents:jR(l,m)}:{query:qR(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=MR(l,c.resumeToken);const p=Yy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=Gl(l,c.snapshotVersion.toTimestamp());const p=Yy(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const i=NL(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=Wy(this.serializer),t.removeTarget=e,this.I_(t)}}class A4 extends v1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=VL(e.writeResults,e.commitTime),i=Ct(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=Wy(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>nh(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class R4 extends S4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Xy(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new re(Y.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Xy(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new re(Y.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class I4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(It(t),this.N_=!1):se("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class C4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{na(this)&&(se(ho,"Restarting streams for network reachability change."),await async function(m){const p=he(m);p.W_.add(4),await cu(p),p.j_.set("Unknown"),p.W_.delete(4),await Ih(p)}(this))})}),this.j_=new I4(i,a)}}async function Ih(n){if(na(n))for(const e of n.G_)await e(!0)}async function cu(n){for(const e of n.G_)await e(!1)}function Nm(n,e){const t=he(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Sw(t)?Aw(t):fu(t).c_()&&Tw(t,e))}function Ql(n,e){const t=he(n),i=fu(t);t.U_.delete(e),i.c_()&&b1(t,e),t.U_.size===0&&(i.c_()?i.P_():na(t)&&t.j_.set("Unknown"))}function Tw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fu(n).y_(e)}function b1(n,e){n.H_.Ne(e),fu(n).w_(e)}function Aw(n){n.H_=new TL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),fu(n).start(),n.j_.B_()}function Sw(n){return na(n)&&!fu(n).u_()&&n.U_.size>0}function na(n){return he(n).W_.size===0}function E1(n){n.H_=void 0}async function x4(n){n.j_.set("Online")}async function D4(n){n.U_.forEach((e,t)=>{Tw(n,e)})}async function V4(n,e){E1(n),Sw(n)?(n.j_.q_(e),Aw(n)):n.j_.set("Unknown")}async function N4(n,e,t){if(n.j_.set("Online"),e instanceof PR&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){se(ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await im(n,i)}else if(e instanceof vd?n.H_.We(e):e instanceof OR?n.H_.Ze(e):n.H_.je(e),!t.isEqual(we.min()))try{const i=await c1(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.U_.get(p);_&&l.U_.set(p,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const _=l.U_.get(m);if(!_)return;l.U_.set(m,_.withResumeToken(Tt.EMPTY_BYTE_STRING,_.snapshotVersion)),b1(l,m);const b=new Di(_.target,m,p,_.sequenceNumber);Tw(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){se(ho,"Failed to raise snapshot:",i),await im(n,i)}}async function im(n,e,t){if(!ea(e))throw e;n.W_.add(1),await cu(n),n.j_.set("Offline"),t||(t=()=>c1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{se(ho,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Ih(n)})}function T1(n,e){return e().catch(t=>im(n,t,e))}async function hu(n){const e=he(n),t=Ys(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Bs;for(;O4(e);)try{const a=await g4(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,P4(e,a)}catch(a){await im(e,a)}A1(e)&&S1(e)}function O4(n){return na(n)&&n.K_.length<10}function P4(n,e){n.K_.push(e);const t=Ys(n);t.c_()&&t.S_&&t.b_(e.mutations)}function A1(n){return na(n)&&!Ys(n).u_()&&n.K_.length>0}function S1(n){Ys(n).start()}async function M4(n){Ys(n).C_()}async function k4(n){const e=Ys(n);for(const t of n.K_)e.b_(t.mutations)}async function L4(n,e,t){const i=n.K_.shift(),a=lw.from(i,e,t);await T1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await hu(n)}async function B4(n,e){e&&Ys(n).S_&&await async function(i,a){if(function(c){return DR(c)&&c!==Y.ABORTED}(a.code)){const l=i.K_.shift();Ys(i).h_(),await T1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hu(i)}}(n,e),A1(n)&&S1(n)}async function hA(n,e){const t=he(n);t.asyncQueue.verifyOperationInProgress(),se(ho,"RemoteStore received new credentials");const i=na(t);t.W_.add(3),await cu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ih(t)}async function i_(n,e){const t=he(n);e?(t.W_.delete(2),await Ih(t)):e||(t.W_.add(2),await cu(t),t.j_.set("Unknown"))}function fu(n){return n.J_||(n.J_=function(t,i,a){const l=he(t);return l.M_(),new T4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:x4.bind(null,n),No:D4.bind(null,n),Lo:V4.bind(null,n),p_:N4.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Sw(n)?Aw(n):n.j_.set("Unknown")):(await n.J_.stop(),E1(n))})),n.J_}function Ys(n){return n.Y_||(n.Y_=function(t,i,a){const l=he(t);return l.M_(),new A4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:M4.bind(null,n),Lo:B4.bind(null,n),D_:k4.bind(null,n),v_:L4.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await hu(n)):(await n.Y_.stop(),n.K_.length>0&&(se(ho,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Rw(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function du(n,e){if(It("AsyncQueue",`${e}: ${n}`),ea(n))return new re(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ue.comparator(t.key,i.key):(t,i)=>ue.comparator(t.key,i.key),this.keyedMap=Dc(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.Z_=new ot(ue.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):de():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yl{constructor(e,t,i,a,l,c,d,m,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Yl(e,t,Rl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class z4{constructor(){this.queries=dA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=he(t),l=a.queries;a.queries=dA(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new re(Y.ABORTED,"Firestore shutting down"))}}function dA(){return new ji(n=>pR(n),bh)}async function Iw(n,e){const t=he(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new U4,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=du(c,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&xw(t)}async function Cw(n,e){const t=he(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function j4(n,e){const t=he(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&xw(t)}function q4(n,e,t){const i=he(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function xw(n){n.ia.forEach(e=>{e.next()})}var s_,mA;(mA=s_||(s_={}))._a="default",mA.Cache="cache";class Dw{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Yl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==s_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.serializer=e}ps(e){return Xr(this.serializer,e)}ys(e){return e.metadata.exists?zR(this.serializer,e.document,!1):lt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Ct(e)}}class H4{constructor(e,t,i){this.da=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R1(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const i=Me.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,i=new gA(this.serializer);for(const a of e)if(a.metadata.queries){const l=i.ps(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||Ce()).add(l);t.set(c,d)}}return t}async complete(){const e=await p4(this.localStore,new gA(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const i of this.queries)await y4(this.localStore,i,t.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function R1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class x1{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ce(),this.mutatedKeys=Ce(),this.ya=_R(e),this.wa=new Rl(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new fA,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,b)=>{const E=a.get(_),S=Eh(this.query,b)?b:null,D=!!E&&this.mutatedKeys.has(E.key),z=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;E&&S?E.data.isEqual(S.data)?D!==z&&(i.track({type:3,doc:S}),O=!0):this.va(E,S)||(i.track({type:2,doc:S}),O=!0,(m&&this.ya(S,m)>0||p&&this.ya(S,p)<0)&&(d=!0)):!E&&S?(i.track({type:0,doc:S}),O=!0):E&&!S&&(i.track({type:1,doc:E}),O=!0,(m||p)&&(d=!0)),O&&(S?(c=c.add(S),l=z?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,b)=>function(S,D){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return z(S)-z(D)}(_.type,b.type)||this.ya(_.doc,b.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,p=m!==this.ga;return this.ga=m,c.length!==0||p?{snapshot:new Yl(this.query,e.wa,l,c,e.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ce(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new C1(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new I1(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ce();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Yl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ra="SyncEngine";class G4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $4{constructor(e){this.key=e,this.Ba=!1}}class K4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ji(d=>pR(d),bh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ue.comparator),this.Ka=new Map,this.Ua=new gw,this.Wa={},this.Ga=new Map,this.za=co.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Q4(n,e,t=!0){const i=Om(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await D1(i,e,t,!0),a}async function Y4(n,e){const t=Om(n);await D1(t,e,!0,!1)}async function D1(n,e,t,i){const a=await $l(n.localStore,In(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await Vw(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Nm(n.remoteStore,a),d}async function Vw(n,e,t,i,a){n.Ha=(b,E,S)=>async function(z,O,H,Z){let $=O.view.ba(H);$.ls&&($=await tm(z.localStore,O.query,!1).then(({documents:N})=>O.view.ba(N,$)));const ae=Z&&Z.targetChanges.get(O.targetId),ne=Z&&Z.targetMismatches.get(O.targetId)!=null,ce=O.view.applyChanges($,z.isPrimaryClient,ae,ne);return a_(z,O.targetId,ce.Ma),ce.snapshot}(n,b,E,S);const l=await tm(n.localStore,e,!0),c=new x1(e,l.gs),d=c.ba(l.documents),m=Sh.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),p=c.applyChanges(d,n.isPrimaryClient,m);a_(n,t,p.Ma);const _=new G4(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function X4(n,e,t){const i=he(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!bh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Kl(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Ql(i.remoteStore,a.targetId),Xl(i,a.targetId)}).catch(Js)):(Xl(i,a.targetId),await Kl(i.localStore,a.targetId,!0))}async function W4(n,e){const t=he(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ql(t.remoteStore,i.targetId))}async function Z4(n,e,t){const i=Mw(n);try{const a=await function(c,d){const m=he(c),p=dt.now(),_=d.reduce((S,D)=>S.add(D.key),Ce());let b,E;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let D=kn(),z=Ce();return m.ds.getEntries(S,_).next(O=>{D=O,D.forEach((H,Z)=>{Z.isValidDocument()||(z=z.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,D)).next(O=>{b=O;const H=[];for(const Z of d){const $=vL(Z,b.get(Z.key).overlayedDocument);$!=null&&H.push(new qi(Z.key,$,oR($.value.mapValue),ht.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,H,d)}).next(O=>{E=O;const H=O.applyToLocalDocumentSet(b,z);return m.documentOverlayCache.saveOverlays(S,O.batchId,H)})}).then(()=>({batchId:E.batchId,changes:vR(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let p=c.Wa[c.currentUser.toKey()];p||(p=new ot(Re)),p=p.insert(d,m),c.Wa[c.currentUser.toKey()]=p}(i,a.batchId,t),await Fi(i,a.changes),await hu(i.remoteStore)}catch(a){const l=du(a,"Failed to persist write");t.reject(l)}}async function V1(n,e){const t=he(n);try{const i=await m4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(ye(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?ye(c.Ba):a.removedDocuments.size>0&&(ye(c.Ba),c.Ba=!1))}),await Fi(t,i,e)}catch(i){await Js(i)}}function pA(n,e,t){const i=he(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=he(c);m.onlineState=d;let p=!1;m.queries.forEach((_,b)=>{for(const E of b.ta)E.sa(d)&&(p=!0)}),p&&xw(m)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function J4(n,e,t){const i=he(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new ot(ue.comparator);c=c.insert(l,lt.newNoDocument(l,we.min()));const d=Ce().add(l),m=new Ah(we.min(),new Map,new ot(Re),c,d);await V1(i,m),i.$a=i.$a.remove(l),i.Ka.delete(e),Pw(i)}else await Kl(i.localStore,e,!1).then(()=>Xl(i,e,t)).catch(Js)}async function e5(n,e){const t=he(n),i=e.batch.batchId;try{const a=await d4(t.localStore,e);Ow(t,i,null),Nw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fi(t,a)}catch(a){await Js(a)}}async function t5(n,e,t){const i=he(n);try{const a=await function(c,d){const m=he(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return m.mutationQueue.lookupMutationBatch(p,d).next(b=>(ye(b!==null),_=b.keys(),m.mutationQueue.removeMutationBatch(p,b))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>m.localDocuments.getDocuments(p,_))})}(i.localStore,e);Ow(i,e,t),Nw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fi(i,a)}catch(a){await Js(a)}}async function n5(n,e){const t=he(n);na(t.remoteStore)||se(ra,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await function(c){const d=he(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(i===Bs)return void e.resolve();const a=t.Ga.get(i)||[];a.push(e),t.Ga.set(i,a)}catch(i){const a=du(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function Nw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Ow(n,e,t){const i=he(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function Xl(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||N1(n,i)})}function N1(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Ql(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Pw(n))}function a_(n,e,t){for(const i of t)i instanceof I1?(n.Ua.addReference(i.key,e),r5(n,i)):i instanceof C1?(se(ra,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||N1(n,i.key)):de()}function r5(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(se(ra,"New document in limbo: "+t),n.Qa.add(i),Pw(n))}function Pw(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ue(Me.fromString(e)),i=n.za.next();n.Ka.set(i,new $4(t)),n.$a=n.$a.insert(t,i),Nm(n.remoteStore,new Di(In(ou(t.path)),i,"TargetPurposeLimboResolution",Pn.ae))}}async function Fi(n,e,t){const i=he(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,t).then(p=>{var _;if((p||t)&&i.isPrimaryClient){const b=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(p){a.push(p);const b=ww.Yi(m.targetId,p);l.push(b)}}))}),await Promise.all(c),i.La.p_(a),await async function(m,p){const _=he(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>F.forEach(p,E=>F.forEach(E.Hi,S=>_.persistence.referenceDelegate.addReference(b,E.targetId,S)).next(()=>F.forEach(E.Ji,S=>_.persistence.referenceDelegate.removeReference(b,E.targetId,S)))))}catch(b){if(!ea(b))throw b;se(vw,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const S=_.Ts.get(E),D=S.snapshotVersion,z=S.withLastLimboFreeSnapshotVersion(D);_.Ts=_.Ts.insert(E,z)}}}(i.localStore,l))}async function i5(n,e){const t=he(n);if(!t.currentUser.isEqual(e)){se(ra,"User change. New user:",e.toKey());const i=await u1(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new re(Y.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fi(t,i.Rs)}}function s5(n,e){const t=he(n),i=t.Ka.get(e);if(i&&i.Ba)return Ce().add(i.key);{let a=Ce();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}async function a5(n,e){const t=he(n),i=await tm(t.localStore,e.query,!0),a=e.view.Oa(i);return t.isPrimaryClient&&a_(t,e.targetId,a.Ma),a}async function o5(n,e){const t=he(n);return d1(t.localStore,e).then(i=>Fi(t,i))}async function l5(n,e,t,i){const a=he(n),l=await function(d,m){const p=he(d),_=he(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Ln(b,m).next(E=>E?p.localDocuments.getDocuments(b,E):F.resolve(null)))}(a.localStore,e);l!==null?(t==="pending"?await hu(a.remoteStore):t==="acknowledged"||t==="rejected"?(Ow(a,e,i||null),Nw(a,e),function(d,m){he(he(d).mutationQueue).qn(m)}(a.localStore,e)):de(),await Fi(a,l)):se(ra,"Cannot apply mutation batch with id: "+e)}async function u5(n,e){const t=he(n);if(Om(t),Mw(t),e===!0&&t.ja!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await yA(t,i.toArray());t.ja=!0,await i_(t.remoteStore,!0);for(const l of a)Nm(t.remoteStore,l)}else if(e===!1&&t.ja!==!1){const i=[];let a=Promise.resolve();t.qa.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then(()=>(Xl(t,c),Kl(t.localStore,c,!0))),Ql(t.remoteStore,c)}),await a,await yA(t,i),function(c){const d=he(c);d.Ka.forEach((m,p)=>{Ql(d.remoteStore,p)}),d.Ua.Dr(),d.Ka=new Map,d.$a=new ot(ue.comparator)}(t),t.ja=!1,await i_(t.remoteStore,!1)}}async function yA(n,e,t){const i=he(n),a=[],l=[];for(const c of e){let d;const m=i.qa.get(c);if(m&&m.length!==0){d=await $l(i.localStore,In(m[0]));for(const p of m){const _=i.ka.get(p),b=await a5(i,_);b.snapshot&&l.push(b.snapshot)}}else{const p=await f1(i.localStore,c);d=await $l(i.localStore,p),await Vw(i,O1(p),c,!1,d.resumeToken)}a.push(d)}return i.La.p_(l),a}function O1(n){return gR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function c5(n){return function(t){return he(he(t).persistence).zi()}(he(n).localStore)}async function h5(n,e,t,i){const a=he(n);if(a.ja)return void se(ra,"Ignoring unexpected query state notification.");const l=a.qa.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await d1(a.localStore,yR(l[0])),d=Ah.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Tt.EMPTY_BYTE_STRING);await Fi(a,c,d);break}case"rejected":await Kl(a.localStore,e,!0),Xl(a,e,i);break;default:de()}}async function f5(n,e,t){const i=Om(n);if(i.ja){for(const a of e){if(i.qa.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){se(ra,"Adding an already active target "+a);continue}const l=await f1(i.localStore,a),c=await $l(i.localStore,l);await Vw(i,O1(l),c.targetId,!1,c.resumeToken),Nm(i.remoteStore,c)}for(const a of t)i.qa.has(a)&&await Kl(i.localStore,a,!1).then(()=>{Ql(i.remoteStore,a),Xl(i,a)}).catch(Js)}}function Om(n){const e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J4.bind(null,e),e.La.p_=j4.bind(null,e.eventManager),e.La.Ja=q4.bind(null,e.eventManager),e}function Mw(n){const e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t5.bind(null,e),e}function d5(n,e,t){const i=he(n);(async function(l,c,d){try{const m=await c.getMetadata();if(await function(S,D){const z=he(S),O=Ct(D.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",H=>z.Yr.getBundleMetadata(H,D.id)).then(H=>!!H&&H.createTime.compareTo(O)>=0)}(l.localStore,m))return await c.close(),d._completeWith(function(S){return{taskState:"Success",documentsLoaded:S.totalDocuments,bytesLoaded:S.totalBytes,totalDocuments:S.totalDocuments,totalBytes:S.totalBytes}}(m)),Promise.resolve(new Set);d._updateProgress(R1(m));const p=new H4(m,l.localStore,c.serializer);let _=await c.Ya();for(;_;){const E=await p.Aa(_);E&&d._updateProgress(E),_=await c.Ya()}const b=await p.complete();return await Fi(l,b.ma,void 0),await function(S,D){const z=he(S);return z.persistence.runTransaction("Save bundle","readwrite",O=>z.Yr.saveBundleMetadata(O,D))}(l.localStore,m),d._completeWith(b.progress),Promise.resolve(b.Va)}catch(m){return Zr(ra,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(i,e,t).then(a=>{i.sharedClientState.notifyBundleLoaded(a)})}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return l1(this.persistence,new o1,e.initialUser,this.serializer)}Xa(e){return new pw(Vm.ri,this.serializer)}Za(e){return new _1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class m5 extends rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ye(this.persistence.referenceDelegate instanceof em);const i=this.persistence.referenceDelegate.garbageCollector;return new t1(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new pw(i=>em.ri(i,t),this.serializer)}}class P1 extends rh{constructor(e,t,i){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await Mw(this.ru.syncEngine),await hu(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return l1(this.persistence,new o1,e.initialUser,this.serializer)}tu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new t1(i,e.asyncQueue,t)}nu(e,t){const i=new Tk(t,this.persistence);return new Ek(e.asyncQueue,i)}Xa(e){const t=_w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new yw(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,w1(),bd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new _1}}class g5 extends P1{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof wy&&(this.sharedClientState.syncEngine={uo:l5.bind(null,t),co:h5.bind(null,t),lo:f5.bind(null,t),zi:c5.bind(null,t),ao:o5.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async i=>{await u5(this.ru.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())})}Za(e){const t=w1();if(!wy.D(t))throw new re(Y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=_w(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wy(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ih{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i5.bind(null,this.syncEngine),await i_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),i=function(l){return new E4(l)}(e.databaseInfo);return function(l,c,d,m){return new R4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new C4(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>pA(this.syncEngine,t,0),function(){return uA.D()?new uA:new _4}())}createSyncEngine(e,t){return function(a,l,c,d,m,p,_){const b=new K4(a,l,c,d,m,p);return _&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=he(a);se(ho,"RemoteStore shutting down."),l.W_.add(5),await cu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ih.provider={build:()=>new ih};function _A(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):It("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new cn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(i=>{i&&i.Ea()?this.metadata.resolve(i.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Ia)}`))},i=>this.metadata.reject(i))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),i=Number(t);isNaN(i)&&this.cu(`length string (${t}) is not valid number`);const a=await this.lu(i);return new F4(JSON.parse(a),e.length+i)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new re(Y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(a,l){const c=he(a),d={documents:l.map(b=>th(c.serializer,b))},m=await c.Co("BatchGetDocuments",c.serializer.databaseId,Me.emptyPath(),d,l.length),p=new Map;m.forEach(b=>{const E=xL(c.serializer,b);p.set(E.key.toString(),E)});const _=[];return l.forEach(b=>{const E=p.get(b.toString());ye(!!E),_.push(E)}),_}(this.datastore,e);return t.forEach(i=>this.recordVersion(i)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,i)=>{const a=ue.fromPath(i);this.mutations.push(new aw(a,this.precondition(a)))}),await async function(i,a){const l=he(i),c={writes:a.map(d=>nh(l.serializer,d))};await l.So("Commit",l.serializer.databaseId,Me.emptyPath(),c)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw de();t=we.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new re(Y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(we.min())?ht.exists(!1):ht.updateTime(t):ht.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(we.min()))throw new re(Y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(t)}return ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,t,i,a,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=l,this.Tu=i.maxAttempts,this.a_=new Ew(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new y5(this.datastore),t=this.du(e);t&&t.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(a=>{this.Au(a)}))}).catch(i=>{this.Au(i)})})}du(e){try{const t=this.updateFunction(e);return!_h(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!DR(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="FirestoreClient";class w5{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=en.UNAUTHENTICATED,this.clientId=M2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{se(Xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(se(Xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=du(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function by(n,e){n.asyncQueue.verifyOperationInProgress(),se(Xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await u1(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kw(n);se(Xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>hA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>hA(e.remoteStore,a)),n._onlineComponents=e}async function kw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se(Xs,"Using user provided OfflineComponentProvider");try{await by(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Y.FAILED_PRECONDITION||a.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Zr("Error using user provided cache. Falling back to memory cache: "+t),await by(n,new rh)}}else se(Xs,"Using default OfflineComponentProvider"),await by(n,new m5(void 0));return n._offlineComponents}async function Mm(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se(Xs,"Using user provided OnlineComponentProvider"),await wA(n,n._uninitializedComponentsProvider._online)):(se(Xs,"Using default OnlineComponentProvider"),await wA(n,new ih))),n._onlineComponents}function M1(n){return kw(n).then(e=>e.persistence)}function Lw(n){return kw(n).then(e=>e.localStore)}function k1(n){return Mm(n).then(e=>e.remoteStore)}function Bw(n){return Mm(n).then(e=>e.syncEngine)}function v5(n){return Mm(n).then(e=>e.datastore)}async function Wl(n){const e=await Mm(n),t=e.eventManager;return t.onListen=Q4.bind(null,e.syncEngine),t.onUnlisten=X4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),t}function b5(n){return n.asyncQueue.enqueue(async()=>{const e=await M1(n),t=await k1(n);return e.setNetworkEnabled(!0),function(a){const l=he(a);return l.W_.delete(0),Ih(l)}(t)})}function E5(n){return n.asyncQueue.enqueue(async()=>{const e=await M1(n),t=await k1(n);return e.setNetworkEnabled(!1),async function(a){const l=he(a);l.W_.add(0),await cu(l),l.j_.set("Offline")}(t)})}function T5(n,e){const t=new cn;return n.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await function(p,_){const b=he(p);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,_))}(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new re(Y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=du(d,`Failed to get document '${l} from cache`);c.reject(m)}}(await Lw(n),e,t)),t.promise}function L1(n,e,t={}){const i=new cn;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new Pm({next:E=>{_.su(),c.enqueueAndForget(()=>Cw(l,b));const S=E.docs.has(d);!S&&E.fromCache?p.reject(new re(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?p.reject(new re(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new Dw(ou(d.path),_,{includeMetadataChanges:!0,Ta:!0});return Iw(l,b)}(await Wl(n),n.asyncQueue,e,t,i)),i.promise}function A5(n,e){const t=new cn;return n.asyncQueue.enqueueAndForget(async()=>async function(a,l,c){try{const d=await tm(a,l,!0),m=new x1(l,d.gs),p=m.ba(d.documents),_=m.applyChanges(p,!1);c.resolve(_.snapshot)}catch(d){const m=du(d,`Failed to execute query '${l} against cache`);c.reject(m)}}(await Lw(n),e,t)),t.promise}function B1(n,e,t={}){const i=new cn;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,p){const _=new Pm({next:E=>{_.su(),c.enqueueAndForget(()=>Cw(l,b)),E.fromCache&&m.source==="server"?p.reject(new re(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new Dw(d,_,{includeMetadataChanges:!0,Ta:!0});return Iw(l,b)}(await Wl(n),n.asyncQueue,e,t,i)),i.promise}function S5(n,e){const t=new Pm(e);return n.asyncQueue.enqueueAndForget(async()=>function(a,l){he(a).ia.add(l),l.next()}(await Wl(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(a,l){he(a).ia.delete(l)}(await Wl(n),t))}}function R5(n,e,t,i){const a=function(c,d){let m;return m=typeof c=="string"?NR().encode(c):c,function(_,b){return new p5(_,b)}(function(_,b){if(_ instanceof Uint8Array)return _A(_,b);if(_ instanceof ArrayBuffer)return _A(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),d)}(t,Rh(e));n.asyncQueue.enqueueAndForget(async()=>{d5(await Bw(n),a,i)})}function I5(n,e){return n.asyncQueue.enqueue(async()=>function(i,a){const l=he(i);return l.persistence.runTransaction("Get named query","readonly",c=>l.Yr.getNamedQuery(c,a))}(await Lw(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n,e,t){if(!t)throw new re(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function z1(n,e,t,i){if(e===!0&&i===!0)throw new re(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bA(n){if(!ue.isDocumentKey(n))throw new re(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EA(n){if(ue.isDocumentKey(n))throw new re(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function km(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":de()}function Ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=km(n);throw new re(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function j1(n,e){if(e<=0)throw new re(Y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firestore.googleapis.com",TA=!0;class AA{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new re(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q1,this.ssl=TA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:TA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QL)throw new re(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new re(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AA(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fk;switch(i.type){case"firstParty":return new pk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new re(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=vA.get(t);i&&(se("ComponentProvider","Removing Datastore"),vA.delete(t),i.terminate())}(this),Promise.resolve()}}function F1(n,e,t,i={}){var a;const l=(n=Ye(n,Ch))._getSettings(),c=`${e}:${t}`;if(l.host!==q1&&l.host!==c&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=en.MOCK_USER;else{d=OP(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new re(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new en(p)}n._authCredentials=new dk(new P2(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xn=class H1{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new H1(this.firestore,e,this._query)}},yt=class G1{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new G1(this.firestore,e,this._key)}},Us=class $1 extends xn{constructor(e,t,i){super(e,t,ou(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ue(e))}withConverter(e){return new $1(this.firestore,e,this._path)}};function zw(n,e,...t){if(n=Lt(n),Uw("collection","path",e),n instanceof Ch){const i=Me.fromString(e,...t);return EA(i),new Us(n,null,i)}{if(!(n instanceof yt||n instanceof Us))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Me.fromString(e,...t));return EA(i),new Us(n.firestore,null,i)}}function C5(n,e){if(n=Ye(n,Ch),Uw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(Y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xn(n,null,function(i){return new zi(Me.emptyPath(),i)}(e))}function sm(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=M2.newId()),Uw("doc","path",e),n instanceof Ch){const i=Me.fromString(e,...t);return bA(i),new yt(n,null,new ue(i))}{if(!(n instanceof yt||n instanceof Us))throw new re(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Me.fromString(e,...t));return bA(i),new yt(n.firestore,n instanceof Us?n.converter:null,new ue(i))}}function K1(n,e){return n=Lt(n),e=Lt(e),(n instanceof yt||n instanceof Us)&&(e instanceof yt||e instanceof Us)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Q1(n,e){return n=Lt(n),e=Lt(e),n instanceof xn&&e instanceof xn&&n.firestore===e.firestore&&bh(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="AsyncQueue";class RA{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Ew(this,"async_queue_retry"),this.Su=()=>{const i=bd();i&&se(SA,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=bd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=bd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new cn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ea(e))throw e;se(SA,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw It("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Rw.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&de()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function o_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class x5{constructor(){this._progressObserver={},this._taskCompletionResolver=new cn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=-1;let xt=class extends Ch{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new RA,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RA(e),this._firestoreClient=void 0,await e}}};function V5(n,e){const t=typeof n=="object"?n:E2(),i=typeof n=="string"?n:Kd,a=q_(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=VP("firestore");l&&F1(a,...l)}return a}function _n(n){if(n._terminated)throw new re(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y1(n),n._firestoreClient}function Y1(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,p,_){return new Zk(d,m,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,U1(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new w5(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}function N5(n,e){Zr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return X1(n,ih.provider,{build:i=>new P1(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function O5(n){Zr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();X1(n,ih.provider,{build:t=>new g5(t,e.cacheSizeBytes)})}function X1(n,e,t){if((n=Ye(n,xt))._firestoreClient||n._terminated)throw new re(Y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new re(Y.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},Y1(n)}function P5(n){if(n._initialized&&!n._terminated)throw new re(Y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(i){if(!Yr.D())return Promise.resolve();const a=i+a1;await Yr.delete(a)}(_w(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function M5(n){return function(t){const i=new cn;return t.asyncQueue.enqueueAndForget(async()=>n5(await Bw(t),i)),i.promise}(_n(n=Ye(n,xt)))}function k5(n){return b5(_n(n=Ye(n,xt)))}function L5(n){return E5(_n(n=Ye(n,xt)))}function B5(n,e){const t=_n(n=Ye(n,xt)),i=new x5;return R5(t,n._databaseId,e,i),i}function U5(n,e){return I5(_n(n=Ye(n,xt)),e).then(t=>t?new xn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Tt.fromBase64String(e))}catch(t){throw new re(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ei(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ws=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=/^__.*__$/;class j5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class W1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Z1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Bm{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return am(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Z1(this.Lu)&&z5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class q5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rh(e)}ju(e,t,i,a=!1){return new Bm({Lu:e,methodName:t,zu:i,path:ct.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _o(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new q5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Um(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Qw("Data must be an object, but it was:",c,i);const d=tI(i,c);let m,p;if(l.merge)m=new Mn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const b of l.mergeFields){const E=l_(e,b,t);if(!c.contains(E))throw new re(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rI(_,E)||_.push(E)}m=new Mn(_),p=c.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,p=c.fieldTransforms;return new j5(new un(d),m,p)}class xh extends yo{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}function J1(n,e,t){return new Bm({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qw extends yo{_toFieldTransform(e){return new Th(e.path,new Fl)}isEqual(e){return e instanceof qw}}class Fw extends yo{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=J1(this,e,!0),i=this.Hu.map(l=>wo(l,t)),a=new ao(i);return new Th(e.path,a)}isEqual(e){return e instanceof Fw&&Fc(this.Hu,e.Hu)}}class Hw extends yo{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=J1(this,e,!0),i=this.Hu.map(l=>wo(l,t)),a=new oo(i);return new Th(e.path,a)}isEqual(e){return e instanceof Hw&&Fc(this.Hu,e.Hu)}}class Gw extends yo{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Hl(e.serializer,TR(e.serializer,this.Ju));return new Th(e.path,t)}isEqual(e){return e instanceof Gw&&this.Ju===e.Ju}}function $w(n,e,t,i){const a=n.ju(1,e,t);Qw("Data must be an object, but it was:",a,i);const l=[],c=un.empty();ta(i,(m,p)=>{const _=Yw(e,m,t);p=Lt(p);const b=a.Ku(_);if(p instanceof xh)l.push(_);else{const E=wo(p,b);E!=null&&(l.push(_),c.set(_,E))}});const d=new Mn(l);return new W1(c,d,a.fieldTransforms)}function Kw(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[l_(e,i,t)],m=[a];if(l.length%2!=0)throw new re(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(l_(e,l[E])),m.push(l[E+1]);const p=[],_=un.empty();for(let E=d.length-1;E>=0;--E)if(!rI(p,d[E])){const S=d[E];let D=m[E];D=Lt(D);const z=c.Ku(S);if(D instanceof xh)p.push(S);else{const O=wo(D,z);O!=null&&(p.push(S),_.set(S,O))}}const b=new Mn(p);return new W1(_,b,c.fieldTransforms)}function eI(n,e,t,i=!1){return wo(t,n.ju(i?4:3,e))}function wo(n,e){if(nI(n=Lt(n)))return Qw("Unsupported field value:",e,n),tI(n,e);if(n instanceof yo)return function(i,a){if(!Z1(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=wo(d,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TR(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:Gl(a.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,l)}}if(i instanceof Lm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ei)return{bytesValue:MR(a.serializer,i._byteString)};if(i instanceof yt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hw(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof jw)return function(c,d){return{mapValue:{fields:{[ew]:{stringValue:tw},[zl]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return sw(d.serializer,p)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${km(i)}`)}(n,e)}function tI(n,e){const t={};return Z2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(n,(i,a)=>{const l=wo(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function nI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof dt||n instanceof Lm||n instanceof ei||n instanceof yt||n instanceof yo||n instanceof jw)}function Qw(n,e,t){if(!nI(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=km(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function l_(n,e,t){if((e=Lt(e))instanceof Ws)return e._internalPath;if(typeof e=="string")return Yw(n,e);throw am("Field path arguments must be of type string or ",n,!1,void 0,t)}const F5=new RegExp("[~\\*/\\[\\]]");function Yw(n,e,t){if(e.search(F5)>=0)throw am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ws(...e.split("."))._internalPath}catch{throw am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function am(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new re(Y.INVALID_ARGUMENT,d+n+m)}function rI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class H5 extends sh{data(){return super.data()}}function zm(n,e){return typeof e=="string"?Yw(n,e):e instanceof Ws?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new re(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{}class Dh extends Xw{}function Ds(n,e,...t){let i=[];e instanceof Xw&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof Ww).length,d=l.filter(m=>m instanceof jm).length;if(c>1||c>0&&d>0)throw new re(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class jm extends Dh{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new jm(e,t,i)}_apply(e){const t=this._parse(e);return aI(e._query,t),new xn(e.firestore,e.converter,Qy(e._query,t))}_parse(e){const t=_o(e.firestore);return function(l,c,d,m,p,_,b){let E;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new re(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){CA(b,_);const D=[];for(const z of b)D.push(IA(m,l,z));E={arrayValue:{values:D}}}else E=IA(m,l,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||CA(b,_),E=eI(d,c,b,_==="in"||_==="not-in");return ke.create(p,_,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function G5(n,e,t){const i=e,a=zm("where",n);return jm._create(a,i,t)}class Ww extends Xw{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ww(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Je.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)aI(c,m),c=Qy(c,m)}(e._query,t),new xn(e.firestore,e.converter,Qy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zw extends Dh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zw(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new re(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eh(l,c)}(e._query,this._field,this._direction);return new xn(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new zi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function $5(n,e="asc"){const t=e,i=zm("orderBy",n);return Zw._create(i,t)}class qm extends Dh{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new qm(e,t,i)}_apply(e){return new xn(e.firestore,e.converter,Xd(e._query,this._limit,this._limitType))}}function K5(n){return j1("limit",n),qm._create("limit",n,"F")}function Q5(n){return j1("limitToLast",n),qm._create("limitToLast",n,"L")}class Fm extends Dh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Fm(e,t,i)}_apply(e){const t=sI(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,function(a,l){return new zi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)}(e._query,t))}}function Y5(...n){return Fm._create("startAt",n,!0)}function X5(...n){return Fm._create("startAfter",n,!1)}class Hm extends Dh{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hm(e,t,i)}_apply(e){const t=sI(e,this.type,this._docOrFields,this._inclusive);return new xn(e.firestore,e.converter,function(a,l){return new zi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)}(e._query,t))}}function W5(...n){return Hm._create("endBefore",n,!1)}function Z5(...n){return Hm._create("endAt",n,!0)}function sI(n,e,t,i){if(t[0]=Lt(t[0]),t[0]instanceof sh)return function(l,c,d,m,p){if(!m)throw new re(Y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const b of Sl(l))if(b.field.isKeyField())_.push(io(c,m.key));else{const E=m.data.field(b.field);if(Am(E))throw new re(Y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const S=b.field.canonicalString();throw new re(Y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}_.push(E)}return new Qs(_,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const a=_o(n.firestore);return function(c,d,m,p,_,b){const E=c.explicitOrderBy;if(_.length>E.length)throw new re(Y.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let D=0;D<_.length;D++){const z=_[D];if(E[D].field.isKeyField()){if(typeof z!="string")throw new re(Y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof z}`);if(!rw(c)&&z.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${z}' contains a slash.`);const O=c.path.child(Me.fromString(z));if(!ue.isDocumentKey(O))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const H=new ue(O);S.push(io(d,H))}else{const O=eI(m,p,z);S.push(O)}}return new Qs(S,b)}(n._query,n.firestore._databaseId,a,e,t,i)}}function IA(n,e,t){if(typeof(t=Lt(t))=="string"){if(t==="")throw new re(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(e)&&t.indexOf("/")!==-1)throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Me.fromString(t));if(!ue.isDocumentKey(i))throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return io(n,new ue(i))}if(t instanceof yt)return io(n,t._key);throw new re(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(t)}.`)}function CA(n,e){if(!Array.isArray(n)||n.length===0)throw new re(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aI(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Jw{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ta(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[zl].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>ut(c.doubleValue));return new jw(l)}convertGeoPoint(e){return new Lm(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Sm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const t=Li(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Me.fromString(e);ye($R(i));const a=new Gs(i.get(1),i.get(3)),l=new ue(i.popFirst(5));return a.isEqual(t)||It(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class J5 extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ui=class extends sh{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Uc=class extends Ui{data(e={}){return super.data(e)}},Zs=class{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ya(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Uc(this._firestore,this._userDataWriter,i.key,i,new Ya(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Uc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Uc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ya(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:eB(d.type),doc:m,oldIndex:p,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}function oI(n,e){return n instanceof Ui&&e instanceof Ui?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zs&&e instanceof Zs&&n._firestore===e._firestore&&Q1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(n){n=Ye(n,yt);const e=Ye(n.firestore,xt);return L1(_n(e),n._key).then(t=>ev(e,n,t))}class vo extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function nB(n){n=Ye(n,yt);const e=Ye(n.firestore,xt),t=_n(e),i=new vo(e);return T5(t,n._key).then(a=>new Ui(e,i,n._key,a,new Ya(a!==null&&a.hasLocalMutations,!0),n.converter))}function rB(n){n=Ye(n,yt);const e=Ye(n.firestore,xt);return L1(_n(e),n._key,{source:"server"}).then(t=>ev(e,n,t))}function iB(n){n=Ye(n,xn);const e=Ye(n.firestore,xt),t=_n(e),i=new vo(e);return iI(n._query),B1(t,n._query).then(a=>new Zs(e,i,n,a))}function sB(n){n=Ye(n,xn);const e=Ye(n.firestore,xt),t=_n(e),i=new vo(e);return A5(t,n._query).then(a=>new Zs(e,i,n,a))}function aB(n){n=Ye(n,xn);const e=Ye(n.firestore,xt),t=_n(e),i=new vo(e);return B1(t,n._query,{source:"server"}).then(a=>new Zs(e,i,n,a))}function xA(n,e,t){n=Ye(n,yt);const i=Ye(n.firestore,xt),a=Gm(n.converter,e,t);return Vh(i,[Um(_o(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ht.none())])}function DA(n,e,t,...i){n=Ye(n,yt);const a=Ye(n.firestore,xt),l=_o(a);let c;return c=typeof(e=Lt(e))=="string"||e instanceof Ws?Kw(l,"updateDoc",n._key,e,t,i):$w(l,"updateDoc",n._key,e),Vh(a,[c.toMutation(n._key,ht.exists(!0))])}function oB(n){return Vh(Ye(n.firestore,xt),[new uu(n._key,ht.none())])}function lI(n,e){const t=Ye(n.firestore,xt),i=sm(n),a=Gm(n.converter,e);return Vh(t,[Um(_o(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ht.exists(!1))]).then(()=>i)}function uI(n,...e){var t,i,a;n=Lt(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||o_(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(o_(e[c])){const b=e[c];e[c]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[c+1]=(i=b.error)===null||i===void 0?void 0:i.bind(b),e[c+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let m,p,_;if(n instanceof yt)p=Ye(n.firestore,xt),_=ou(n._key.path),m={next:b=>{e[c]&&e[c](ev(p,n,b))},error:e[c+1],complete:e[c+2]};else{const b=Ye(n,xn);p=Ye(b.firestore,xt),_=b._query;const E=new vo(p);m={next:S=>{e[c]&&e[c](new Zs(p,E,b,S))},error:e[c+1],complete:e[c+2]},iI(n._query)}return function(E,S,D,z){const O=new Pm(z),H=new Dw(S,O,D);return E.asyncQueue.enqueueAndForget(async()=>Iw(await Wl(E),H)),()=>{O.su(),E.asyncQueue.enqueueAndForget(async()=>Cw(await Wl(E),H))}}(_n(p),_,d,m)}function lB(n,e){return S5(_n(n=Ye(n,xt)),o_(e)?e:{next:e})}function Vh(n,e){return function(i,a){const l=new cn;return i.asyncQueue.enqueueAndForget(async()=>Z4(await Bw(i),a,l)),l.promise}(_n(n),e)}function ev(n,e,t){const i=t.docs.get(e._key),a=new vo(n);return new Ui(n,a,e._key,i,new Ya(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cB=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_o(e)}set(e,t,i){this._verifyNotCommitted();const a=Ms(e,this._firestore),l=Gm(a.converter,t,i),c=Um(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,ht.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Ms(e,this._firestore);let c;return c=typeof(t=Lt(t))=="string"||t instanceof Ws?Kw(this._dataReader,"WriteBatch.update",l._key,t,i,a):$w(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ms(e,this._firestore);return this._mutations=this._mutations.concat(new uu(t._key,ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ms(n,e){if((n=Lt(n)).firestore!==e)throw new re(Y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_o(e)}get(e){const t=Ms(e,this._firestore),i=new J5(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||a.length!==1)return de();const l=a[0];if(l.isFoundDocument())return new sh(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new sh(this._firestore,i,t._key,null,t.converter);throw de()})}set(e,t,i){const a=Ms(e,this._firestore),l=Gm(a.converter,t,i),c=Um(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(e,t,i,...a){const l=Ms(e,this._firestore);let c;return c=typeof(t=Lt(t))=="string"||t instanceof Ws?Kw(this._dataReader,"Transaction.update",l._key,t,i,a):$w(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Ms(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fB=class extends hB{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ms(e,this._firestore),i=new vo(this._firestore);return super.get(e).then(a=>new Ui(this._firestore,i,t._key,a._document,new Ya(!1,!1),t.converter))}};function dB(n,e,t){n=Ye(n,xt);const i=Object.assign(Object.assign({},uB),t);return function(l){if(l.maxAttempts<1)throw new re(Y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(l,c,d){const m=new cn;return l.asyncQueue.enqueueAndForget(async()=>{const p=await v5(l);new _5(l.asyncQueue,p,d,c,m).Iu()}),m.promise}(_n(n),a=>e(new fB(n,a)),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(){return new xh("deleteField")}function gB(){return new qw("serverTimestamp")}function pB(...n){return new Fw("arrayUnion",n)}function yB(...n){return new Hw("arrayRemove",n)}function _B(n){return new Gw("increment",n)}(function(e,t=!0){(function(a){au=a})(F_),Ol(new ro("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new xt(new mk(i.getProvider("auth-internal")),new yk(c,i.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new re(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(p.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Pi(l0,u0,e),Pi(l0,u0,"esm2017")})();const wB="@firebase/firestore-compat",vB="0.3.43";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function NA(){if(!Xk())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ah{constructor(e){this._delegate=e}static fromBase64String(e){return NA(),new ah(ei.fromBase64String(e))}static fromUint8Array(e){return VA(),new ah(ei.fromUint8Array(e))}toBase64(){return NA(),this._delegate.toBase64()}toUint8Array(){return VA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n){return bB(n,["next","error","complete"])}function bB(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{enableIndexedDbPersistence(e,t){return N5(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return O5(e._delegate)}clearIndexedDbPersistence(e){return P5(e._delegate)}}class cI{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Gs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){F1(this._delegate,e,t,i)}enableNetwork(){return k5(this._delegate)}disableNetwork(){return L5(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,z1("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return M5(this._delegate)}onSnapshotsInSync(e){return lB(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Zl(this,zw(this._delegate,e))}catch(t){throw Rn(t,"collection()","Firestore.collection()")}}doc(e){try{return new gr(this,sm(this._delegate,e))}catch(t){throw Rn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Sn(this,C5(this._delegate,e))}catch(t){throw Rn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return dB(this._delegate,t=>e(new hI(this,t)))}batch(){return _n(this._delegate),new fI(new cB(this._delegate,e=>Vh(this._delegate,e)))}loadBundle(e){return B5(this._delegate,e)}namedQuery(e){return U5(this._delegate,e).then(t=>t?new Sn(this,t):null)}}class $m extends Jw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ah(new ei(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gr.forKey(t,this.firestore,null)}}function TB(n){ck(n)}class hI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}get(e){const t=Xa(e);return this._delegate.get(t).then(i=>new oh(this._firestore,new Ui(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const a=Xa(e);return i?(tv("Transaction.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const l=Xa(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,i,...a),this}delete(e){const t=Xa(e);return this._delegate.delete(t),this}}class fI{constructor(e){this._delegate=e}set(e,t,i){const a=Xa(e);return i?(tv("WriteBatch.set",i),this._delegate.set(a,t,i)):this._delegate.set(a,t),this}update(e,t,i,...a){const l=Xa(e);return arguments.length===2?this._delegate.update(l,t):this._delegate.update(l,t,i,...a),this}delete(e){const t=Xa(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class fo{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Uc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lh(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=fo.INSTANCES;let a=i.get(e);a||(a=new WeakMap,i.set(e,a));let l=a.get(t);return l||(l=new fo(e,new $m(e),t),a.set(t,l)),l}}fo.INSTANCES=new WeakMap;class gr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}static forPath(e,t,i){if(e.length%2!==0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gr(t,new yt(t._delegate,i,new ue(e)))}static forKey(e,t,i){return new gr(t,new yt(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Zl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Zl(this.firestore,zw(this._delegate,e))}catch(t){throw Rn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Lt(e),e instanceof yt?K1(this._delegate,e):!1}set(e,t){t=tv("DocumentReference.set",t);try{return t?xA(this._delegate,e,t):xA(this._delegate,e)}catch(i){throw Rn(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?DA(this._delegate,e):DA(this._delegate,e,t,...i)}catch(a){throw Rn(a,"updateDoc()","DocumentReference.update()")}}delete(){return oB(this._delegate)}onSnapshot(...e){const t=dI(e),i=mI(e,a=>new oh(this.firestore,new Ui(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return uI(this._delegate,t,i)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=nB(this._delegate):(e==null?void 0:e.source)==="server"?t=rB(this._delegate):t=tB(this._delegate),t.then(i=>new oh(this.firestore,new Ui(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new gr(this.firestore,e?this._delegate.withConverter(fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rn(n,e,t){return n.message=n.message.replace(e,t),n}function dI(n){for(const e of n)if(typeof e=="object"&&!u_(e))return e;return{}}function mI(n,e){var t,i;let a;return u_(n[0])?a=n[0]:u_(n[1])?a=n[1]:typeof n[0]=="function"?a={next:n[0],error:n[1],complete:n[2]}:a={next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:(t=a.error)===null||t===void 0?void 0:t.bind(a),complete:(i=a.complete)===null||i===void 0?void 0:i.bind(a)}}class oh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oI(this._delegate,e._delegate)}}class lh extends oh{data(e){const t=this._delegate.data(e);return this._delegate._converter||hk(t!==void 0),t}}class Sn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $m(e)}where(e,t,i){try{return new Sn(this.firestore,Ds(this._delegate,G5(e,t,i)))}catch(a){throw Rn(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Sn(this.firestore,Ds(this._delegate,$5(e,t)))}catch(i){throw Rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Sn(this.firestore,Ds(this._delegate,K5(e)))}catch(t){throw Rn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Sn(this.firestore,Ds(this._delegate,Q5(e)))}catch(t){throw Rn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Sn(this.firestore,Ds(this._delegate,Y5(...e)))}catch(t){throw Rn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Sn(this.firestore,Ds(this._delegate,X5(...e)))}catch(t){throw Rn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Sn(this.firestore,Ds(this._delegate,W5(...e)))}catch(t){throw Rn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Sn(this.firestore,Ds(this._delegate,Z5(...e)))}catch(t){throw Rn(t,"endAt()","Query.endAt()")}}isEqual(e){return Q1(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=sB(this._delegate):(e==null?void 0:e.source)==="server"?t=aB(this._delegate):t=iB(this._delegate),t.then(i=>new c_(this.firestore,new Zs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=dI(e),i=mI(e,a=>new c_(this.firestore,new Zs(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return uI(this._delegate,t,i)}withConverter(e){return new Sn(this.firestore,e?this._delegate.withConverter(fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class AB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class c_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Sn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new AB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new lh(this._firestore,i))})}isEqual(e){return oI(this._delegate,e._delegate)}}class Zl extends Sn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gr(this.firestore,e):null}doc(e){try{return e===void 0?new gr(this.firestore,sm(this._delegate)):new gr(this.firestore,sm(this._delegate,e))}catch(t){throw Rn(t,"doc()","CollectionReference.doc()")}}add(e){return lI(this._delegate,e).then(t=>new gr(this.firestore,t))}isEqual(e){return K1(this._delegate,e._delegate)}withConverter(e){return new Zl(this.firestore,e?this._delegate.withConverter(fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Xa(n){return Ye(n,yt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(...e){this._delegate=new Ws(...e)}static documentId(){return new nv(ct.keyField().canonicalString())}isEqual(e){return e=Lt(e),e instanceof Ws?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static serverTimestamp(){const e=gB();return e._methodName="FieldValue.serverTimestamp",new Ka(e)}static delete(){const e=mB();return e._methodName="FieldValue.delete",new Ka(e)}static arrayUnion(...e){const t=pB(...e);return t._methodName="FieldValue.arrayUnion",new Ka(t)}static arrayRemove(...e){const t=yB(...e);return t._methodName="FieldValue.arrayRemove",new Ka(t)}static increment(e){const t=_B(e);return t._methodName="FieldValue.increment",new Ka(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={Firestore:cI,GeoPoint:Lm,Timestamp:dt,Blob:ah,Transaction:hI,WriteBatch:fI,DocumentReference:gr,DocumentSnapshot:oh,Query:Sn,QueryDocumentSnapshot:lh,QuerySnapshot:c_,CollectionReference:Zl,FieldPath:nv,FieldValue:Ka,setLogLevel:TB,CACHE_SIZE_UNLIMITED:D5};function RB(n,e){n.INTERNAL.registerComponent(new ro("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(i,a)},"PUBLIC").setServiceProps(Object.assign({},SB)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(n){RB(n,(e,t)=>new cI(e,t,new EB)),n.registerVersion(wB,vB)}IB($_);const CB=$_.initializeApp({apiKey:"AIzaSyB2F4R4KkxUwb4GFKs7twRhiHS5i-i51D4",authDomain:"scopic-73416.firebaseapp.com",projectId:"scopic-73416",storageBucket:"scopic-73416.appspot.com",messagingSenderId:"475263107333",appId:"1:475263107333:web:27180a036864e16618376c"}),xB=V5(CB),gI=()=>{const{users:n,editMode:e}=Ty(_=>_.usersSlice),t=kA();return{dataUsersGet:async(_=0,b=8)=>{},deleteUser:async _=>{let E=JSON.parse(localStorage.UsersArray).filter(S=>S.uid!==_.uid);localStorage.UsersArray=JSON.stringify(E),t(ka({usuarios:JSON.parse(localStorage.UsersArray)})),t(IV(["Taller fue Borrado",_.colonia+" ya no existe ","success"]))},postUser:async({nombre:_,correo:b,telefono:E,ren:S=!1})=>{const D=zw(xB,"caza");lI(D,{nombre:_,correo:b,telefono:E,idDate:Date.now(),ren:S}).then(z=>{console.log(z)}).catch(z=>{console.log("caza -=-=-=-=-=-= Error"),console.log(z)})},setInfoToForm:_=>{t(TV(_))},newDataEdit:async(_,b,E,S,D,z,O,H,Z)=>{let ae=JSON.parse(localStorage.UsersArray).map(ne=>ne.uid===Z?{...e,lugar:_,calle:b,colonia:E,dia:S,hora:D,informes:z,fechaDeInicio:O,para:H}:ne);localStorage.UsersArray=JSON.stringify(ae),t(ka({usuarios:JSON.parse(localStorage.UsersArray)})),t(MT())},defaultModeEdith:()=>{t(MT())},usersFinder:async(_,b)=>{if(b==="colonia")if(_.length>3){const{upFirstLe:E,upperCase:S,lowerCase:D}=ly(_,b);t(ka({usuarios:[...E,...S,...D]}))}else t(ka({usuarios:JSON.parse(localStorage.UsersArray)}));else if(b==="Jovenes"||b==="Matrimonios"){const{upFirstLe:E}=ly(_,b);t(ka({usuarios:E}))}else if(_.length>3){const{upFirstLe:E,upperCase:S,lowerCase:D}=ly(_);t(ka({usuarios:[...E,...S,...D]}))}else t(ka({usuarios:JSON.parse(localStorage.UsersArray)}))},editMode:e,users:n}},DB=()=>{let n=ni();console.log(n);const{dataUsersGet:e,users:t,deleteUser:i,postUser:a,switchUser:l,setInfoToForm:c,editMode:d,newDataEdit:m,defaultModeEdith:p,uploadUserImg:_,usersFinder:b,paginationSelect:E,paginationNext:S}=gI(),[D,z]=Q.useState({cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,examenToxicologico:!1,certificadoMedico:!1}),[O,H]=Q.useState(!1);localStorage.reqRen===void 0&&(localStorage.reqRen=JSON.stringify(D));const Z=x=>{z({...D,[x.target.name]:x.target.checked});let P=JSON.parse(localStorage.reqRen);P[x.target.name]=x.target.checked,localStorage.reqRen=JSON.stringify(P)};Object.values(JSON.parse(localStorage.reqRen)).filter(x=>x===!1).length===0&&O===!1&&(H(!0),window.scrollTo({top:0}));const[$,ae]=Q.useState(!0),[ne,ce]=Q.useState(!0),[N,I]=Q.useState(""),R=x=>{ae(!$),I(x)};return B.jsxs("div",{children:[B.jsx("br",{}),B.jsxs("fieldset",{children:[B.jsx("legend",{style:{backgroundColor:"rgba(90,153,188)"},children:"Documentación para Renovaciones"}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"comprobanteDeDomicilio",name:"comprobanteDeDomicilio",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).comprobanteDeDomicilio}),B.jsx("label",{htmlFor:"comprobanteDeDomicilio",children:"comprobante de domicilio reciente"}),B.jsx("button",{onClick:()=>R("comprobante de Domicilio Reciente, Domicilio donde Manifieste las Armas, Domicilio a Nombre de Socio ó En su defecto Carta de Residencia en Municipio"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"cartaNoAntecedentes",name:"cartaNoAntecedentes",onChange:Z,checked:!!JSON.parse(localStorage.req).cartaNoAntecedentes}),B.jsx("label",{htmlFor:"cartaNoAntecedentes",children:"carta no antecedentes penales Federal"}),B.jsx("button",{onClick:()=>{ce(!ne),window.scrollTo(0,0)},children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"cartaDeTrabajo",name:"cartaDeTrabajo",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).cartaDeTrabajo}),B.jsx("label",{htmlFor:"cartaDeTrabajo",children:"carta de trabajo"}),B.jsx("button",{onClick:()=>R("Carta de Trabajo. Especificaciones: Hoja Membreteada, Logo de la Empresa con Dirección y Telefono Dirigida al Secretario de la Defensa Personal ó a Quien corresponda. con Carácter, Nombre, Antigüedad de Trabajo puesto que Desempeña en la Empresa, Conducto observada, Monto Mensual en Numeros y Letras,  Firma con Nombre Completo y puesto que Desempeña o Carta de Modo Honesto de Vivir, en Municipio para Empresarios"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"antidopin",name:"antidopin",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).antidopin}),B.jsx("label",{htmlFor:"antidopin",children:"Antidoping"}),B.jsx("button",{onClick:()=>R("Labaratorio Particular ó por medio de oficina del club"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"examenToxicologico",name:"examenToxicologico",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).examenToxicologico}),B.jsx("label",{htmlFor:"examenToxicologico",children:"Examen Toxicologico"}),B.jsx("button",{onClick:()=>R("Examen Toxicologico emitido por un Doctor, Espicificaciones:"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"certificadoMedico",name:"certificadoMedico",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).certificadoMedico}),B.jsx("label",{htmlFor:"certificadoMedico",children:"certificado medico "}),B.jsx("button",{onClick:()=>R("certificado medico pdf"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"certPsicologico",name:"certPsicologico",onChange:Z,checked:!!JSON.parse(localStorage.reqRen).certPsicologico}),B.jsx("label",{htmlFor:"certPsicologico",children:"Cita para Certificado psicologico "}),B.jsx("button",{onClick:()=>R("en oficina martes 11:30 con cita - da click en el boton de agendar cita"),children:"Detalles..."})]})]}),B.jsxs("modal",{className:$?"detalles outModal":"detalles inModal ",children:[B.jsx("button",{className:"btnCerrarModal",onClick:()=>ae(!$),children:"⇦ Regresar"}),B.jsx("div",{className:"detallesContent",children:N})]}),B.jsxs("modal",{className:ne?"outModal":"inModal ",children:[B.jsx("button",{className:"btnCerrarModal",onClick:()=>ce(!ne),children:"⇦ Regresar "}),B.jsxs("div",{className:"detallesContent",children:[B.jsx("p",{children:"Tramitar carta no antecedentes penales Federal mediante pagina oficial"}),B.jsx("a",{style:{color:"steelblue"},href:"https://www.gob.mx/prevencionyreinsercion",target:"_blanck",children:"link ↗"})]})]}),B.jsx("div",{className:O?"":"d-none",children:B.jsx(s2,{postUser:a,setFormContact:H,location:n})}),B.jsx("div",{className:"Agendar",children:B.jsx("button",{className:"button",onClick:()=>{H(!0),window.scrollTo({top:0})},children:" Agendar Examen Psicologico "})})]})},VB="https://xipeRafa.github.io/cdctypmazo/assets/requisitos-DAimsR_v.webp",NB=()=>{const{dataUsersGet:n,users:e,deleteUser:t,postUser:i,switchUser:a,setInfoToForm:l,editMode:c,newDataEdit:d,defaultModeEdith:m,uploadUserImg:p,usersFinder:_,paginationSelect:b,paginationNext:E}=gI(),[S,D]=Q.useState({cartillaMilitar:!1,cartaNoAntecedentes:!1,certPsicologico:!1,cartaDeTrabajo:!1,comprobanteDeDomicilio:!1,antidopin:!1,examenToxicologico:!1,certificadoMedico:!1,ine:!1,fotos:!1,registrosDeArmas:!1}),[z,O]=Q.useState(!1);localStorage.req===void 0&&(localStorage.req=JSON.stringify(S));const H=P=>{D({...S,[P.target.name]:P.target.checked});let j=JSON.parse(localStorage.req);j[P.target.name]=P.target.checked,localStorage.req=JSON.stringify(j)};Object.values(JSON.parse(localStorage.req)).filter(P=>P===!1).length===0&&z===!1&&(O(!0),window.scrollTo({top:0}));const[Z,$]=Q.useState(!0),[ae,ne]=Q.useState(!0),[ce,N]=Q.useState(!0),[I,R]=Q.useState(""),x=P=>{$(!Z),R(P)};return B.jsxs("div",{children:[B.jsx("br",{}),B.jsxs("fieldset",{children:[B.jsx("legend",{children:"Requisitos Documentación para Inscripciones"}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"comprobanteDeDomicilio",name:"comprobanteDeDomicilio",onChange:H,checked:!!JSON.parse(localStorage.req).comprobanteDeDomicilio}),B.jsx("label",{htmlFor:"comprobanteDeDomicilio",children:"comprobante de domicilio reciente"}),B.jsx("button",{onClick:()=>x("comprobante de Domicilio Reciente, Domicilio donde Manifieste las Armas, Domicilio a Nombre de Socio ó En su defecto Carta de Residencia en Municipio"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"cartaNoAntecedentes",name:"cartaNoAntecedentes",onChange:H,checked:!!JSON.parse(localStorage.req).cartaNoAntecedentes}),B.jsx("label",{htmlFor:"cartaNoAntecedentes",children:"carta no antecedentes penales Federal"}),B.jsx("button",{onClick:()=>{ne(!ae),window.scrollTo(0,0)},children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"cartillaMilitar",name:"cartillaMilitar",onChange:H,checked:!!JSON.parse(localStorage.req).cartillaMilitar}),B.jsx("label",{htmlFor:"cartillaMilitar",children:"cartilla militar liberada o excepción"}),B.jsx("button",{onClick:()=>{N(!ce),window.scrollTo(0,0)},children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"cartaDeTrabajo",name:"cartaDeTrabajo",onChange:H,checked:!!JSON.parse(localStorage.req).cartaDeTrabajo}),B.jsx("label",{htmlFor:"cartaDeTrabajo",children:"carta de trabajo"}),B.jsx("button",{onClick:()=>x("Carta de Trabajo. Especificaciones: Hoja Membreteada, Logo de la Empresa con Dirección y Telefono Dirigida al Secretario de la Defensa Personal ó a Quien corresponda. con Carácter, Nombre, Antigüedad de Trabajo puesto que Desempeña en la Empresa, Conducto observada, Monto Mensual en Numeros y Letras,  Firma con Nombre Completo y puesto que Desempeña o Carta de Modo Honesto de Vivir, en Municipio para Empresarios"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"antidopin",name:"antidopin",onChange:H,checked:!!JSON.parse(localStorage.req).antidopin}),B.jsx("label",{htmlFor:"antidopin",children:"Antidoping"}),B.jsx("button",{onClick:()=>x("Labaratorio Particular ó por medio de oficina del club"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"examenToxicologico",name:"examenToxicologico",onChange:H,checked:!!JSON.parse(localStorage.req).examenToxicologico}),B.jsx("label",{htmlFor:"examenToxicologico",children:"Examen Toxicologico"}),B.jsx("button",{onClick:()=>x("Examen Toxicologico emitido por un Doctor, Espicificaciones:"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"certificadoMedico",name:"certificadoMedico",onChange:H,checked:!!JSON.parse(localStorage.req).certificadoMedico}),B.jsx("label",{htmlFor:"certificadoMedico",children:"certificado medico "}),B.jsx("button",{onClick:()=>x("certificado medico pdf"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"ine",name:"ine",onChange:H,checked:!!JSON.parse(localStorage.req).ine}),B.jsx("label",{htmlFor:"ine",children:"INE"}),B.jsx("button",{onClick:()=>x("INE. Foto Por ambos lados escaneada"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"fotos",name:"fotos",onChange:H,checked:!!JSON.parse(localStorage.req).fotos}),B.jsx("label",{htmlFor:"fotos",children:"fotografia a color  "}),B.jsx("button",{onClick:()=>x("Fotografia a Color, fondo blanco, sin lentes, sin gorra, sin sombrero, cara despejada, digital"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"registrosDeArmas",name:"registrosDeArmas",onChange:H,checked:!!JSON.parse(localStorage.req).registrosDeArmas}),B.jsx("label",{htmlFor:"registrosDeArmas",children:"copia de registros de armas"}),B.jsx("button",{onClick:()=>x("Copia de Registro de Armas legible, si es que tiene"),children:"Detalles..."})]}),B.jsxs("div",{children:[B.jsx("input",{type:"checkbox",id:"certPsicologico",name:"certPsicologico",onChange:H,checked:!!JSON.parse(localStorage.req).certPsicologico}),B.jsx("label",{htmlFor:"certPsicologico",children:"Cita para Certificado psicologico "}),B.jsx("button",{onClick:()=>x("en oficina martes 11:30 con cita - da click en el boton de agendar cita"),children:"Detalles..."})]})]}),B.jsxs("modal",{className:Z?"outModal":"inModal ",children:[B.jsx("button",{className:"btnCerrarModal",onClick:()=>$(!Z),children:"⇦ Regresar "}),B.jsx("div",{className:"detallesContent",children:I})]}),B.jsxs("modal",{className:ae?"outModal":"inModal ",children:[B.jsx("button",{className:"btnCerrarModal",onClick:()=>ne(!ae),children:"⇦ Regresar "}),B.jsxs("div",{className:"detallesContent",children:[B.jsx("p",{children:"Tramitar carta no antecedentes penales Federal mediante pagina oficial"}),B.jsx("a",{style:{color:"steelblue"},href:"https://www.gob.mx/prevencionyreinsercion",target:"_blanck",children:"link ↗"})]})]}),B.jsxs("modalImg",{className:ce?"outModalImg":"inModalImg ",children:[B.jsx("button",{className:"btnCerrarModal",onClick:()=>N(!ce),children:"⇦ Regresar "}),B.jsx("img",{src:VB})]}),B.jsx("div",{className:z?"":"d-none",children:B.jsx(s2,{postUser:i,setFormContact:O})}),B.jsx("div",{className:"Agendar",children:B.jsx("button",{className:"button",onClick:()=>{O(!0),window.scrollTo({top:0})},children:" Agendar Examen Psicologico "})})]})},OB=({startLogout:n,status:e,user:t})=>B.jsxs("div",{className:"navbar navbar-dark bg-black mb-4 px-4",children:[B.jsxs("span",{className:"navbar-brand",children:[B.jsx("i",{className:"fas fa-calendar-alt"})," ",t," Club Deportivo De Tiro"]}),B.jsxs("div",{children:[B.jsx(Il,{className:"btn btn-primary mx-3",to:"/cdctypmazo",children:"INSCRIPCÍON"}),B.jsx(Il,{to:"/cdctypmazo/categorias",style:{color:"white"},className:"btn btn-info mx-1",children:"RENOVACIÓN"})]})]}),PB=()=>{const n={backgroundColor:"black",position:"absolute",bottom:"0",width:"100%",height:"200px",color:"white",marginTop:"50px",padding:"50px"};return B.jsxs("div",{style:n,children:[B.jsx("p",{children:"CAZADORES Y TIRADORES DEL DESIERTO DE SONORA, A. C."}),B.jsx("p",{children:"SAN LUIS POTOSI No. 158, COL. SAN BENITO, C.P.83190, HERMOSILLO, SON"})]})},MB=()=>{const{status:n,checkLogin:e,startLogin:t,startRegister:i,startLogout:a,user:l,sweetAlertMessage:c,defaultAlert:d}=EP();return Q.useEffect(()=>{c!==void 0&&(no.fire(c[0],c[1],c[2]),d())},[c]),B.jsxs("div",{children:[B.jsx(OB,{startLogout:a,user:l.nombre,status:n}),B.jsxs(aD,{children:[B.jsx(yl,{path:"/cdctypmazo/auth/login",element:B.jsx(wP,{startLogin:t,status:n})}),B.jsx(yl,{path:"/cdctypmazo/auth/register",element:B.jsx(bP,{startRegister:i,status:n})}),B.jsx(yl,{path:"/cdctypmazo/categorias",element:B.jsx(DB,{})}),B.jsx(yl,{path:"/cdctypmazo",element:B.jsx(NB,{})}),B.jsx(yl,{path:"/*",element:B.jsx(iD,{to:"/cdctypmazo"})})]})]})},kB=()=>B.jsx(hx,{store:CV,children:B.jsxs(DD,{children:[B.jsx(MB,{}),B.jsx(PB,{})]})});XC.createRoot(document.getElementById("root")).render(B.jsx(Ey.StrictMode,{children:B.jsx(kB,{})}));
